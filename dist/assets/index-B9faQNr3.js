function NS(r,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in r)){const u=Object.getOwnPropertyDescriptor(s,o);u&&Object.defineProperty(r,o,u.get?u:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function DS(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var bd={exports:{}},cl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b_;function xS(){if(b_)return cl;b_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var p in o)p!=="key"&&(u[p]=o[p])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return cl.Fragment=t,cl.jsx=n,cl.jsxs=n,cl}var R_;function OS(){return R_||(R_=1,bd.exports=xS()),bd.exports}var A=OS(),Rd={exports:{}},Rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w_;function VS(){if(w_)return Rt;w_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.iterator;function I(D){return D===null||typeof D!="object"?null:(D=b&&D[b]||D["@@iterator"],typeof D=="function"?D:null)}var q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},K=Object.assign,W={};function H(D,J,st){this.props=D,this.context=J,this.refs=W,this.updater=st||q}H.prototype.isReactComponent={},H.prototype.setState=function(D,J){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,J,"setState")},H.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function ct(){}ct.prototype=H.prototype;function et(D,J,st){this.props=D,this.context=J,this.refs=W,this.updater=st||q}var ot=et.prototype=new ct;ot.constructor=et,K(ot,H.prototype),ot.isPureReactComponent=!0;var At=Array.isArray,pt={H:null,A:null,T:null,S:null,V:null},Mt=Object.prototype.hasOwnProperty;function V(D,J,st,tt,mt,Ct){return st=Ct.ref,{$$typeof:r,type:D,key:J,ref:st!==void 0?st:null,props:Ct}}function R(D,J){return V(D.type,J,void 0,void 0,void 0,D.props)}function C(D){return typeof D=="object"&&D!==null&&D.$$typeof===r}function O(D){var J={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(st){return J[st]})}var M=/\/+/g;function U(D,J){return typeof D=="object"&&D!==null&&D.key!=null?O(""+D.key):J.toString(36)}function N(){}function Me(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(N,N):(D.status="pending",D.then(function(J){D.status==="pending"&&(D.status="fulfilled",D.value=J)},function(J){D.status==="pending"&&(D.status="rejected",D.reason=J)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function se(D,J,st,tt,mt){var Ct=typeof D;(Ct==="undefined"||Ct==="boolean")&&(D=null);var Tt=!1;if(D===null)Tt=!0;else switch(Ct){case"bigint":case"string":case"number":Tt=!0;break;case"object":switch(D.$$typeof){case r:case t:Tt=!0;break;case E:return Tt=D._init,se(Tt(D._payload),J,st,tt,mt)}}if(Tt)return mt=mt(D),Tt=tt===""?"."+U(D,0):tt,At(mt)?(st="",Tt!=null&&(st=Tt.replace(M,"$&/")+"/"),se(mt,J,st,"",function(Bn){return Bn})):mt!=null&&(C(mt)&&(mt=R(mt,st+(mt.key==null||D&&D.key===mt.key?"":(""+mt.key).replace(M,"$&/")+"/")+Tt)),J.push(mt)),1;Tt=0;var Ie=tt===""?".":tt+":";if(At(D))for(var Jt=0;Jt<D.length;Jt++)tt=D[Jt],Ct=Ie+U(tt,Jt),Tt+=se(tt,J,st,Ct,mt);else if(Jt=I(D),typeof Jt=="function")for(D=Jt.call(D),Jt=0;!(tt=D.next()).done;)tt=tt.value,Ct=Ie+U(tt,Jt++),Tt+=se(tt,J,st,Ct,mt);else if(Ct==="object"){if(typeof D.then=="function")return se(Me(D),J,st,tt,mt);throw J=String(D),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return Tt}function F(D,J,st){if(D==null)return D;var tt=[],mt=0;return se(D,tt,"","",function(Ct){return J.call(st,Ct,mt++)}),tt}function it(D){if(D._status===-1){var J=D._result;J=J(),J.then(function(st){(D._status===0||D._status===-1)&&(D._status=1,D._result=st)},function(st){(D._status===0||D._status===-1)&&(D._status=2,D._result=st)}),D._status===-1&&(D._status=0,D._result=J)}if(D._status===1)return D._result.default;throw D._result}var ft=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function zt(){}return Rt.Children={map:F,forEach:function(D,J,st){F(D,function(){J.apply(this,arguments)},st)},count:function(D){var J=0;return F(D,function(){J++}),J},toArray:function(D){return F(D,function(J){return J})||[]},only:function(D){if(!C(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Rt.Component=H,Rt.Fragment=n,Rt.Profiler=o,Rt.PureComponent=et,Rt.StrictMode=s,Rt.Suspense=g,Rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=pt,Rt.__COMPILER_RUNTIME={__proto__:null,c:function(D){return pt.H.useMemoCache(D)}},Rt.cache=function(D){return function(){return D.apply(null,arguments)}},Rt.cloneElement=function(D,J,st){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var tt=K({},D.props),mt=D.key,Ct=void 0;if(J!=null)for(Tt in J.ref!==void 0&&(Ct=void 0),J.key!==void 0&&(mt=""+J.key),J)!Mt.call(J,Tt)||Tt==="key"||Tt==="__self"||Tt==="__source"||Tt==="ref"&&J.ref===void 0||(tt[Tt]=J[Tt]);var Tt=arguments.length-2;if(Tt===1)tt.children=st;else if(1<Tt){for(var Ie=Array(Tt),Jt=0;Jt<Tt;Jt++)Ie[Jt]=arguments[Jt+2];tt.children=Ie}return V(D.type,mt,void 0,void 0,Ct,tt)},Rt.createContext=function(D){return D={$$typeof:f,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:u,_context:D},D},Rt.createElement=function(D,J,st){var tt,mt={},Ct=null;if(J!=null)for(tt in J.key!==void 0&&(Ct=""+J.key),J)Mt.call(J,tt)&&tt!=="key"&&tt!=="__self"&&tt!=="__source"&&(mt[tt]=J[tt]);var Tt=arguments.length-2;if(Tt===1)mt.children=st;else if(1<Tt){for(var Ie=Array(Tt),Jt=0;Jt<Tt;Jt++)Ie[Jt]=arguments[Jt+2];mt.children=Ie}if(D&&D.defaultProps)for(tt in Tt=D.defaultProps,Tt)mt[tt]===void 0&&(mt[tt]=Tt[tt]);return V(D,Ct,void 0,void 0,null,mt)},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(D){return{$$typeof:p,render:D}},Rt.isValidElement=C,Rt.lazy=function(D){return{$$typeof:E,_payload:{_status:-1,_result:D},_init:it}},Rt.memo=function(D,J){return{$$typeof:y,type:D,compare:J===void 0?null:J}},Rt.startTransition=function(D){var J=pt.T,st={};pt.T=st;try{var tt=D(),mt=pt.S;mt!==null&&mt(st,tt),typeof tt=="object"&&tt!==null&&typeof tt.then=="function"&&tt.then(zt,ft)}catch(Ct){ft(Ct)}finally{pt.T=J}},Rt.unstable_useCacheRefresh=function(){return pt.H.useCacheRefresh()},Rt.use=function(D){return pt.H.use(D)},Rt.useActionState=function(D,J,st){return pt.H.useActionState(D,J,st)},Rt.useCallback=function(D,J){return pt.H.useCallback(D,J)},Rt.useContext=function(D){return pt.H.useContext(D)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(D,J){return pt.H.useDeferredValue(D,J)},Rt.useEffect=function(D,J,st){var tt=pt.H;if(typeof st=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return tt.useEffect(D,J)},Rt.useId=function(){return pt.H.useId()},Rt.useImperativeHandle=function(D,J,st){return pt.H.useImperativeHandle(D,J,st)},Rt.useInsertionEffect=function(D,J){return pt.H.useInsertionEffect(D,J)},Rt.useLayoutEffect=function(D,J){return pt.H.useLayoutEffect(D,J)},Rt.useMemo=function(D,J){return pt.H.useMemo(D,J)},Rt.useOptimistic=function(D,J){return pt.H.useOptimistic(D,J)},Rt.useReducer=function(D,J,st){return pt.H.useReducer(D,J,st)},Rt.useRef=function(D){return pt.H.useRef(D)},Rt.useState=function(D){return pt.H.useState(D)},Rt.useSyncExternalStore=function(D,J,st){return pt.H.useSyncExternalStore(D,J,st)},Rt.useTransition=function(){return pt.H.useTransition()},Rt.version="19.1.0",Rt}var I_;function mm(){return I_||(I_=1,Rd.exports=VS()),Rd.exports}var rt=mm();const MS=DS(rt),PS=NS({__proto__:null,default:MS},[rt]);var wd={exports:{}},hl={},Id={exports:{}},Cd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C_;function US(){return C_||(C_=1,function(r){function t(F,it){var ft=F.length;F.push(it);t:for(;0<ft;){var zt=ft-1>>>1,D=F[zt];if(0<o(D,it))F[zt]=it,F[ft]=D,ft=zt;else break t}}function n(F){return F.length===0?null:F[0]}function s(F){if(F.length===0)return null;var it=F[0],ft=F.pop();if(ft!==it){F[0]=ft;t:for(var zt=0,D=F.length,J=D>>>1;zt<J;){var st=2*(zt+1)-1,tt=F[st],mt=st+1,Ct=F[mt];if(0>o(tt,ft))mt<D&&0>o(Ct,tt)?(F[zt]=Ct,F[mt]=ft,zt=mt):(F[zt]=tt,F[st]=ft,zt=st);else if(mt<D&&0>o(Ct,ft))F[zt]=Ct,F[mt]=ft,zt=mt;else break t}}return it}function o(F,it){var ft=F.sortIndex-it.sortIndex;return ft!==0?ft:F.id-it.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,p=f.now();r.unstable_now=function(){return f.now()-p}}var g=[],y=[],E=1,b=null,I=3,q=!1,K=!1,W=!1,H=!1,ct=typeof setTimeout=="function"?setTimeout:null,et=typeof clearTimeout=="function"?clearTimeout:null,ot=typeof setImmediate<"u"?setImmediate:null;function At(F){for(var it=n(y);it!==null;){if(it.callback===null)s(y);else if(it.startTime<=F)s(y),it.sortIndex=it.expirationTime,t(g,it);else break;it=n(y)}}function pt(F){if(W=!1,At(F),!K)if(n(g)!==null)K=!0,Mt||(Mt=!0,U());else{var it=n(y);it!==null&&se(pt,it.startTime-F)}}var Mt=!1,V=-1,R=5,C=-1;function O(){return H?!0:!(r.unstable_now()-C<R)}function M(){if(H=!1,Mt){var F=r.unstable_now();C=F;var it=!0;try{t:{K=!1,W&&(W=!1,et(V),V=-1),q=!0;var ft=I;try{e:{for(At(F),b=n(g);b!==null&&!(b.expirationTime>F&&O());){var zt=b.callback;if(typeof zt=="function"){b.callback=null,I=b.priorityLevel;var D=zt(b.expirationTime<=F);if(F=r.unstable_now(),typeof D=="function"){b.callback=D,At(F),it=!0;break e}b===n(g)&&s(g),At(F)}else s(g);b=n(g)}if(b!==null)it=!0;else{var J=n(y);J!==null&&se(pt,J.startTime-F),it=!1}}break t}finally{b=null,I=ft,q=!1}it=void 0}}finally{it?U():Mt=!1}}}var U;if(typeof ot=="function")U=function(){ot(M)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,Me=N.port2;N.port1.onmessage=M,U=function(){Me.postMessage(null)}}else U=function(){ct(M,0)};function se(F,it){V=ct(function(){F(r.unstable_now())},it)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(F){F.callback=null},r.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<F?Math.floor(1e3/F):5},r.unstable_getCurrentPriorityLevel=function(){return I},r.unstable_next=function(F){switch(I){case 1:case 2:case 3:var it=3;break;default:it=I}var ft=I;I=it;try{return F()}finally{I=ft}},r.unstable_requestPaint=function(){H=!0},r.unstable_runWithPriority=function(F,it){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ft=I;I=F;try{return it()}finally{I=ft}},r.unstable_scheduleCallback=function(F,it,ft){var zt=r.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?zt+ft:zt):ft=zt,F){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=ft+D,F={id:E++,callback:it,priorityLevel:F,startTime:ft,expirationTime:D,sortIndex:-1},ft>zt?(F.sortIndex=ft,t(y,F),n(g)===null&&F===n(y)&&(W?(et(V),V=-1):W=!0,se(pt,ft-zt))):(F.sortIndex=D,t(g,F),K||q||(K=!0,Mt||(Mt=!0,U()))),F},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(F){var it=I;return function(){var ft=I;I=it;try{return F.apply(this,arguments)}finally{I=ft}}}}(Cd)),Cd}var N_;function kS(){return N_||(N_=1,Id.exports=US()),Id.exports}var Nd={exports:{}},Fe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D_;function LS(){if(D_)return Fe;D_=1;var r=mm();function t(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,y,E){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:g,containerInfo:y,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Fe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Fe.createPortal=function(g,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return u(g,y,null,E)},Fe.flushSync=function(g){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,g)return g()}finally{f.T=y,s.p=E,s.d.f()}},Fe.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},Fe.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Fe.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var E=y.as,b=p(E,y.crossOrigin),I=typeof y.integrity=="string"?y.integrity:void 0,q=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:I,fetchPriority:q}):E==="script"&&s.d.X(g,{crossOrigin:b,integrity:I,fetchPriority:q,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Fe.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=p(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},Fe.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,b=p(E,y.crossOrigin);s.d.L(g,E,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Fe.preloadModule=function(g,y){if(typeof g=="string")if(y){var E=p(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},Fe.requestFormReset=function(g){s.d.r(g)},Fe.unstable_batchedUpdates=function(g,y){return g(y)},Fe.useFormState=function(g,y,E){return f.H.useFormState(g,y,E)},Fe.useFormStatus=function(){return f.H.useHostTransitionStatus()},Fe.version="19.1.0",Fe}var x_;function _0(){if(x_)return Nd.exports;x_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Nd.exports=LS(),Nd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O_;function jS(){if(O_)return hl;O_=1;var r=kS(),t=mm(),n=_0();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function f(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function p(e){if(u(e)!==e)throw Error(s(188))}function g(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),e;if(d===l)return p(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,l=d;break}if(T===l){v=!0,l=h,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,l=h;break}if(T===l){v=!0,l=d,a=h;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function y(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=y(e),i!==null)return i;e=e.sibling}return null}var E=Object.assign,b=Symbol.for("react.element"),I=Symbol.for("react.transitional.element"),q=Symbol.for("react.portal"),K=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),ct=Symbol.for("react.provider"),et=Symbol.for("react.consumer"),ot=Symbol.for("react.context"),At=Symbol.for("react.forward_ref"),pt=Symbol.for("react.suspense"),Mt=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=M&&e[M]||e["@@iterator"],typeof e=="function"?e:null)}var N=Symbol.for("react.client.reference");function Me(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===N?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case K:return"Fragment";case H:return"Profiler";case W:return"StrictMode";case pt:return"Suspense";case Mt:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case q:return"Portal";case ot:return(e.displayName||"Context")+".Provider";case et:return(e._context.displayName||"Context")+".Consumer";case At:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case V:return i=e.displayName||null,i!==null?i:Me(e.type)||"Memo";case R:i=e._payload,e=e._init;try{return Me(e(i))}catch{}}return null}var se=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},zt=[],D=-1;function J(e){return{current:e}}function st(e){0>D||(e.current=zt[D],zt[D]=null,D--)}function tt(e,i){D++,zt[D]=e.current,e.current=i}var mt=J(null),Ct=J(null),Tt=J(null),Ie=J(null);function Jt(e,i){switch(tt(Tt,i),tt(Ct,e),tt(mt,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?Jy(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=Jy(i),e=Wy(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}st(mt),tt(mt,e)}function Bn(){st(mt),st(Ct),st(Tt)}function Fi(e){e.memoizedState!==null&&tt(Ie,e);var i=mt.current,a=Wy(i,e.type);i!==a&&(tt(Ct,e),tt(mt,a))}function ci(e){Ct.current===e&&(st(mt),st(Ct)),Ie.current===e&&(st(Ie),sl._currentValue=ft)}var Lr=Object.prototype.hasOwnProperty,jr=r.unstable_scheduleCallback,zr=r.unstable_cancelCallback,eo=r.unstable_shouldYield,Xl=r.unstable_requestPaint,gn=r.unstable_now,Sh=r.unstable_getCurrentPriorityLevel,no=r.unstable_ImmediatePriority,ks=r.unstable_UserBlockingPriority,Br=r.unstable_NormalPriority,bh=r.unstable_LowPriority,Ls=r.unstable_IdlePriority,io=r.log,$l=r.unstable_setDisableYieldValue,ae=null,Gt=null;function sn(e){if(typeof io=="function"&&$l(e),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(ae,e)}catch{}}var He=Math.clz32?Math.clz32:qr,Zl=Math.log,Rh=Math.LN2;function qr(e){return e>>>=0,e===0?32:31-(Zl(e)/Rh|0)|0}var Hr=256,Gr=4194304;function Dn(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function js(e,i,a){var l=e.pendingLanes;if(l===0)return 0;var h=0,d=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=Dn(l):(v&=T,v!==0?h=Dn(v):a||(a=T&~e,a!==0&&(h=Dn(a))))):(T=l&~d,T!==0?h=Dn(T):v!==0?h=Dn(v):a||(a=l&~e,a!==0&&(h=Dn(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Fr(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function ro(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function so(){var e=Hr;return Hr<<=1,(Hr&4194048)===0&&(Hr=256),e}function ao(){var e=Gr;return Gr<<=1,(Gr&62914560)===0&&(Gr=4194304),e}function hi(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function fi(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function oo(e,i,a,l,h,d){var v=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var T=e.entanglements,w=e.expirationTimes,j=e.hiddenUpdates;for(a=v&~a;0<a;){var Q=31-He(a),X=1<<Q;T[Q]=0,w[Q]=-1;var z=j[Q];if(z!==null)for(j[Q]=null,Q=0;Q<z.length;Q++){var B=z[Q];B!==null&&(B.lane&=-536870913)}a&=~X}l!==0&&qn(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(v&~i))}function qn(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-He(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|a&4194090}function lo(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var l=31-He(a),h=1<<l;h&i|e[l]&i&&(e[l]|=i),a&=~h}}function Qi(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function zs(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ki(){var e=it.p;return e!==0?e:(e=window.event,e===void 0?32:__(e.type))}function Jl(e,i){var a=it.p;try{return it.p=e,i()}finally{it.p=a}}var ee=Math.random().toString(36).slice(2),Ee="__reactFiber$"+ee,de="__reactProps$"+ee,yn="__reactContainer$"+ee,uo="__reactEvents$"+ee,wh="__reactListeners$"+ee,Yi="__reactHandles$"+ee,Wl="__reactResources$"+ee,Qr="__reactMarker$"+ee;function Xi(e){delete e[Ee],delete e[de],delete e[uo],delete e[wh],delete e[Yi]}function di(e){var i=e[Ee];if(i)return i;for(var a=e.parentNode;a;){if(i=a[yn]||a[Ee]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=i_(e);e!==null;){if(a=e[Ee])return a;e=i_(e)}return i}e=a,a=e.parentNode}return null}function Hn(e){if(e=e[Ee]||e[yn]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function Gn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function $e(e){var i=e[Wl];return i||(i=e[Wl]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ue(e){e[Qr]=!0}var co=new Set,Bs={};function xn(e,i){mi(e,i),mi(e+"Capture",i)}function mi(e,i){for(Bs[e]=i,e=0;e<i.length;e++)co.add(i[e])}var tu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),eu={},Kr={};function nu(e){return Lr.call(Kr,e)?!0:Lr.call(eu,e)?!1:tu.test(e)?Kr[e]=!0:(eu[e]=!0,!1)}function $i(e,i,a){if(nu(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function Fn(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function Pe(e,i,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+l)}}var Yr,iu;function pi(e){if(Yr===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Yr=i&&i[1]||"",iu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Yr+e+iu}var qs=!1;function Hs(e,i){if(!e||qs)return"";qs=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(B){var z=B}Reflect.construct(e,[],X)}else{try{X.call()}catch(B){z=B}e.call(X.prototype)}}else{try{throw Error()}catch(B){z=B}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(B){if(B&&z&&typeof B.stack=="string")return[B.stack,z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var w=v.split(`
`),j=T.split(`
`);for(h=l=0;l<w.length&&!w[l].includes("DetermineComponentFrameRoot");)l++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(l===w.length||h===j.length)for(l=w.length-1,h=j.length-1;1<=l&&0<=h&&w[l]!==j[h];)h--;for(;1<=l&&0<=h;l--,h--)if(w[l]!==j[h]){if(l!==1||h!==1)do if(l--,h--,0>h||w[l]!==j[h]){var Q=`
`+w[l].replace(" at new "," at ");return e.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",e.displayName)),Q}while(1<=l&&0<=h);break}}}finally{qs=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?pi(a):""}function ho(e){switch(e.tag){case 26:case 27:case 5:return pi(e.type);case 16:return pi("Lazy");case 13:return pi("Suspense");case 19:return pi("SuspenseList");case 0:case 15:return Hs(e.type,!1);case 11:return Hs(e.type.render,!1);case 1:return Hs(e.type,!0);case 31:return pi("Activity");default:return""}}function Gs(e){try{var i="";do i+=ho(e),e=e.return;while(e);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Ze(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function fo(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ih(e){var i=fo(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),l=""+e[i];if(!e.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(e,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Fs(e){e._valueTracker||(e._valueTracker=Ih(e))}function mo(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return e&&(l=fo(e)?e.checked?"true":"false":e.value),e=l,e!==a?(i.setValue(e),!0):!1}function Xr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ch=/[\n"\\]/g;function me(e){return e.replace(Ch,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function an(e,i,a,l,h,d,v,T){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),i!=null?v==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+Ze(i)):e.value!==""+Ze(i)&&(e.value=""+Ze(i)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),i!=null?Zi(e,v,Ze(i)):a!=null?Zi(e,v,Ze(a)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+Ze(T):e.removeAttribute("name")}function $r(e,i,a,l,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+Ze(a):"",i=i!=null?""+Ze(i):a,T||i===e.value||(e.value=i),e.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=T?e.checked:!!l,e.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function Zi(e,i,a){i==="number"&&Xr(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function gi(e,i,a,l){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+Ze(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function Kt(e,i,a){if(i!=null&&(i=""+Ze(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+Ze(a):""}function Zr(e,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(se(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Ze(i),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l)}function _n(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var Jr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ru(e,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,a):typeof a!="number"||a===0||Jr.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function po(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&ru(e,h,l)}else for(var d in i)i.hasOwnProperty(d)&&ru(e,d,i[d])}function go(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Dh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Qs(e){return Dh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var yi=null;function vn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _i=null,vi=null;function yo(e){var i=Hn(e);if(i&&(e=i.stateNode)){var a=e[de]||null;t:switch(e=i.stateNode,i.type){case"input":if(an(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+me(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==e&&l.form===e.form){var h=l[de]||null;if(!h)throw Error(s(90));an(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===e.form&&mo(l)}break t;case"textarea":Kt(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&gi(e,!!a.multiple,i,!1)}}}var Qn=!1;function su(e,i,a){if(Qn)return e(i,a);Qn=!0;try{var l=e(i);return l}finally{if(Qn=!1,(_i!==null||vi!==null)&&(Ju(),_i&&(i=_i,e=vi,vi=_i=null,yo(i),e)))for(i=0;i<e.length;i++)yo(e[i])}}function Wr(e,i){var a=e.stateNode;if(a===null)return null;var l=a[de]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var On=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),En=!1;if(On)try{var ts={};Object.defineProperty(ts,"passive",{get:function(){En=!0}}),window.addEventListener("test",ts,ts),window.removeEventListener("test",ts,ts)}catch{En=!1}var Kn=null,Ji=null,Ei=null;function _o(){if(Ei)return Ei;var e,i=Ji,a=i.length,l,h="value"in Kn?Kn.value:Kn.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var v=a-e;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return Ei=h.slice(e,1<l?1-l:void 0)}function Yn(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Xn(){return!0}function vo(){return!1}function Ce(e){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(a=e[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Xn:vo,this.isPropagationStopped=vo,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Xn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Xn)},persist:function(){},isPersistent:Xn}),i}var qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ks=Ce(qt),es=E({},qt,{view:0,detail:0}),au=Ce(es),Ys,Xs,$n,ns=E({},es,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ss,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$n&&($n&&e.type==="mousemove"?(Ys=e.screenX-$n.screenX,Xs=e.screenY-$n.screenY):Xs=Ys=0,$n=e),Ys)},movementY:function(e){return"movementY"in e?e.movementY:Xs}}),Tn=Ce(ns),ou=E({},ns,{dataTransfer:0}),xh=Ce(ou),is=E({},es,{relatedTarget:0}),$s=Ce(is),Eo=E({},qt,{animationName:0,elapsedTime:0,pseudoElement:0}),Zs=Ce(Eo),lu=E({},qt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Js=Ce(lu),Oh=E({},qt,{data:0}),To=Ce(Oh),rs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ao(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=cu[e])?!!i[e]:!1}function ss(){return Ao}var hu=E({},es,{key:function(e){if(e.key){var i=rs[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Yn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?uu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ss,charCode:function(e){return e.type==="keypress"?Yn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Yn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ws=Ce(hu),fu=E({},ns,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),So=Ce(fu),Ti=E({},es,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ss}),du=Ce(Ti),mu=E({},qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),pu=Ce(mu),gu=E({},ns,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ta=Ce(gu),Je=E({},qt,{newState:0,oldState:0}),yu=Ce(Je),_u=[9,13,27,32],Zn=On&&"CompositionEvent"in window,c=null;On&&"documentMode"in document&&(c=document.documentMode);var m=On&&"TextEvent"in window&&!c,_=On&&(!Zn||c&&8<c&&11>=c),S=" ",k=!1;function G(e,i){switch(e){case"keyup":return _u.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nt(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Pt=!1;function Te(e,i){switch(e){case"compositionend":return nt(i);case"keypress":return i.which!==32?null:(k=!0,S);case"textInput":return e=i.data,e===S&&k?null:e;default:return null}}function Ut(e,i){if(Pt)return e==="compositionend"||!Zn&&G(e,i)?(e=_o(),Ei=Ji=Kn=null,Pt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var Ne={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ae(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!Ne[e.type]:i==="textarea"}function Ai(e,i,a,l){_i?vi?vi.push(l):vi=[l]:_i=l,i=rc(i,"onChange"),0<i.length&&(a=new Ks("onChange","change",null,a,l),e.push({event:a,listeners:i}))}var Ue=null,Jn=null;function bo(e){Ky(e,0)}function vu(e){var i=Gn(e);if(mo(i))return e}function mp(e,i){if(e==="change")return i}var pp=!1;if(On){var Vh;if(On){var Mh="oninput"in document;if(!Mh){var gp=document.createElement("div");gp.setAttribute("oninput","return;"),Mh=typeof gp.oninput=="function"}Vh=Mh}else Vh=!1;pp=Vh&&(!document.documentMode||9<document.documentMode)}function yp(){Ue&&(Ue.detachEvent("onpropertychange",_p),Jn=Ue=null)}function _p(e){if(e.propertyName==="value"&&vu(Jn)){var i=[];Ai(i,Jn,e,vn(e)),su(bo,i)}}function sA(e,i,a){e==="focusin"?(yp(),Ue=i,Jn=a,Ue.attachEvent("onpropertychange",_p)):e==="focusout"&&yp()}function aA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return vu(Jn)}function oA(e,i){if(e==="click")return vu(i)}function lA(e,i){if(e==="input"||e==="change")return vu(i)}function uA(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var on=typeof Object.is=="function"?Object.is:uA;function Ro(e,i){if(on(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Lr.call(i,h)||!on(e[h],i[h]))return!1}return!0}function vp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ep(e,i){var a=vp(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=i&&l>=i)return{node:a,offset:i-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=vp(a)}}function Tp(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Tp(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Ap(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=Xr(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=Xr(e.document)}return i}function Ph(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var cA=On&&"documentMode"in document&&11>=document.documentMode,ea=null,Uh=null,wo=null,kh=!1;function Sp(e,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;kh||ea==null||ea!==Xr(l)||(l=ea,"selectionStart"in l&&Ph(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),wo&&Ro(wo,l)||(wo=l,l=rc(Uh,"onSelect"),0<l.length&&(i=new Ks("onSelect","select",null,i,a),e.push({event:i,listeners:l}),i.target=ea)))}function as(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var na={animationend:as("Animation","AnimationEnd"),animationiteration:as("Animation","AnimationIteration"),animationstart:as("Animation","AnimationStart"),transitionrun:as("Transition","TransitionRun"),transitionstart:as("Transition","TransitionStart"),transitioncancel:as("Transition","TransitionCancel"),transitionend:as("Transition","TransitionEnd")},Lh={},bp={};On&&(bp=document.createElement("div").style,"AnimationEvent"in window||(delete na.animationend.animation,delete na.animationiteration.animation,delete na.animationstart.animation),"TransitionEvent"in window||delete na.transitionend.transition);function os(e){if(Lh[e])return Lh[e];if(!na[e])return e;var i=na[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in bp)return Lh[e]=i[a];return e}var Rp=os("animationend"),wp=os("animationiteration"),Ip=os("animationstart"),hA=os("transitionrun"),fA=os("transitionstart"),dA=os("transitioncancel"),Cp=os("transitionend"),Np=new Map,jh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");jh.push("scrollEnd");function Vn(e,i){Np.set(e,i),xn(i,[e])}var Dp=new WeakMap;function An(e,i){if(typeof e=="object"&&e!==null){var a=Dp.get(e);return a!==void 0?a:(i={value:e,source:i,stack:Gs(i)},Dp.set(e,i),i)}return{value:e,source:i,stack:Gs(i)}}var Sn=[],ia=0,zh=0;function Eu(){for(var e=ia,i=zh=ia=0;i<e;){var a=Sn[i];Sn[i++]=null;var l=Sn[i];Sn[i++]=null;var h=Sn[i];Sn[i++]=null;var d=Sn[i];if(Sn[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&xp(a,h,d)}}function Tu(e,i,a,l){Sn[ia++]=e,Sn[ia++]=i,Sn[ia++]=a,Sn[ia++]=l,zh|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Bh(e,i,a,l){return Tu(e,i,a,l),Au(e)}function ra(e,i){return Tu(e,null,null,i),Au(e)}function xp(e,i,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&i!==null&&(h=31-He(a),e=d.hiddenUpdates,l=e[h],l===null?e[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Au(e){if(50<Zo)throw Zo=0,Yf=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var sa={};function mA(e,i,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ln(e,i,a,l){return new mA(e,i,a,l)}function qh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Si(e,i){var a=e.alternate;return a===null?(a=ln(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Op(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Su(e,i,a,l,h,d){var v=0;if(l=e,typeof e=="function")qh(e)&&(v=1);else if(typeof e=="string")v=gS(e,a,mt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=ln(31,a,i,h),e.elementType=C,e.lanes=d,e;case K:return ls(a.children,h,d,i);case W:v=8,h|=24;break;case H:return e=ln(12,a,i,h|2),e.elementType=H,e.lanes=d,e;case pt:return e=ln(13,a,i,h),e.elementType=pt,e.lanes=d,e;case Mt:return e=ln(19,a,i,h),e.elementType=Mt,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ct:case ot:v=10;break t;case et:v=9;break t;case At:v=11;break t;case V:v=14;break t;case R:v=16,l=null;break t}v=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return i=ln(v,a,i,h),i.elementType=e,i.type=l,i.lanes=d,i}function ls(e,i,a,l){return e=ln(7,e,l,i),e.lanes=a,e}function Hh(e,i,a){return e=ln(6,e,null,i),e.lanes=a,e}function Gh(e,i,a){return i=ln(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var aa=[],oa=0,bu=null,Ru=0,bn=[],Rn=0,us=null,bi=1,Ri="";function cs(e,i){aa[oa++]=Ru,aa[oa++]=bu,bu=e,Ru=i}function Vp(e,i,a){bn[Rn++]=bi,bn[Rn++]=Ri,bn[Rn++]=us,us=e;var l=bi;e=Ri;var h=32-He(l)-1;l&=~(1<<h),a+=1;var d=32-He(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,bi=1<<32-He(i)+h|a<<h|l,Ri=d+e}else bi=1<<d|a<<h|l,Ri=e}function Fh(e){e.return!==null&&(cs(e,1),Vp(e,1,0))}function Qh(e){for(;e===bu;)bu=aa[--oa],aa[oa]=null,Ru=aa[--oa],aa[oa]=null;for(;e===us;)us=bn[--Rn],bn[Rn]=null,Ri=bn[--Rn],bn[Rn]=null,bi=bn[--Rn],bn[Rn]=null}var We=null,oe=null,Bt=!1,hs=null,Wn=!1,Kh=Error(s(519));function fs(e){var i=Error(s(418,""));throw No(An(i,e)),Kh}function Mp(e){var i=e.stateNode,a=e.type,l=e.memoizedProps;switch(i[Ee]=e,i[de]=l,a){case"dialog":xt("cancel",i),xt("close",i);break;case"iframe":case"object":case"embed":xt("load",i);break;case"video":case"audio":for(a=0;a<Wo.length;a++)xt(Wo[a],i);break;case"source":xt("error",i);break;case"img":case"image":case"link":xt("error",i),xt("load",i);break;case"details":xt("toggle",i);break;case"input":xt("invalid",i),$r(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Fs(i);break;case"select":xt("invalid",i);break;case"textarea":xt("invalid",i),Zr(i,l.value,l.defaultValue,l.children),Fs(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||Zy(i.textContent,a)?(l.popover!=null&&(xt("beforetoggle",i),xt("toggle",i)),l.onScroll!=null&&xt("scroll",i),l.onScrollEnd!=null&&xt("scrollend",i),l.onClick!=null&&(i.onclick=sc),i=!0):i=!1,i||fs(e)}function Pp(e){for(We=e.return;We;)switch(We.tag){case 5:case 13:Wn=!1;return;case 27:case 3:Wn=!0;return;default:We=We.return}}function Io(e){if(e!==We)return!1;if(!Bt)return Pp(e),Bt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||cd(e.type,e.memoizedProps)),a=!a),a&&oe&&fs(e),Pp(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(i===0){oe=Pn(e.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;e=e.nextSibling}oe=null}}else i===27?(i=oe,mr(e.type)?(e=md,md=null,oe=e):oe=i):oe=We?Pn(e.stateNode.nextSibling):null;return!0}function Co(){oe=We=null,Bt=!1}function Up(){var e=hs;return e!==null&&(nn===null?nn=e:nn.push.apply(nn,e),hs=null),e}function No(e){hs===null?hs=[e]:hs.push(e)}var Yh=J(null),ds=null,wi=null;function Wi(e,i,a){tt(Yh,i._currentValue),i._currentValue=a}function Ii(e){e._currentValue=Yh.current,st(Yh)}function Xh(e,i,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===a)break;e=e.return}}function $h(e,i,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;t:for(;d!==null;){var T=d;d=h;for(var w=0;w<i.length;w++)if(T.context===i[w]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),Xh(d.return,a,e),l||(v=null);break t}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Xh(v,a,e),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===e){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Do(e,i,a,l){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=h.type;on(h.pendingProps.value,v.value)||(e!==null?e.push(T):e=[T])}}else if(h===Ie.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(sl):e=[sl])}h=h.return}e!==null&&$h(i,e,a,l),i.flags|=262144}function wu(e){for(e=e.firstContext;e!==null;){if(!on(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ms(e){ds=e,wi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ge(e){return kp(ds,e)}function Iu(e,i){return ds===null&&ms(e),kp(e,i)}function kp(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},wi===null){if(e===null)throw Error(s(308));wi=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else wi=wi.next=i;return a}var pA=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},gA=r.unstable_scheduleCallback,yA=r.unstable_NormalPriority,Se={$$typeof:ot,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zh(){return{controller:new pA,data:new Map,refCount:0}}function xo(e){e.refCount--,e.refCount===0&&gA(yA,function(){e.controller.abort()})}var Oo=null,Jh=0,la=0,ua=null;function _A(e,i){if(Oo===null){var a=Oo=[];Jh=0,la=ed(),ua={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Jh++,i.then(Lp,Lp),i}function Lp(){if(--Jh===0&&Oo!==null){ua!==null&&(ua.status="fulfilled");var e=Oo;Oo=null,la=0,ua=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function vA(e,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var jp=F.S;F.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&_A(e,i),jp!==null&&jp(e,i)};var ps=J(null);function Wh(){var e=ps.current;return e!==null?e:Wt.pooledCache}function Cu(e,i){i===null?tt(ps,ps.current):tt(ps,i.pool)}function zp(){var e=Wh();return e===null?null:{parent:Se._currentValue,pool:e}}var Vo=Error(s(460)),Bp=Error(s(474)),Nu=Error(s(542)),tf={then:function(){}};function qp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Du(){}function Hp(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(Du,Du),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Fp(e),e;default:if(typeof i.status=="string")i.then(Du,Du);else{if(e=Wt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Fp(e),e}throw Mo=i,Vo}}var Mo=null;function Gp(){if(Mo===null)throw Error(s(459));var e=Mo;return Mo=null,e}function Fp(e){if(e===Vo||e===Nu)throw Error(s(483))}var tr=!1;function ef(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function nf(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function er(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function nr(e,i,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Ft&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Au(e),xp(e,null,a),i}return Tu(e,l,i,a),Au(e)}function Po(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,lo(e,a)}}function rf(e,i){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var sf=!1;function Uo(){if(sf){var e=ua;if(e!==null)throw e}}function ko(e,i,a,l){sf=!1;var h=e.updateQueue;tr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var w=T,j=w.next;w.next=null,v===null?d=j:v.next=j,v=w;var Q=e.alternate;Q!==null&&(Q=Q.updateQueue,T=Q.lastBaseUpdate,T!==v&&(T===null?Q.firstBaseUpdate=j:T.next=j,Q.lastBaseUpdate=w))}if(d!==null){var X=h.baseState;v=0,Q=j=w=null,T=d;do{var z=T.lane&-536870913,B=z!==T.lane;if(B?(kt&z)===z:(l&z)===z){z!==0&&z===la&&(sf=!0),Q!==null&&(Q=Q.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var vt=e,gt=T;z=i;var $t=a;switch(gt.tag){case 1:if(vt=gt.payload,typeof vt=="function"){X=vt.call($t,X,z);break t}X=vt;break t;case 3:vt.flags=vt.flags&-65537|128;case 0:if(vt=gt.payload,z=typeof vt=="function"?vt.call($t,X,z):vt,z==null)break t;X=E({},X,z);break t;case 2:tr=!0}}z=T.callback,z!==null&&(e.flags|=64,B&&(e.flags|=8192),B=h.callbacks,B===null?h.callbacks=[z]:B.push(z))}else B={lane:z,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Q===null?(j=Q=B,w=X):Q=Q.next=B,v|=z;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;B=T,T=B.next,B.next=null,h.lastBaseUpdate=B,h.shared.pending=null}}while(!0);Q===null&&(w=X),h.baseState=w,h.firstBaseUpdate=j,h.lastBaseUpdate=Q,d===null&&(h.shared.lanes=0),cr|=v,e.lanes=v,e.memoizedState=X}}function Qp(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function Kp(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Qp(a[e],i)}var ca=J(null),xu=J(0);function Yp(e,i){e=Mi,tt(xu,e),tt(ca,i),Mi=e|i.baseLanes}function af(){tt(xu,Mi),tt(ca,ca.current)}function of(){Mi=xu.current,st(ca),st(xu)}var ir=0,wt=null,Yt=null,pe=null,Ou=!1,ha=!1,gs=!1,Vu=0,Lo=0,fa=null,EA=0;function ce(){throw Error(s(321))}function lf(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!on(e[a],i[a]))return!1;return!0}function uf(e,i,a,l,h,d){return ir=d,wt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,F.H=e===null||e.memoizedState===null?xg:Og,gs=!1,d=a(l,h),gs=!1,ha&&(d=$p(i,a,l,h)),Xp(e),d}function Xp(e){F.H=ju;var i=Yt!==null&&Yt.next!==null;if(ir=0,pe=Yt=wt=null,Ou=!1,Lo=0,fa=null,i)throw Error(s(300));e===null||De||(e=e.dependencies,e!==null&&wu(e)&&(De=!0))}function $p(e,i,a,l){wt=e;var h=0;do{if(ha&&(fa=null),Lo=0,ha=!1,25<=h)throw Error(s(301));if(h+=1,pe=Yt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}F.H=IA,d=i(a,l)}while(ha);return d}function TA(){var e=F.H,i=e.useState()[0];return i=typeof i.then=="function"?jo(i):i,e=e.useState()[0],(Yt!==null?Yt.memoizedState:null)!==e&&(wt.flags|=1024),i}function cf(){var e=Vu!==0;return Vu=0,e}function hf(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function ff(e){if(Ou){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Ou=!1}ir=0,pe=Yt=wt=null,ha=!1,Lo=Vu=0,fa=null}function tn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pe===null?wt.memoizedState=pe=e:pe=pe.next=e,pe}function ge(){if(Yt===null){var e=wt.alternate;e=e!==null?e.memoizedState:null}else e=Yt.next;var i=pe===null?wt.memoizedState:pe.next;if(i!==null)pe=i,Yt=e;else{if(e===null)throw wt.alternate===null?Error(s(467)):Error(s(310));Yt=e,e={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},pe===null?wt.memoizedState=pe=e:pe=pe.next=e}return pe}function df(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function jo(e){var i=Lo;return Lo+=1,fa===null&&(fa=[]),e=Hp(fa,e,i),i=wt,(pe===null?i.memoizedState:pe.next)===null&&(i=i.alternate,F.H=i===null||i.memoizedState===null?xg:Og),e}function Mu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return jo(e);if(e.$$typeof===ot)return Ge(e)}throw Error(s(438,String(e)))}function mf(e){var i=null,a=wt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=wt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=df(),wt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),l=0;l<e;l++)a[l]=O;return i.index++,a}function Ci(e,i){return typeof i=="function"?i(e):i}function Pu(e){var i=ge();return pf(i,Yt,e)}function pf(e,i,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var T=v=null,w=null,j=i,Q=!1;do{var X=j.lane&-536870913;if(X!==j.lane?(kt&X)===X:(ir&X)===X){var z=j.revertLane;if(z===0)w!==null&&(w=w.next={lane:0,revertLane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),X===la&&(Q=!0);else if((ir&z)===z){j=j.next,z===la&&(Q=!0);continue}else X={lane:0,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},w===null?(T=w=X,v=d):w=w.next=X,wt.lanes|=z,cr|=z;X=j.action,gs&&a(d,X),d=j.hasEagerState?j.eagerState:a(d,X)}else z={lane:X,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},w===null?(T=w=z,v=d):w=w.next=z,wt.lanes|=X,cr|=X;j=j.next}while(j!==null&&j!==i);if(w===null?v=d:w.next=T,!on(d,e.memoizedState)&&(De=!0,Q&&(a=ua,a!==null)))throw a;e.memoizedState=d,e.baseState=v,e.baseQueue=w,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function gf(e){var i=ge(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=e(d,v.action),v=v.next;while(v!==h);on(d,i.memoizedState)||(De=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Zp(e,i,a){var l=wt,h=ge(),d=Bt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!on((Yt||h).memoizedState,a);v&&(h.memoizedState=a,De=!0),h=h.queue;var T=tg.bind(null,l,h,e);if(zo(2048,8,T,[e]),h.getSnapshot!==i||v||pe!==null&&pe.memoizedState.tag&1){if(l.flags|=2048,da(9,Uu(),Wp.bind(null,l,h,a,i),null),Wt===null)throw Error(s(349));d||(ir&124)!==0||Jp(l,i,a)}return a}function Jp(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=wt.updateQueue,i===null?(i=df(),wt.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function Wp(e,i,a,l){i.value=a,i.getSnapshot=l,eg(i)&&ng(e)}function tg(e,i,a){return a(function(){eg(i)&&ng(e)})}function eg(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!on(e,a)}catch{return!0}}function ng(e){var i=ra(e,2);i!==null&&dn(i,e,2)}function yf(e){var i=tn();if(typeof e=="function"){var a=e;if(e=a(),gs){sn(!0);try{a()}finally{sn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:e},i}function ig(e,i,a,l){return e.baseState=a,pf(e,Yt,typeof l=="function"?l:Ci)}function AA(e,i,a,l,h){if(Lu(e))throw Error(s(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};F.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,rg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function rg(e,i){var a=i.action,l=i.payload,h=e.state;if(i.isTransition){var d=F.T,v={};F.T=v;try{var T=a(h,l),w=F.S;w!==null&&w(v,T),sg(e,i,T)}catch(j){_f(e,i,j)}finally{F.T=d}}else try{d=a(h,l),sg(e,i,d)}catch(j){_f(e,i,j)}}function sg(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){ag(e,i,l)},function(l){return _f(e,i,l)}):ag(e,i,a)}function ag(e,i,a){i.status="fulfilled",i.value=a,og(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,rg(e,a)))}function _f(e,i,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,og(i),i=i.next;while(i!==l)}e.action=null}function og(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function lg(e,i){return i}function ug(e,i){if(Bt){var a=Wt.formState;if(a!==null){t:{var l=wt;if(Bt){if(oe){e:{for(var h=oe,d=Wn;h.nodeType!==8;){if(!d){h=null;break e}if(h=Pn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){oe=Pn(h.nextSibling),l=h.data==="F!";break t}}fs(l)}l=!1}l&&(i=a[0])}}return a=tn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lg,lastRenderedState:i},a.queue=l,a=Cg.bind(null,wt,l),l.dispatch=a,l=yf(!1),d=Sf.bind(null,wt,!1,l.queue),l=tn(),h={state:i,dispatch:null,action:e,pending:null},l.queue=h,a=AA.bind(null,wt,h,d,a),h.dispatch=a,l.memoizedState=e,[i,a,!1]}function cg(e){var i=ge();return hg(i,Yt,e)}function hg(e,i,a){if(i=pf(e,i,lg)[0],e=Pu(Ci)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=jo(i)}catch(v){throw v===Vo?Nu:v}else l=i;i=ge();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(wt.flags|=2048,da(9,Uu(),SA.bind(null,h,a),null)),[l,d,e]}function SA(e,i){e.action=i}function fg(e){var i=ge(),a=Yt;if(a!==null)return hg(i,a,e);ge(),i=i.memoizedState,a=ge();var l=a.queue.dispatch;return a.memoizedState=e,[i,l,!1]}function da(e,i,a,l){return e={tag:e,create:a,deps:l,inst:i,next:null},i=wt.updateQueue,i===null&&(i=df(),wt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,i.lastEffect=e),e}function Uu(){return{destroy:void 0,resource:void 0}}function dg(){return ge().memoizedState}function ku(e,i,a,l){var h=tn();l=l===void 0?null:l,wt.flags|=e,h.memoizedState=da(1|i,Uu(),a,l)}function zo(e,i,a,l){var h=ge();l=l===void 0?null:l;var d=h.memoizedState.inst;Yt!==null&&l!==null&&lf(l,Yt.memoizedState.deps)?h.memoizedState=da(i,d,a,l):(wt.flags|=e,h.memoizedState=da(1|i,d,a,l))}function mg(e,i){ku(8390656,8,e,i)}function pg(e,i){zo(2048,8,e,i)}function gg(e,i){return zo(4,2,e,i)}function yg(e,i){return zo(4,4,e,i)}function _g(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function vg(e,i,a){a=a!=null?a.concat([e]):null,zo(4,4,_g.bind(null,i,e),a)}function vf(){}function Eg(e,i){var a=ge();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&lf(i,l[1])?l[0]:(a.memoizedState=[e,i],e)}function Tg(e,i){var a=ge();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&lf(i,l[1]))return l[0];if(l=e(),gs){sn(!0);try{e()}finally{sn(!1)}}return a.memoizedState=[l,i],l}function Ef(e,i,a){return a===void 0||(ir&1073741824)!==0?e.memoizedState=i:(e.memoizedState=a,e=by(),wt.lanes|=e,cr|=e,a)}function Ag(e,i,a,l){return on(a,i)?a:ca.current!==null?(e=Ef(e,a,l),on(e,i)||(De=!0),e):(ir&42)===0?(De=!0,e.memoizedState=a):(e=by(),wt.lanes|=e,cr|=e,i)}function Sg(e,i,a,l,h){var d=it.p;it.p=d!==0&&8>d?d:8;var v=F.T,T={};F.T=T,Sf(e,!1,i,a);try{var w=h(),j=F.S;if(j!==null&&j(T,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var Q=vA(w,l);Bo(e,i,Q,fn(e))}else Bo(e,i,l,fn(e))}catch(X){Bo(e,i,{then:function(){},status:"rejected",reason:X},fn())}finally{it.p=d,F.T=v}}function bA(){}function Tf(e,i,a,l){if(e.tag!==5)throw Error(s(476));var h=bg(e).queue;Sg(e,h,i,ft,a===null?bA:function(){return Rg(e),a(l)})}function bg(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:ft},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function Rg(e){var i=bg(e).next.queue;Bo(e,i,{},fn())}function Af(){return Ge(sl)}function wg(){return ge().memoizedState}function Ig(){return ge().memoizedState}function RA(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=fn();e=er(a);var l=nr(i,e,a);l!==null&&(dn(l,i,a),Po(l,i,a)),i={cache:Zh()},e.payload=i;return}i=i.return}}function wA(e,i,a){var l=fn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Lu(e)?Ng(i,a):(a=Bh(e,i,a,l),a!==null&&(dn(a,e,l),Dg(a,i,l)))}function Cg(e,i,a){var l=fn();Bo(e,i,a,l)}function Bo(e,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Lu(e))Ng(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,T=d(v,a);if(h.hasEagerState=!0,h.eagerState=T,on(T,v))return Tu(e,i,h,0),Wt===null&&Eu(),!1}catch{}finally{}if(a=Bh(e,i,h,l),a!==null)return dn(a,e,l),Dg(a,i,l),!0}return!1}function Sf(e,i,a,l){if(l={lane:2,revertLane:ed(),action:l,hasEagerState:!1,eagerState:null,next:null},Lu(e)){if(i)throw Error(s(479))}else i=Bh(e,a,l,2),i!==null&&dn(i,e,2)}function Lu(e){var i=e.alternate;return e===wt||i!==null&&i===wt}function Ng(e,i){ha=Ou=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function Dg(e,i,a){if((a&4194048)!==0){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,lo(e,a)}}var ju={readContext:Ge,use:Mu,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useLayoutEffect:ce,useInsertionEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useSyncExternalStore:ce,useId:ce,useHostTransitionStatus:ce,useFormState:ce,useActionState:ce,useOptimistic:ce,useMemoCache:ce,useCacheRefresh:ce},xg={readContext:Ge,use:Mu,useCallback:function(e,i){return tn().memoizedState=[e,i===void 0?null:i],e},useContext:Ge,useEffect:mg,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,ku(4194308,4,_g.bind(null,i,e),a)},useLayoutEffect:function(e,i){return ku(4194308,4,e,i)},useInsertionEffect:function(e,i){ku(4,2,e,i)},useMemo:function(e,i){var a=tn();i=i===void 0?null:i;var l=e();if(gs){sn(!0);try{e()}finally{sn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(e,i,a){var l=tn();if(a!==void 0){var h=a(i);if(gs){sn(!0);try{a(i)}finally{sn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=wA.bind(null,wt,e),[l.memoizedState,e]},useRef:function(e){var i=tn();return e={current:e},i.memoizedState=e},useState:function(e){e=yf(e);var i=e.queue,a=Cg.bind(null,wt,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:vf,useDeferredValue:function(e,i){var a=tn();return Ef(a,e,i)},useTransition:function(){var e=yf(!1);return e=Sg.bind(null,wt,e.queue,!0,!1),tn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var l=wt,h=tn();if(Bt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Wt===null)throw Error(s(349));(kt&124)!==0||Jp(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,mg(tg.bind(null,l,d,e),[e]),l.flags|=2048,da(9,Uu(),Wp.bind(null,l,d,a,i),null),a},useId:function(){var e=tn(),i=Wt.identifierPrefix;if(Bt){var a=Ri,l=bi;a=(l&~(1<<32-He(l)-1)).toString(32)+a,i="«"+i+"R"+a,a=Vu++,0<a&&(i+="H"+a.toString(32)),i+="»"}else a=EA++,i="«"+i+"r"+a.toString(32)+"»";return e.memoizedState=i},useHostTransitionStatus:Af,useFormState:ug,useActionState:ug,useOptimistic:function(e){var i=tn();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Sf.bind(null,wt,!0,a),a.dispatch=i,[e,i]},useMemoCache:mf,useCacheRefresh:function(){return tn().memoizedState=RA.bind(null,wt)}},Og={readContext:Ge,use:Mu,useCallback:Eg,useContext:Ge,useEffect:pg,useImperativeHandle:vg,useInsertionEffect:gg,useLayoutEffect:yg,useMemo:Tg,useReducer:Pu,useRef:dg,useState:function(){return Pu(Ci)},useDebugValue:vf,useDeferredValue:function(e,i){var a=ge();return Ag(a,Yt.memoizedState,e,i)},useTransition:function(){var e=Pu(Ci)[0],i=ge().memoizedState;return[typeof e=="boolean"?e:jo(e),i]},useSyncExternalStore:Zp,useId:wg,useHostTransitionStatus:Af,useFormState:cg,useActionState:cg,useOptimistic:function(e,i){var a=ge();return ig(a,Yt,e,i)},useMemoCache:mf,useCacheRefresh:Ig},IA={readContext:Ge,use:Mu,useCallback:Eg,useContext:Ge,useEffect:pg,useImperativeHandle:vg,useInsertionEffect:gg,useLayoutEffect:yg,useMemo:Tg,useReducer:gf,useRef:dg,useState:function(){return gf(Ci)},useDebugValue:vf,useDeferredValue:function(e,i){var a=ge();return Yt===null?Ef(a,e,i):Ag(a,Yt.memoizedState,e,i)},useTransition:function(){var e=gf(Ci)[0],i=ge().memoizedState;return[typeof e=="boolean"?e:jo(e),i]},useSyncExternalStore:Zp,useId:wg,useHostTransitionStatus:Af,useFormState:fg,useActionState:fg,useOptimistic:function(e,i){var a=ge();return Yt!==null?ig(a,Yt,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:mf,useCacheRefresh:Ig},ma=null,qo=0;function zu(e){var i=qo;return qo+=1,ma===null&&(ma=[]),Hp(ma,e,i)}function Ho(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Bu(e,i){throw i.$$typeof===b?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function Vg(e){var i=e._init;return i(e._payload)}function Mg(e){function i(P,x){if(e){var L=P.deletions;L===null?(P.deletions=[x],P.flags|=16):L.push(x)}}function a(P,x){if(!e)return null;for(;x!==null;)i(P,x),x=x.sibling;return null}function l(P){for(var x=new Map;P!==null;)P.key!==null?x.set(P.key,P):x.set(P.index,P),P=P.sibling;return x}function h(P,x){return P=Si(P,x),P.index=0,P.sibling=null,P}function d(P,x,L){return P.index=L,e?(L=P.alternate,L!==null?(L=L.index,L<x?(P.flags|=67108866,x):L):(P.flags|=67108866,x)):(P.flags|=1048576,x)}function v(P){return e&&P.alternate===null&&(P.flags|=67108866),P}function T(P,x,L,Y){return x===null||x.tag!==6?(x=Hh(L,P.mode,Y),x.return=P,x):(x=h(x,L),x.return=P,x)}function w(P,x,L,Y){var lt=L.type;return lt===K?Q(P,x,L.props.children,Y,L.key):x!==null&&(x.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===R&&Vg(lt)===x.type)?(x=h(x,L.props),Ho(x,L),x.return=P,x):(x=Su(L.type,L.key,L.props,null,P.mode,Y),Ho(x,L),x.return=P,x)}function j(P,x,L,Y){return x===null||x.tag!==4||x.stateNode.containerInfo!==L.containerInfo||x.stateNode.implementation!==L.implementation?(x=Gh(L,P.mode,Y),x.return=P,x):(x=h(x,L.children||[]),x.return=P,x)}function Q(P,x,L,Y,lt){return x===null||x.tag!==7?(x=ls(L,P.mode,Y,lt),x.return=P,x):(x=h(x,L),x.return=P,x)}function X(P,x,L){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=Hh(""+x,P.mode,L),x.return=P,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case I:return L=Su(x.type,x.key,x.props,null,P.mode,L),Ho(L,x),L.return=P,L;case q:return x=Gh(x,P.mode,L),x.return=P,x;case R:var Y=x._init;return x=Y(x._payload),X(P,x,L)}if(se(x)||U(x))return x=ls(x,P.mode,L,null),x.return=P,x;if(typeof x.then=="function")return X(P,zu(x),L);if(x.$$typeof===ot)return X(P,Iu(P,x),L);Bu(P,x)}return null}function z(P,x,L,Y){var lt=x!==null?x.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return lt!==null?null:T(P,x,""+L,Y);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case I:return L.key===lt?w(P,x,L,Y):null;case q:return L.key===lt?j(P,x,L,Y):null;case R:return lt=L._init,L=lt(L._payload),z(P,x,L,Y)}if(se(L)||U(L))return lt!==null?null:Q(P,x,L,Y,null);if(typeof L.then=="function")return z(P,x,zu(L),Y);if(L.$$typeof===ot)return z(P,x,Iu(P,L),Y);Bu(P,L)}return null}function B(P,x,L,Y,lt){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return P=P.get(L)||null,T(x,P,""+Y,lt);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case I:return P=P.get(Y.key===null?L:Y.key)||null,w(x,P,Y,lt);case q:return P=P.get(Y.key===null?L:Y.key)||null,j(x,P,Y,lt);case R:var Nt=Y._init;return Y=Nt(Y._payload),B(P,x,L,Y,lt)}if(se(Y)||U(Y))return P=P.get(L)||null,Q(x,P,Y,lt,null);if(typeof Y.then=="function")return B(P,x,L,zu(Y),lt);if(Y.$$typeof===ot)return B(P,x,L,Iu(x,Y),lt);Bu(x,Y)}return null}function vt(P,x,L,Y){for(var lt=null,Nt=null,ht=x,yt=x=0,Oe=null;ht!==null&&yt<L.length;yt++){ht.index>yt?(Oe=ht,ht=null):Oe=ht.sibling;var jt=z(P,ht,L[yt],Y);if(jt===null){ht===null&&(ht=Oe);break}e&&ht&&jt.alternate===null&&i(P,ht),x=d(jt,x,yt),Nt===null?lt=jt:Nt.sibling=jt,Nt=jt,ht=Oe}if(yt===L.length)return a(P,ht),Bt&&cs(P,yt),lt;if(ht===null){for(;yt<L.length;yt++)ht=X(P,L[yt],Y),ht!==null&&(x=d(ht,x,yt),Nt===null?lt=ht:Nt.sibling=ht,Nt=ht);return Bt&&cs(P,yt),lt}for(ht=l(ht);yt<L.length;yt++)Oe=B(ht,P,yt,L[yt],Y),Oe!==null&&(e&&Oe.alternate!==null&&ht.delete(Oe.key===null?yt:Oe.key),x=d(Oe,x,yt),Nt===null?lt=Oe:Nt.sibling=Oe,Nt=Oe);return e&&ht.forEach(function(vr){return i(P,vr)}),Bt&&cs(P,yt),lt}function gt(P,x,L,Y){if(L==null)throw Error(s(151));for(var lt=null,Nt=null,ht=x,yt=x=0,Oe=null,jt=L.next();ht!==null&&!jt.done;yt++,jt=L.next()){ht.index>yt?(Oe=ht,ht=null):Oe=ht.sibling;var vr=z(P,ht,jt.value,Y);if(vr===null){ht===null&&(ht=Oe);break}e&&ht&&vr.alternate===null&&i(P,ht),x=d(vr,x,yt),Nt===null?lt=vr:Nt.sibling=vr,Nt=vr,ht=Oe}if(jt.done)return a(P,ht),Bt&&cs(P,yt),lt;if(ht===null){for(;!jt.done;yt++,jt=L.next())jt=X(P,jt.value,Y),jt!==null&&(x=d(jt,x,yt),Nt===null?lt=jt:Nt.sibling=jt,Nt=jt);return Bt&&cs(P,yt),lt}for(ht=l(ht);!jt.done;yt++,jt=L.next())jt=B(ht,P,yt,jt.value,Y),jt!==null&&(e&&jt.alternate!==null&&ht.delete(jt.key===null?yt:jt.key),x=d(jt,x,yt),Nt===null?lt=jt:Nt.sibling=jt,Nt=jt);return e&&ht.forEach(function(CS){return i(P,CS)}),Bt&&cs(P,yt),lt}function $t(P,x,L,Y){if(typeof L=="object"&&L!==null&&L.type===K&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case I:t:{for(var lt=L.key;x!==null;){if(x.key===lt){if(lt=L.type,lt===K){if(x.tag===7){a(P,x.sibling),Y=h(x,L.props.children),Y.return=P,P=Y;break t}}else if(x.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===R&&Vg(lt)===x.type){a(P,x.sibling),Y=h(x,L.props),Ho(Y,L),Y.return=P,P=Y;break t}a(P,x);break}else i(P,x);x=x.sibling}L.type===K?(Y=ls(L.props.children,P.mode,Y,L.key),Y.return=P,P=Y):(Y=Su(L.type,L.key,L.props,null,P.mode,Y),Ho(Y,L),Y.return=P,P=Y)}return v(P);case q:t:{for(lt=L.key;x!==null;){if(x.key===lt)if(x.tag===4&&x.stateNode.containerInfo===L.containerInfo&&x.stateNode.implementation===L.implementation){a(P,x.sibling),Y=h(x,L.children||[]),Y.return=P,P=Y;break t}else{a(P,x);break}else i(P,x);x=x.sibling}Y=Gh(L,P.mode,Y),Y.return=P,P=Y}return v(P);case R:return lt=L._init,L=lt(L._payload),$t(P,x,L,Y)}if(se(L))return vt(P,x,L,Y);if(U(L)){if(lt=U(L),typeof lt!="function")throw Error(s(150));return L=lt.call(L),gt(P,x,L,Y)}if(typeof L.then=="function")return $t(P,x,zu(L),Y);if(L.$$typeof===ot)return $t(P,x,Iu(P,L),Y);Bu(P,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,x!==null&&x.tag===6?(a(P,x.sibling),Y=h(x,L),Y.return=P,P=Y):(a(P,x),Y=Hh(L,P.mode,Y),Y.return=P,P=Y),v(P)):a(P,x)}return function(P,x,L,Y){try{qo=0;var lt=$t(P,x,L,Y);return ma=null,lt}catch(ht){if(ht===Vo||ht===Nu)throw ht;var Nt=ln(29,ht,null,P.mode);return Nt.lanes=Y,Nt.return=P,Nt}finally{}}}var pa=Mg(!0),Pg=Mg(!1),wn=J(null),ti=null;function rr(e){var i=e.alternate;tt(be,be.current&1),tt(wn,e),ti===null&&(i===null||ca.current!==null||i.memoizedState!==null)&&(ti=e)}function Ug(e){if(e.tag===22){if(tt(be,be.current),tt(wn,e),ti===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(ti=e)}}else sr()}function sr(){tt(be,be.current),tt(wn,wn.current)}function Ni(e){st(wn),ti===e&&(ti=null),st(be)}var be=J(0);function qu(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||dd(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function bf(e,i,a,l){i=e.memoizedState,a=a(l,i),a=a==null?i:E({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Rf={enqueueSetState:function(e,i,a){e=e._reactInternals;var l=fn(),h=er(l);h.payload=i,a!=null&&(h.callback=a),i=nr(e,h,l),i!==null&&(dn(i,e,l),Po(i,e,l))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var l=fn(),h=er(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=nr(e,h,l),i!==null&&(dn(i,e,l),Po(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=fn(),l=er(a);l.tag=2,i!=null&&(l.callback=i),i=nr(e,l,a),i!==null&&(dn(i,e,a),Po(i,e,a))}};function kg(e,i,a,l,h,d,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!Ro(a,l)||!Ro(h,d):!0}function Lg(e,i,a,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==e&&Rf.enqueueReplaceState(i,i.state,null)}function ys(e,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(e=e.defaultProps){a===i&&(a=E({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var Hu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function jg(e){Hu(e)}function zg(e){console.error(e)}function Bg(e){Hu(e)}function Gu(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function qg(e,i,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function wf(e,i,a){return a=er(a),a.tag=3,a.payload={element:null},a.callback=function(){Gu(e,i)},a}function Hg(e){return e=er(e),e.tag=3,e}function Gg(e,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){qg(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){qg(i,a,l),typeof h!="function"&&(hr===null?hr=new Set([this]):hr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function CA(e,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Do(i,a,h,!0),a=wn.current,a!==null){switch(a.tag){case 13:return ti===null?$f():a.alternate===null&&le===0&&(le=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===tf?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Jf(e,l,h)),!1;case 22:return a.flags|=65536,l===tf?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Jf(e,l,h)),!1}throw Error(s(435,a.tag))}return Jf(e,l,h),$f(),!1}if(Bt)return i=wn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Kh&&(e=Error(s(422),{cause:l}),No(An(e,a)))):(l!==Kh&&(i=Error(s(423),{cause:l}),No(An(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=An(l,a),h=wf(e.stateNode,l,h),rf(e,h),le!==4&&(le=2)),!1;var d=Error(s(520),{cause:l});if(d=An(d,a),$o===null?$o=[d]:$o.push(d),le!==4&&(le=2),i===null)return!0;l=An(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=wf(a.stateNode,l,e),rf(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(hr===null||!hr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Hg(h),Gg(h,e,a,l),rf(a,h),!1}a=a.return}while(a!==null);return!1}var Fg=Error(s(461)),De=!1;function ke(e,i,a,l){i.child=e===null?Pg(i,null,a,l):pa(i,e.child,a,l)}function Qg(e,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return ms(i),l=uf(e,i,a,v,d,h),T=cf(),e!==null&&!De?(hf(e,i,h),Di(e,i,h)):(Bt&&T&&Fh(i),i.flags|=1,ke(e,i,l,h),i.child)}function Kg(e,i,a,l,h){if(e===null){var d=a.type;return typeof d=="function"&&!qh(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Yg(e,i,d,l,h)):(e=Su(a.type,null,l,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!Mf(e,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Ro,a(v,l)&&e.ref===i.ref)return Di(e,i,h)}return i.flags|=1,e=Si(d,l),e.ref=i.ref,e.return=i,i.child=e}function Yg(e,i,a,l,h){if(e!==null){var d=e.memoizedProps;if(Ro(d,l)&&e.ref===i.ref)if(De=!1,i.pendingProps=l=d,Mf(e,h))(e.flags&131072)!==0&&(De=!0);else return i.lanes=e.lanes,Di(e,i,h)}return If(e,i,a,l,h)}function Xg(e,i,a){var l=i.pendingProps,h=l.children,d=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,e!==null){for(h=i.child=e.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return $g(e,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Cu(i,d!==null?d.cachePool:null),d!==null?Yp(i,d):af(),Ug(i);else return i.lanes=i.childLanes=536870912,$g(e,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(Cu(i,d.cachePool),Yp(i,d),sr(),i.memoizedState=null):(e!==null&&Cu(i,null),af(),sr());return ke(e,i,h,a),i.child}function $g(e,i,a,l){var h=Wh();return h=h===null?null:{parent:Se._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},e!==null&&Cu(i,null),af(),Ug(i),e!==null&&Do(e,i,l,!0),null}function Fu(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function If(e,i,a,l,h){return ms(i),a=uf(e,i,a,l,void 0,h),l=cf(),e!==null&&!De?(hf(e,i,h),Di(e,i,h)):(Bt&&l&&Fh(i),i.flags|=1,ke(e,i,a,h),i.child)}function Zg(e,i,a,l,h,d){return ms(i),i.updateQueue=null,a=$p(i,l,a,h),Xp(e),l=cf(),e!==null&&!De?(hf(e,i,d),Di(e,i,d)):(Bt&&l&&Fh(i),i.flags|=1,ke(e,i,a,d),i.child)}function Jg(e,i,a,l,h){if(ms(i),i.stateNode===null){var d=sa,v=a.contextType;typeof v=="object"&&v!==null&&(d=Ge(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Rf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},ef(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?Ge(v):sa,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(bf(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Rf.enqueueReplaceState(d,d.state,null),ko(i,l,d,h),Uo(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){d=i.stateNode;var T=i.memoizedProps,w=ys(a,T);d.props=w;var j=d.context,Q=a.contextType;v=sa,typeof Q=="object"&&Q!==null&&(v=Ge(Q));var X=a.getDerivedStateFromProps;Q=typeof X=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,Q||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||j!==v)&&Lg(i,d,l,v),tr=!1;var z=i.memoizedState;d.state=z,ko(i,l,d,h),Uo(),j=i.memoizedState,T||z!==j||tr?(typeof X=="function"&&(bf(i,a,X,l),j=i.memoizedState),(w=tr||kg(i,a,w,l,z,j,v))?(Q||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=j),d.props=l,d.state=j,d.context=v,l=w):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,nf(e,i),v=i.memoizedProps,Q=ys(a,v),d.props=Q,X=i.pendingProps,z=d.context,j=a.contextType,w=sa,typeof j=="object"&&j!==null&&(w=Ge(j)),T=a.getDerivedStateFromProps,(j=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==X||z!==w)&&Lg(i,d,l,w),tr=!1,z=i.memoizedState,d.state=z,ko(i,l,d,h),Uo();var B=i.memoizedState;v!==X||z!==B||tr||e!==null&&e.dependencies!==null&&wu(e.dependencies)?(typeof T=="function"&&(bf(i,a,T,l),B=i.memoizedState),(Q=tr||kg(i,a,Q,l,z,B,w)||e!==null&&e.dependencies!==null&&wu(e.dependencies))?(j||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,B,w),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,B,w)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=B),d.props=l,d.state=B,d.context=w,l=Q):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=1024),l=!1)}return d=l,Fu(e,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&l?(i.child=pa(i,e.child,null,h),i.child=pa(i,null,a,h)):ke(e,i,a,h),i.memoizedState=d.state,e=i.child):e=Di(e,i,h),e}function Wg(e,i,a,l){return Co(),i.flags|=256,ke(e,i,a,l),i.child}var Cf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Nf(e){return{baseLanes:e,cachePool:zp()}}function Df(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=In),e}function ty(e,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=e!==null&&e.memoizedState===null?!1:(be.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,e===null){if(Bt){if(h?rr(i):sr(),Bt){var T=oe,w;if(w=T){t:{for(w=T,T=Wn;w.nodeType!==8;){if(!T){T=null;break t}if(w=Pn(w.nextSibling),w===null){T=null;break t}}T=w}T!==null?(i.memoizedState={dehydrated:T,treeContext:us!==null?{id:bi,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},w=ln(18,null,null,0),w.stateNode=T,w.return=i,i.child=w,We=i,oe=null,w=!0):w=!1}w||fs(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return dd(T)?i.lanes=32:i.lanes=536870912,null;Ni(i)}return T=l.children,l=l.fallback,h?(sr(),h=i.mode,T=Qu({mode:"hidden",children:T},h),l=ls(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,h=i.child,h.memoizedState=Nf(a),h.childLanes=Df(e,v,a),i.memoizedState=Cf,l):(rr(i),xf(i,T))}if(w=e.memoizedState,w!==null&&(T=w.dehydrated,T!==null)){if(d)i.flags&256?(rr(i),i.flags&=-257,i=Of(e,i,a)):i.memoizedState!==null?(sr(),i.child=e.child,i.flags|=128,i=null):(sr(),h=l.fallback,T=i.mode,l=Qu({mode:"visible",children:l.children},T),h=ls(h,T,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,pa(i,e.child,null,a),l=i.child,l.memoizedState=Nf(a),l.childLanes=Df(e,v,a),i.memoizedState=Cf,i=h);else if(rr(i),dd(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var j=v.dgst;v=j,l=Error(s(419)),l.stack="",l.digest=v,No({value:l,source:null,stack:null}),i=Of(e,i,a)}else if(De||Do(e,i,a,!1),v=(a&e.childLanes)!==0,De||v){if(v=Wt,v!==null&&(l=a&-a,l=(l&42)!==0?1:Qi(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==w.retryLane))throw w.retryLane=l,ra(e,l),dn(v,e,l),Fg;T.data==="$?"||$f(),i=Of(e,i,a)}else T.data==="$?"?(i.flags|=192,i.child=e.child,i=null):(e=w.treeContext,oe=Pn(T.nextSibling),We=i,Bt=!0,hs=null,Wn=!1,e!==null&&(bn[Rn++]=bi,bn[Rn++]=Ri,bn[Rn++]=us,bi=e.id,Ri=e.overflow,us=i),i=xf(i,l.children),i.flags|=4096);return i}return h?(sr(),h=l.fallback,T=i.mode,w=e.child,j=w.sibling,l=Si(w,{mode:"hidden",children:l.children}),l.subtreeFlags=w.subtreeFlags&65011712,j!==null?h=Si(j,h):(h=ls(h,T,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,T=e.child.memoizedState,T===null?T=Nf(a):(w=T.cachePool,w!==null?(j=Se._currentValue,w=w.parent!==j?{parent:j,pool:j}:w):w=zp(),T={baseLanes:T.baseLanes|a,cachePool:w}),h.memoizedState=T,h.childLanes=Df(e,v,a),i.memoizedState=Cf,l):(rr(i),a=e.child,e=a.sibling,a=Si(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,e!==null&&(v=i.deletions,v===null?(i.deletions=[e],i.flags|=16):v.push(e)),i.child=a,i.memoizedState=null,a)}function xf(e,i){return i=Qu({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function Qu(e,i){return e=ln(22,e,null,i),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Of(e,i,a){return pa(i,e.child,null,a),e=xf(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function ey(e,i,a){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),Xh(e.return,i,a)}function Vf(e,i,a,l,h){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function ny(e,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(ke(e,i,l.children,a),l=be.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ey(e,a,i);else if(e.tag===19)ey(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(tt(be,l),h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&qu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Vf(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&qu(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Vf(i,!0,a,null,d);break;case"together":Vf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Di(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),cr|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(Do(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=Si(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=Si(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function Mf(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&wu(e)))}function NA(e,i,a){switch(i.tag){case 3:Jt(i,i.stateNode.containerInfo),Wi(i,Se,e.memoizedState.cache),Co();break;case 27:case 5:Fi(i);break;case 4:Jt(i,i.stateNode.containerInfo);break;case 10:Wi(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(rr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?ty(e,i,a):(rr(i),e=Di(e,i,a),e!==null?e.sibling:null);rr(i);break;case 19:var h=(e.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Do(e,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return ny(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),tt(be,be.current),l)break;return null;case 22:case 23:return i.lanes=0,Xg(e,i,a);case 24:Wi(i,Se,e.memoizedState.cache)}return Di(e,i,a)}function iy(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)De=!0;else{if(!Mf(e,a)&&(i.flags&128)===0)return De=!1,NA(e,i,a);De=(e.flags&131072)!==0}else De=!1,Bt&&(i.flags&1048576)!==0&&Vp(i,Ru,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")qh(l)?(e=ys(l,e),i.tag=1,i=Jg(null,i,l,e,a)):(i.tag=0,i=If(null,i,l,e,a));else{if(l!=null){if(h=l.$$typeof,h===At){i.tag=11,i=Qg(null,i,l,e,a);break t}else if(h===V){i.tag=14,i=Kg(null,i,l,e,a);break t}}throw i=Me(l)||l,Error(s(306,i,""))}}return i;case 0:return If(e,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=ys(l,i.pendingProps),Jg(e,i,l,h,a);case 3:t:{if(Jt(i,i.stateNode.containerInfo),e===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,nf(e,i),ko(i,l,null,a);var v=i.memoizedState;if(l=v.cache,Wi(i,Se,l),l!==d.cache&&$h(i,[Se],a,!0),Uo(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Wg(e,i,l,a);break t}else if(l!==h){h=An(Error(s(424)),i),No(h),i=Wg(e,i,l,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(oe=Pn(e.firstChild),We=i,Bt=!0,hs=null,Wn=!0,a=Pg(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Co(),l===h){i=Di(e,i,a);break t}ke(e,i,l,a)}i=i.child}return i;case 26:return Fu(e,i),e===null?(a=o_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Bt||(a=i.type,e=i.pendingProps,l=ac(Tt.current).createElement(a),l[Ee]=i,l[de]=e,je(l,a,e),ue(l),i.stateNode=l):i.memoizedState=o_(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return Fi(i),e===null&&Bt&&(l=i.stateNode=r_(i.type,i.pendingProps,Tt.current),We=i,Wn=!0,h=oe,mr(i.type)?(md=h,oe=Pn(l.firstChild)):oe=h),ke(e,i,i.pendingProps.children,a),Fu(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Bt&&((h=l=oe)&&(l=iS(l,i.type,i.pendingProps,Wn),l!==null?(i.stateNode=l,We=i,oe=Pn(l.firstChild),Wn=!1,h=!0):h=!1),h||fs(i)),Fi(i),h=i.type,d=i.pendingProps,v=e!==null?e.memoizedProps:null,l=d.children,cd(h,d)?l=null:v!==null&&cd(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=uf(e,i,TA,null,null,a),sl._currentValue=h),Fu(e,i),ke(e,i,l,a),i.child;case 6:return e===null&&Bt&&((e=a=oe)&&(a=rS(a,i.pendingProps,Wn),a!==null?(i.stateNode=a,We=i,oe=null,e=!0):e=!1),e||fs(i)),null;case 13:return ty(e,i,a);case 4:return Jt(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=pa(i,null,l,a):ke(e,i,l,a),i.child;case 11:return Qg(e,i,i.type,i.pendingProps,a);case 7:return ke(e,i,i.pendingProps,a),i.child;case 8:return ke(e,i,i.pendingProps.children,a),i.child;case 12:return ke(e,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Wi(i,i.type,l.value),ke(e,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,ms(i),h=Ge(h),l=l(h),i.flags|=1,ke(e,i,l,a),i.child;case 14:return Kg(e,i,i.type,i.pendingProps,a);case 15:return Yg(e,i,i.type,i.pendingProps,a);case 19:return ny(e,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},e===null?(a=Qu(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Si(e.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return Xg(e,i,a);case 24:return ms(i),l=Ge(Se),e===null?(h=Wh(),h===null&&(h=Wt,d=Zh(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},ef(i),Wi(i,Se,h)):((e.lanes&a)!==0&&(nf(e,i),ko(i,null,null,a),Uo()),h=e.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Wi(i,Se,l)):(l=d.cache,Wi(i,Se,l),l!==h.cache&&$h(i,[Se],a,!0))),ke(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function xi(e){e.flags|=4}function ry(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!f_(i)){if(i=wn.current,i!==null&&((kt&4194048)===kt?ti!==null:(kt&62914560)!==kt&&(kt&536870912)===0||i!==ti))throw Mo=tf,Bp;e.flags|=8192}}function Ku(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?ao():536870912,e.lanes|=i,va|=i)}function Go(e,i){if(!Bt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ie(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,i}function DA(e,i,a){var l=i.pendingProps;switch(Qh(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(i),null;case 1:return ie(i),null;case 3:return a=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Ii(Se),Bn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Io(i)?xi(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Up())),ie(i),null;case 26:return a=i.memoizedState,e===null?(xi(i),a!==null?(ie(i),ry(i,a)):(ie(i),i.flags&=-16777217)):a?a!==e.memoizedState?(xi(i),ie(i),ry(i,a)):(ie(i),i.flags&=-16777217):(e.memoizedProps!==l&&xi(i),ie(i),i.flags&=-16777217),null;case 27:ci(i),a=Tt.current;var h=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==l&&xi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ie(i),null}e=mt.current,Io(i)?Mp(i):(e=r_(h,l,a),i.stateNode=e,xi(i))}return ie(i),null;case 5:if(ci(i),a=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&xi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ie(i),null}if(e=mt.current,Io(i))Mp(i);else{switch(h=ac(Tt.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}e[Ee]=i,e[de]=l;t:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break t;for(;h.sibling===null;){if(h.return===null||h.return===i)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=e;t:switch(je(e,a,l),a){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&xi(i)}}return ie(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&xi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(e=Tt.current,Io(i)){if(e=i.stateNode,a=i.memoizedProps,l=null,h=We,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Ee]=i,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Zy(e.nodeValue,a)),e||fs(i)}else e=ac(e).createTextNode(l),e[Ee]=i,i.stateNode=e}return ie(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Io(i),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Ee]=i}else Co(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ie(i),h=!1}else h=Up(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Ni(i),i):(Ni(i),null)}if(Ni(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,e=e!==null&&e.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==e&&a&&(i.child.flags|=8192),Ku(i,i.updateQueue),ie(i),null;case 4:return Bn(),e===null&&sd(i.stateNode.containerInfo),ie(i),null;case 10:return Ii(i.type),ie(i),null;case 19:if(st(be),h=i.memoizedState,h===null)return ie(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)Go(h,!1);else{if(le!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=qu(e),d!==null){for(i.flags|=128,Go(h,!1),e=d.updateQueue,i.updateQueue=e,Ku(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)Op(a,e),a=a.sibling;return tt(be,be.current&1|2),i.child}e=e.sibling}h.tail!==null&&gn()>$u&&(i.flags|=128,l=!0,Go(h,!1),i.lanes=4194304)}else{if(!l)if(e=qu(d),e!==null){if(i.flags|=128,l=!0,e=e.updateQueue,i.updateQueue=e,Ku(i,e),Go(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Bt)return ie(i),null}else 2*gn()-h.renderingStartTime>$u&&a!==536870912&&(i.flags|=128,l=!0,Go(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(e=h.last,e!==null?e.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=gn(),i.sibling=null,e=be.current,tt(be,l?e&1|2:e&1),i):(ie(i),null);case 22:case 23:return Ni(i),of(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(ie(i),i.subtreeFlags&6&&(i.flags|=8192)):ie(i),a=i.updateQueue,a!==null&&Ku(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),e!==null&&st(ps),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Ii(Se),ie(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function xA(e,i){switch(Qh(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Ii(Se),Bn(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return ci(i),null;case 13:if(Ni(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Co()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return st(be),null;case 4:return Bn(),null;case 10:return Ii(i.type),null;case 22:case 23:return Ni(i),of(),e!==null&&st(ps),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Ii(Se),null;case 25:return null;default:return null}}function sy(e,i){switch(Qh(i),i.tag){case 3:Ii(Se),Bn();break;case 26:case 27:case 5:ci(i);break;case 4:Bn();break;case 13:Ni(i);break;case 19:st(be);break;case 10:Ii(i.type);break;case 22:case 23:Ni(i),of(),e!==null&&st(ps);break;case 24:Ii(Se)}}function Fo(e,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(T){Zt(i,i.return,T)}}function ar(e,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=i;var w=a,j=T;try{j()}catch(Q){Zt(h,w,Q)}}}l=l.next}while(l!==d)}}catch(Q){Zt(i,i.return,Q)}}function ay(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{Kp(i,a)}catch(l){Zt(e,e.return,l)}}}function oy(e,i,a){a.props=ys(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Zt(e,i,l)}}function Qo(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(h){Zt(e,i,h)}}function ei(e,i){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Zt(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Zt(e,i,h)}else a.current=null}function ly(e){var i=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Zt(e,e.return,h)}}function Pf(e,i,a){try{var l=e.stateNode;JA(l,e.type,a,i),l[de]=i}catch(h){Zt(e,e.return,h)}}function uy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&mr(e.type)||e.tag===4}function Uf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||uy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&mr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function kf(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=sc));else if(l!==4&&(l===27&&mr(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(kf(e,i,a),e=e.sibling;e!==null;)kf(e,i,a),e=e.sibling}function Yu(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(l!==4&&(l===27&&mr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Yu(e,i,a),e=e.sibling;e!==null;)Yu(e,i,a),e=e.sibling}function cy(e){var i=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);je(i,l,a),i[Ee]=e,i[de]=a}catch(d){Zt(e,e.return,d)}}var Oi=!1,he=!1,Lf=!1,hy=typeof WeakSet=="function"?WeakSet:Set,xe=null;function OA(e,i){if(e=e.containerInfo,ld=fc,e=Ap(e),Ph(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var v=0,T=-1,w=-1,j=0,Q=0,X=e,z=null;e:for(;;){for(var B;X!==a||h!==0&&X.nodeType!==3||(T=v+h),X!==d||l!==0&&X.nodeType!==3||(w=v+l),X.nodeType===3&&(v+=X.nodeValue.length),(B=X.firstChild)!==null;)z=X,X=B;for(;;){if(X===e)break e;if(z===a&&++j===h&&(T=v),z===d&&++Q===l&&(w=v),(B=X.nextSibling)!==null)break;X=z,z=X.parentNode}X=B}a=T===-1||w===-1?null:{start:T,end:w}}else a=null}a=a||{start:0,end:0}}else a=null;for(ud={focusedElem:e,selectionRange:a},fc=!1,xe=i;xe!==null;)if(i=xe,e=i.child,(i.subtreeFlags&1024)!==0&&e!==null)e.return=i,xe=e;else for(;xe!==null;){switch(i=xe,d=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var vt=ys(a.type,h,a.elementType===a.type);e=l.getSnapshotBeforeUpdate(vt,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(gt){Zt(a,a.return,gt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)fd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":fd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,xe=e;break}xe=i.return}}function fy(e,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:or(e,a),l&4&&Fo(5,a);break;case 1:if(or(e,a),l&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(v){Zt(a,a.return,v)}else{var h=ys(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(v){Zt(a,a.return,v)}}l&64&&ay(a),l&512&&Qo(a,a.return);break;case 3:if(or(e,a),l&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Kp(e,i)}catch(v){Zt(a,a.return,v)}}break;case 27:i===null&&l&4&&cy(a);case 26:case 5:or(e,a),i===null&&l&4&&ly(a),l&512&&Qo(a,a.return);break;case 12:or(e,a);break;case 13:or(e,a),l&4&&py(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=BA.bind(null,a),sS(e,a))));break;case 22:if(l=a.memoizedState!==null||Oi,!l){i=i!==null&&i.memoizedState!==null||he,h=Oi;var d=he;Oi=l,(he=i)&&!d?lr(e,a,(a.subtreeFlags&8772)!==0):or(e,a),Oi=h,he=d}break;case 30:break;default:or(e,a)}}function dy(e){var i=e.alternate;i!==null&&(e.alternate=null,dy(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&Xi(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ne=null,en=!1;function Vi(e,i,a){for(a=a.child;a!==null;)my(e,i,a),a=a.sibling}function my(e,i,a){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(ae,a)}catch{}switch(a.tag){case 26:he||ei(a,i),Vi(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:he||ei(a,i);var l=ne,h=en;mr(a.type)&&(ne=a.stateNode,en=!1),Vi(e,i,a),el(a.stateNode),ne=l,en=h;break;case 5:he||ei(a,i);case 6:if(l=ne,h=en,ne=null,Vi(e,i,a),ne=l,en=h,ne!==null)if(en)try{(ne.nodeType===9?ne.body:ne.nodeName==="HTML"?ne.ownerDocument.body:ne).removeChild(a.stateNode)}catch(d){Zt(a,i,d)}else try{ne.removeChild(a.stateNode)}catch(d){Zt(a,i,d)}break;case 18:ne!==null&&(en?(e=ne,n_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),ul(e)):n_(ne,a.stateNode));break;case 4:l=ne,h=en,ne=a.stateNode.containerInfo,en=!0,Vi(e,i,a),ne=l,en=h;break;case 0:case 11:case 14:case 15:he||ar(2,a,i),he||ar(4,a,i),Vi(e,i,a);break;case 1:he||(ei(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&oy(a,i,l)),Vi(e,i,a);break;case 21:Vi(e,i,a);break;case 22:he=(l=he)||a.memoizedState!==null,Vi(e,i,a),he=l;break;default:Vi(e,i,a)}}function py(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ul(e)}catch(a){Zt(i,i.return,a)}}function VA(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new hy),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new hy),i;default:throw Error(s(435,e.tag))}}function jf(e,i){var a=VA(e);i.forEach(function(l){var h=qA.bind(null,e,l);a.has(l)||(a.add(l),l.then(h,h))})}function un(e,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=e,v=i,T=v;t:for(;T!==null;){switch(T.tag){case 27:if(mr(T.type)){ne=T.stateNode,en=!1;break t}break;case 5:ne=T.stateNode,en=!1;break t;case 3:case 4:ne=T.stateNode.containerInfo,en=!0;break t}T=T.return}if(ne===null)throw Error(s(160));my(d,v,h),ne=null,en=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)gy(i,e),i=i.sibling}var Mn=null;function gy(e,i){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:un(i,e),cn(e),l&4&&(ar(3,e,e.return),Fo(3,e),ar(5,e,e.return));break;case 1:un(i,e),cn(e),l&512&&(he||a===null||ei(a,a.return)),l&64&&Oi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Mn;if(un(i,e),cn(e),l&512&&(he||a===null||ei(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Qr]||d[Ee]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),je(d,l,a),d[Ee]=e,ue(d),l=d;break t;case"link":var v=c_("link","href",h).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break e}}d=h.createElement(l),je(d,l,a),h.head.appendChild(d);break;case"meta":if(v=c_("meta","content",h).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break e}}d=h.createElement(l),je(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Ee]=e,ue(d),l=d}e.stateNode=l}else h_(h,e.type,e.stateNode);else e.stateNode=u_(h,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?h_(h,e.type,e.stateNode):u_(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Pf(e,e.memoizedProps,a.memoizedProps)}break;case 27:un(i,e),cn(e),l&512&&(he||a===null||ei(a,a.return)),a!==null&&l&4&&Pf(e,e.memoizedProps,a.memoizedProps);break;case 5:if(un(i,e),cn(e),l&512&&(he||a===null||ei(a,a.return)),e.flags&32){h=e.stateNode;try{_n(h,"")}catch(B){Zt(e,e.return,B)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,Pf(e,h,a!==null?a.memoizedProps:h)),l&1024&&(Lf=!0);break;case 6:if(un(i,e),cn(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(B){Zt(e,e.return,B)}}break;case 3:if(uc=null,h=Mn,Mn=oc(i.containerInfo),un(i,e),Mn=h,cn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{ul(i.containerInfo)}catch(B){Zt(e,e.return,B)}Lf&&(Lf=!1,yy(e));break;case 4:l=Mn,Mn=oc(e.stateNode.containerInfo),un(i,e),cn(e),Mn=l;break;case 12:un(i,e),cn(e);break;case 13:un(i,e),cn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ff=gn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,jf(e,l)));break;case 22:h=e.memoizedState!==null;var w=a!==null&&a.memoizedState!==null,j=Oi,Q=he;if(Oi=j||h,he=Q||w,un(i,e),he=Q,Oi=j,cn(e),l&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||w||Oi||he||_s(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){w=a=i;try{if(d=w.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=w.stateNode;var X=w.memoizedProps.style,z=X!=null&&X.hasOwnProperty("display")?X.display:null;T.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(B){Zt(w,w.return,B)}}}else if(i.tag===6){if(a===null){w=i;try{w.stateNode.nodeValue=h?"":w.memoizedProps}catch(B){Zt(w,w.return,B)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,jf(e,a))));break;case 19:un(i,e),cn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,jf(e,l)));break;case 30:break;case 21:break;default:un(i,e),cn(e)}}function cn(e){var i=e.flags;if(i&2){try{for(var a,l=e.return;l!==null;){if(uy(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Uf(e);Yu(e,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(_n(v,""),a.flags&=-33);var T=Uf(e);Yu(e,T,v);break;case 3:case 4:var w=a.stateNode.containerInfo,j=Uf(e);kf(e,j,w);break;default:throw Error(s(161))}}catch(Q){Zt(e,e.return,Q)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function yy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;yy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function or(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)fy(e,i.alternate,i),i=i.sibling}function _s(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:ar(4,i,i.return),_s(i);break;case 1:ei(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&oy(i,i.return,a),_s(i);break;case 27:el(i.stateNode);case 26:case 5:ei(i,i.return),_s(i);break;case 22:i.memoizedState===null&&_s(i);break;case 30:_s(i);break;default:_s(i)}e=e.sibling}}function lr(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=e,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:lr(h,d,a),Fo(4,d);break;case 1:if(lr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){Zt(l,l.return,j)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var w=h.shared.hiddenCallbacks;if(w!==null)for(h.shared.hiddenCallbacks=null,h=0;h<w.length;h++)Qp(w[h],T)}catch(j){Zt(l,l.return,j)}}a&&v&64&&ay(d),Qo(d,d.return);break;case 27:cy(d);case 26:case 5:lr(h,d,a),a&&l===null&&v&4&&ly(d),Qo(d,d.return);break;case 12:lr(h,d,a);break;case 13:lr(h,d,a),a&&v&4&&py(h,d);break;case 22:d.memoizedState===null&&lr(h,d,a),Qo(d,d.return);break;case 30:break;default:lr(h,d,a)}i=i.sibling}}function zf(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&xo(a))}function Bf(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&xo(e))}function ni(e,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)_y(e,i,a,l),i=i.sibling}function _y(e,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ni(e,i,a,l),h&2048&&Fo(9,i);break;case 1:ni(e,i,a,l);break;case 3:ni(e,i,a,l),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&xo(e)));break;case 12:if(h&2048){ni(e,i,a,l),e=i.stateNode;try{var d=i.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(w){Zt(i,i.return,w)}}else ni(e,i,a,l);break;case 13:ni(e,i,a,l);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?ni(e,i,a,l):Ko(e,i):d._visibility&2?ni(e,i,a,l):(d._visibility|=2,ga(e,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&zf(v,i);break;case 24:ni(e,i,a,l),h&2048&&Bf(i.alternate,i);break;default:ni(e,i,a,l)}}function ga(e,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=e,v=i,T=a,w=l,j=v.flags;switch(v.tag){case 0:case 11:case 15:ga(d,v,T,w,h),Fo(8,v);break;case 23:break;case 22:var Q=v.stateNode;v.memoizedState!==null?Q._visibility&2?ga(d,v,T,w,h):Ko(d,v):(Q._visibility|=2,ga(d,v,T,w,h)),h&&j&2048&&zf(v.alternate,v);break;case 24:ga(d,v,T,w,h),h&&j&2048&&Bf(v.alternate,v);break;default:ga(d,v,T,w,h)}i=i.sibling}}function Ko(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,l=i,h=l.flags;switch(l.tag){case 22:Ko(a,l),h&2048&&zf(l.alternate,l);break;case 24:Ko(a,l),h&2048&&Bf(l.alternate,l);break;default:Ko(a,l)}i=i.sibling}}var Yo=8192;function ya(e){if(e.subtreeFlags&Yo)for(e=e.child;e!==null;)vy(e),e=e.sibling}function vy(e){switch(e.tag){case 26:ya(e),e.flags&Yo&&e.memoizedState!==null&&_S(Mn,e.memoizedState,e.memoizedProps);break;case 5:ya(e);break;case 3:case 4:var i=Mn;Mn=oc(e.stateNode.containerInfo),ya(e),Mn=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=Yo,Yo=16777216,ya(e),Yo=i):ya(e));break;default:ya(e)}}function Ey(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function Xo(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];xe=l,Ay(l,e)}Ey(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ty(e),e=e.sibling}function Ty(e){switch(e.tag){case 0:case 11:case 15:Xo(e),e.flags&2048&&ar(9,e,e.return);break;case 3:Xo(e);break;case 12:Xo(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,Xu(e)):Xo(e);break;default:Xo(e)}}function Xu(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];xe=l,Ay(l,e)}Ey(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:ar(8,i,i.return),Xu(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Xu(i));break;default:Xu(i)}e=e.sibling}}function Ay(e,i){for(;xe!==null;){var a=xe;switch(a.tag){case 0:case 11:case 15:ar(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:xo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,xe=l;else t:for(a=e;xe!==null;){l=xe;var h=l.sibling,d=l.return;if(dy(l),l===a){xe=null;break t}if(h!==null){h.return=d,xe=h;break t}xe=d}}}var MA={getCacheForType:function(e){var i=Ge(Se),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a}},PA=typeof WeakMap=="function"?WeakMap:Map,Ft=0,Wt=null,Dt=null,kt=0,Qt=0,hn=null,ur=!1,_a=!1,qf=!1,Mi=0,le=0,cr=0,vs=0,Hf=0,In=0,va=0,$o=null,nn=null,Gf=!1,Ff=0,$u=1/0,Zu=null,hr=null,Le=0,fr=null,Ea=null,Ta=0,Qf=0,Kf=null,Sy=null,Zo=0,Yf=null;function fn(){if((Ft&2)!==0&&kt!==0)return kt&-kt;if(F.T!==null){var e=la;return e!==0?e:ed()}return Ki()}function by(){In===0&&(In=(kt&536870912)===0||Bt?so():536870912);var e=wn.current;return e!==null&&(e.flags|=32),In}function dn(e,i,a){(e===Wt&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)&&(Aa(e,0),dr(e,kt,In,!1)),fi(e,a),((Ft&2)===0||e!==Wt)&&(e===Wt&&((Ft&2)===0&&(vs|=a),le===4&&dr(e,kt,In,!1)),ii(e))}function Ry(e,i,a){if((Ft&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&e.expiredLanes)===0||Fr(e,i),h=l?LA(e,i):Zf(e,i,!0),d=l;do{if(h===0){_a&&!l&&dr(e,i,0,!1);break}else{if(a=e.current.alternate,d&&!UA(a)){h=Zf(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;t:{var T=e;h=$o;var w=T.current.memoizedState.isDehydrated;if(w&&(Aa(T,v).flags|=256),v=Zf(T,v,!1),v!==2){if(qf&&!w){T.errorRecoveryDisabledLanes|=d,vs|=d,h=4;break t}d=nn,nn=h,d!==null&&(nn===null?nn=d:nn.push.apply(nn,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){Aa(e,0),dr(e,i,0,!0);break}t:{switch(l=e,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:dr(l,i,In,!ur);break t;case 2:nn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Ff+300-gn(),10<h)){if(dr(l,i,In,!ur),js(l,0,!0)!==0)break t;l.timeoutHandle=t_(wy.bind(null,l,a,nn,Zu,Gf,i,In,vs,va,ur,d,2,-0,0),h);break t}wy(l,a,nn,Zu,Gf,i,In,vs,va,ur,d,0,-0,0)}}break}while(!0);ii(e)}function wy(e,i,a,l,h,d,v,T,w,j,Q,X,z,B){if(e.timeoutHandle=-1,X=i.subtreeFlags,(X&8192||(X&16785408)===16785408)&&(rl={stylesheets:null,count:0,unsuspend:yS},vy(i),X=vS(),X!==null)){e.cancelPendingCommit=X(Vy.bind(null,e,i,d,a,l,h,v,T,w,Q,1,z,B)),dr(e,d,v,!j);return}Vy(e,i,d,a,l,h,v,T,w)}function UA(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!on(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function dr(e,i,a,l){i&=~Hf,i&=~vs,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var h=i;0<h;){var d=31-He(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&qn(e,a,i)}function Ju(){return(Ft&6)===0?(Jo(0),!1):!0}function Xf(){if(Dt!==null){if(Qt===0)var e=Dt.return;else e=Dt,wi=ds=null,ff(e),ma=null,qo=0,e=Dt;for(;e!==null;)sy(e.alternate,e),e=e.return;Dt=null}}function Aa(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,tS(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Xf(),Wt=e,Dt=a=Si(e.current,null),kt=i,Qt=0,hn=null,ur=!1,_a=Fr(e,i),qf=!1,va=In=Hf=vs=cr=le=0,nn=$o=null,Gf=!1,(i&8)!==0&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var h=31-He(l),d=1<<h;i|=e[h],l&=~d}return Mi=i,Eu(),a}function Iy(e,i){wt=null,F.H=ju,i===Vo||i===Nu?(i=Gp(),Qt=3):i===Bp?(i=Gp(),Qt=4):Qt=i===Fg?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,hn=i,Dt===null&&(le=1,Gu(e,An(i,e.current)))}function Cy(){var e=F.H;return F.H=ju,e===null?ju:e}function Ny(){var e=F.A;return F.A=MA,e}function $f(){le=4,ur||(kt&4194048)!==kt&&wn.current!==null||(_a=!0),(cr&134217727)===0&&(vs&134217727)===0||Wt===null||dr(Wt,kt,In,!1)}function Zf(e,i,a){var l=Ft;Ft|=2;var h=Cy(),d=Ny();(Wt!==e||kt!==i)&&(Zu=null,Aa(e,i)),i=!1;var v=le;t:do try{if(Qt!==0&&Dt!==null){var T=Dt,w=hn;switch(Qt){case 8:Xf(),v=6;break t;case 3:case 2:case 9:case 6:wn.current===null&&(i=!0);var j=Qt;if(Qt=0,hn=null,Sa(e,T,w,j),a&&_a){v=0;break t}break;default:j=Qt,Qt=0,hn=null,Sa(e,T,w,j)}}kA(),v=le;break}catch(Q){Iy(e,Q)}while(!0);return i&&e.shellSuspendCounter++,wi=ds=null,Ft=l,F.H=h,F.A=d,Dt===null&&(Wt=null,kt=0,Eu()),v}function kA(){for(;Dt!==null;)Dy(Dt)}function LA(e,i){var a=Ft;Ft|=2;var l=Cy(),h=Ny();Wt!==e||kt!==i?(Zu=null,$u=gn()+500,Aa(e,i)):_a=Fr(e,i);t:do try{if(Qt!==0&&Dt!==null){i=Dt;var d=hn;e:switch(Qt){case 1:Qt=0,hn=null,Sa(e,i,d,1);break;case 2:case 9:if(qp(d)){Qt=0,hn=null,xy(i);break}i=function(){Qt!==2&&Qt!==9||Wt!==e||(Qt=7),ii(e)},d.then(i,i);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:qp(d)?(Qt=0,hn=null,xy(i)):(Qt=0,hn=null,Sa(e,i,d,7));break;case 5:var v=null;switch(Dt.tag){case 26:v=Dt.memoizedState;case 5:case 27:var T=Dt;if(!v||f_(v)){Qt=0,hn=null;var w=T.sibling;if(w!==null)Dt=w;else{var j=T.return;j!==null?(Dt=j,Wu(j)):Dt=null}break e}}Qt=0,hn=null,Sa(e,i,d,5);break;case 6:Qt=0,hn=null,Sa(e,i,d,6);break;case 8:Xf(),le=6;break t;default:throw Error(s(462))}}jA();break}catch(Q){Iy(e,Q)}while(!0);return wi=ds=null,F.H=l,F.A=h,Ft=a,Dt!==null?0:(Wt=null,kt=0,Eu(),le)}function jA(){for(;Dt!==null&&!eo();)Dy(Dt)}function Dy(e){var i=iy(e.alternate,e,Mi);e.memoizedProps=e.pendingProps,i===null?Wu(e):Dt=i}function xy(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=Zg(a,i,i.pendingProps,i.type,void 0,kt);break;case 11:i=Zg(a,i,i.pendingProps,i.type.render,i.ref,kt);break;case 5:ff(i);default:sy(a,i),i=Dt=Op(i,Mi),i=iy(a,i,Mi)}e.memoizedProps=e.pendingProps,i===null?Wu(e):Dt=i}function Sa(e,i,a,l){wi=ds=null,ff(i),ma=null,qo=0;var h=i.return;try{if(CA(e,h,i,a,kt)){le=1,Gu(e,An(a,e.current)),Dt=null;return}}catch(d){if(h!==null)throw Dt=h,d;le=1,Gu(e,An(a,e.current)),Dt=null;return}i.flags&32768?(Bt||l===1?e=!0:_a||(kt&536870912)!==0?e=!1:(ur=e=!0,(l===2||l===9||l===3||l===6)&&(l=wn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Oy(i,e)):Wu(i)}function Wu(e){var i=e;do{if((i.flags&32768)!==0){Oy(i,ur);return}e=i.return;var a=DA(i.alternate,i,Mi);if(a!==null){Dt=a;return}if(i=i.sibling,i!==null){Dt=i;return}Dt=i=e}while(i!==null);le===0&&(le=5)}function Oy(e,i){do{var a=xA(e.alternate,e);if(a!==null){a.flags&=32767,Dt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Dt=e;return}Dt=e=a}while(e!==null);le=6,Dt=null}function Vy(e,i,a,l,h,d,v,T,w){e.cancelPendingCommit=null;do tc();while(Le!==0);if((Ft&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=zh,oo(e,a,d,v,T,w),e===Wt&&(Dt=Wt=null,kt=0),Ea=i,fr=e,Ta=a,Qf=d,Kf=h,Sy=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,HA(Br,function(){return Ly(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=F.T,F.T=null,h=it.p,it.p=2,v=Ft,Ft|=4;try{OA(e,i,a)}finally{Ft=v,it.p=h,F.T=l}}Le=1,My(),Py(),Uy()}}function My(){if(Le===1){Le=0;var e=fr,i=Ea,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var l=it.p;it.p=2;var h=Ft;Ft|=4;try{gy(i,e);var d=ud,v=Ap(e.containerInfo),T=d.focusedElem,w=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&Tp(T.ownerDocument.documentElement,T)){if(w!==null&&Ph(T)){var j=w.start,Q=w.end;if(Q===void 0&&(Q=j),"selectionStart"in T)T.selectionStart=j,T.selectionEnd=Math.min(Q,T.value.length);else{var X=T.ownerDocument||document,z=X&&X.defaultView||window;if(z.getSelection){var B=z.getSelection(),vt=T.textContent.length,gt=Math.min(w.start,vt),$t=w.end===void 0?gt:Math.min(w.end,vt);!B.extend&&gt>$t&&(v=$t,$t=gt,gt=v);var P=Ep(T,gt),x=Ep(T,$t);if(P&&x&&(B.rangeCount!==1||B.anchorNode!==P.node||B.anchorOffset!==P.offset||B.focusNode!==x.node||B.focusOffset!==x.offset)){var L=X.createRange();L.setStart(P.node,P.offset),B.removeAllRanges(),gt>$t?(B.addRange(L),B.extend(x.node,x.offset)):(L.setEnd(x.node,x.offset),B.addRange(L))}}}}for(X=[],B=T;B=B.parentNode;)B.nodeType===1&&X.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<X.length;T++){var Y=X[T];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}fc=!!ld,ud=ld=null}finally{Ft=h,it.p=l,F.T=a}}e.current=i,Le=2}}function Py(){if(Le===2){Le=0;var e=fr,i=Ea,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var l=it.p;it.p=2;var h=Ft;Ft|=4;try{fy(e,i.alternate,i)}finally{Ft=h,it.p=l,F.T=a}}Le=3}}function Uy(){if(Le===4||Le===3){Le=0,Xl();var e=fr,i=Ea,a=Ta,l=Sy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Le=5:(Le=0,Ea=fr=null,ky(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(hr=null),zs(a),i=i.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(ae,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=F.T,h=it.p,it.p=2,F.T=null;try{for(var d=e.onRecoverableError,v=0;v<l.length;v++){var T=l[v];d(T.value,{componentStack:T.stack})}}finally{F.T=i,it.p=h}}(Ta&3)!==0&&tc(),ii(e),h=e.pendingLanes,(a&4194090)!==0&&(h&42)!==0?e===Yf?Zo++:(Zo=0,Yf=e):Zo=0,Jo(0)}}function ky(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,xo(i)))}function tc(e){return My(),Py(),Uy(),Ly()}function Ly(){if(Le!==5)return!1;var e=fr,i=Qf;Qf=0;var a=zs(Ta),l=F.T,h=it.p;try{it.p=32>a?32:a,F.T=null,a=Kf,Kf=null;var d=fr,v=Ta;if(Le=0,Ea=fr=null,Ta=0,(Ft&6)!==0)throw Error(s(331));var T=Ft;if(Ft|=4,Ty(d.current),_y(d,d.current,v,a),Ft=T,Jo(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(ae,d)}catch{}return!0}finally{it.p=h,F.T=l,ky(e,i)}}function jy(e,i,a){i=An(a,i),i=wf(e.stateNode,i,2),e=nr(e,i,2),e!==null&&(fi(e,2),ii(e))}function Zt(e,i,a){if(e.tag===3)jy(e,e,a);else for(;i!==null;){if(i.tag===3){jy(i,e,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(hr===null||!hr.has(l))){e=An(a,e),a=Hg(2),l=nr(i,a,2),l!==null&&(Gg(a,l,i,e),fi(l,2),ii(l));break}}i=i.return}}function Jf(e,i,a){var l=e.pingCache;if(l===null){l=e.pingCache=new PA;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(qf=!0,h.add(a),e=zA.bind(null,e,i,a),i.then(e,e))}function zA(e,i,a){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Wt===e&&(kt&a)===a&&(le===4||le===3&&(kt&62914560)===kt&&300>gn()-Ff?(Ft&2)===0&&Aa(e,0):Hf|=a,va===kt&&(va=0)),ii(e)}function zy(e,i){i===0&&(i=ao()),e=ra(e,i),e!==null&&(fi(e,i),ii(e))}function BA(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),zy(e,a)}function qA(e,i){var a=0;switch(e.tag){case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),zy(e,a)}function HA(e,i){return jr(e,i)}var ec=null,ba=null,Wf=!1,nc=!1,td=!1,Es=0;function ii(e){e!==ba&&e.next===null&&(ba===null?ec=ba=e:ba=ba.next=e),nc=!0,Wf||(Wf=!0,FA())}function Jo(e,i){if(!td&&nc){td=!0;do for(var a=!1,l=ec;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-He(42|e)+1)-1,d&=h&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Gy(l,d))}else d=kt,d=js(l,l===Wt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Fr(l,d)||(a=!0,Gy(l,d));l=l.next}while(a);td=!1}}function GA(){By()}function By(){nc=Wf=!1;var e=0;Es!==0&&(WA()&&(e=Es),Es=0);for(var i=gn(),a=null,l=ec;l!==null;){var h=l.next,d=qy(l,i);d===0?(l.next=null,a===null?ec=h:a.next=h,h===null&&(ba=a)):(a=l,(e!==0||(d&3)!==0)&&(nc=!0)),l=h}Jo(e)}function qy(e,i){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var v=31-He(d),T=1<<v,w=h[v];w===-1?((T&a)===0||(T&l)!==0)&&(h[v]=ro(T,i)):w<=i&&(e.expiredLanes|=T),d&=~T}if(i=Wt,a=kt,a=js(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===i&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&zr(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Fr(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(l!==null&&zr(l),zs(a)){case 2:case 8:a=ks;break;case 32:a=Br;break;case 268435456:a=Ls;break;default:a=Br}return l=Hy.bind(null,e),a=jr(a,l),e.callbackPriority=i,e.callbackNode=a,i}return l!==null&&l!==null&&zr(l),e.callbackPriority=2,e.callbackNode=null,2}function Hy(e,i){if(Le!==0&&Le!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(tc()&&e.callbackNode!==a)return null;var l=kt;return l=js(e,e===Wt?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Ry(e,l,i),qy(e,gn()),e.callbackNode!=null&&e.callbackNode===a?Hy.bind(null,e):null)}function Gy(e,i){if(tc())return null;Ry(e,i,!0)}function FA(){eS(function(){(Ft&6)!==0?jr(no,GA):By()})}function ed(){return Es===0&&(Es=so()),Es}function Fy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Qs(""+e)}function Qy(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function QA(e,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=Fy((h[de]||null).action),v=l.submitter;v&&(i=(i=v[de]||null)?Fy(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var T=new Ks("action","action",null,l,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Es!==0){var w=v?Qy(h,v):new FormData(h);Tf(a,{pending:!0,data:w,method:h.method,action:d},null,w)}}else typeof d=="function"&&(T.preventDefault(),w=v?Qy(h,v):new FormData(h),Tf(a,{pending:!0,data:w,method:h.method,action:d},d,w))},currentTarget:h}]})}}for(var nd=0;nd<jh.length;nd++){var id=jh[nd],KA=id.toLowerCase(),YA=id[0].toUpperCase()+id.slice(1);Vn(KA,"on"+YA)}Vn(Rp,"onAnimationEnd"),Vn(wp,"onAnimationIteration"),Vn(Ip,"onAnimationStart"),Vn("dblclick","onDoubleClick"),Vn("focusin","onFocus"),Vn("focusout","onBlur"),Vn(hA,"onTransitionRun"),Vn(fA,"onTransitionStart"),Vn(dA,"onTransitionCancel"),Vn(Cp,"onTransitionEnd"),mi("onMouseEnter",["mouseout","mouseover"]),mi("onMouseLeave",["mouseout","mouseover"]),mi("onPointerEnter",["pointerout","pointerover"]),mi("onPointerLeave",["pointerout","pointerover"]),xn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xn("onBeforeInput",["compositionend","keypress","textInput","paste"]),xn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),XA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Wo));function Ky(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var T=l[v],w=T.instance,j=T.currentTarget;if(T=T.listener,w!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=j;try{d(h)}catch(Q){Hu(Q)}h.currentTarget=null,d=w}else for(v=0;v<l.length;v++){if(T=l[v],w=T.instance,j=T.currentTarget,T=T.listener,w!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=j;try{d(h)}catch(Q){Hu(Q)}h.currentTarget=null,d=w}}}}function xt(e,i){var a=i[uo];a===void 0&&(a=i[uo]=new Set);var l=e+"__bubble";a.has(l)||(Yy(i,e,2,!1),a.add(l))}function rd(e,i,a){var l=0;i&&(l|=4),Yy(a,e,l,i)}var ic="_reactListening"+Math.random().toString(36).slice(2);function sd(e){if(!e[ic]){e[ic]=!0,co.forEach(function(a){a!=="selectionchange"&&(XA.has(a)||rd(a,!1,e),rd(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[ic]||(i[ic]=!0,rd("selectionchange",!1,i))}}function Yy(e,i,a,l){switch(__(i)){case 2:var h=AS;break;case 8:h=SS;break;default:h=vd}a=h.bind(null,i,a,e),h=void 0,!En||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function ad(e,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=l.return;v!==null;){var w=v.tag;if((w===3||w===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=di(T),v===null)return;if(w=v.tag,w===5||w===6||w===26||w===27){l=d=v;continue t}T=T.parentNode}}l=l.return}su(function(){var j=d,Q=vn(a),X=[];t:{var z=Np.get(e);if(z!==void 0){var B=Ks,vt=e;switch(e){case"keypress":if(Yn(a)===0)break t;case"keydown":case"keyup":B=Ws;break;case"focusin":vt="focus",B=$s;break;case"focusout":vt="blur",B=$s;break;case"beforeblur":case"afterblur":B=$s;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=Tn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=xh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=du;break;case Rp:case wp:case Ip:B=Zs;break;case Cp:B=pu;break;case"scroll":case"scrollend":B=au;break;case"wheel":B=ta;break;case"copy":case"cut":case"paste":B=Js;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=So;break;case"toggle":case"beforetoggle":B=yu}var gt=(i&4)!==0,$t=!gt&&(e==="scroll"||e==="scrollend"),P=gt?z!==null?z+"Capture":null:z;gt=[];for(var x=j,L;x!==null;){var Y=x;if(L=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||L===null||P===null||(Y=Wr(x,P),Y!=null&&gt.push(tl(x,Y,L))),$t)break;x=x.return}0<gt.length&&(z=new B(z,vt,null,a,Q),X.push({event:z,listeners:gt}))}}if((i&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",z&&a!==yi&&(vt=a.relatedTarget||a.fromElement)&&(di(vt)||vt[yn]))break t;if((B||z)&&(z=Q.window===Q?Q:(z=Q.ownerDocument)?z.defaultView||z.parentWindow:window,B?(vt=a.relatedTarget||a.toElement,B=j,vt=vt?di(vt):null,vt!==null&&($t=u(vt),gt=vt.tag,vt!==$t||gt!==5&&gt!==27&&gt!==6)&&(vt=null)):(B=null,vt=j),B!==vt)){if(gt=Tn,Y="onMouseLeave",P="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(gt=So,Y="onPointerLeave",P="onPointerEnter",x="pointer"),$t=B==null?z:Gn(B),L=vt==null?z:Gn(vt),z=new gt(Y,x+"leave",B,a,Q),z.target=$t,z.relatedTarget=L,Y=null,di(Q)===j&&(gt=new gt(P,x+"enter",vt,a,Q),gt.target=L,gt.relatedTarget=$t,Y=gt),$t=Y,B&&vt)e:{for(gt=B,P=vt,x=0,L=gt;L;L=Ra(L))x++;for(L=0,Y=P;Y;Y=Ra(Y))L++;for(;0<x-L;)gt=Ra(gt),x--;for(;0<L-x;)P=Ra(P),L--;for(;x--;){if(gt===P||P!==null&&gt===P.alternate)break e;gt=Ra(gt),P=Ra(P)}gt=null}else gt=null;B!==null&&Xy(X,z,B,gt,!1),vt!==null&&$t!==null&&Xy(X,$t,vt,gt,!0)}}t:{if(z=j?Gn(j):window,B=z.nodeName&&z.nodeName.toLowerCase(),B==="select"||B==="input"&&z.type==="file")var lt=mp;else if(Ae(z))if(pp)lt=lA;else{lt=aA;var Nt=sA}else B=z.nodeName,!B||B.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?j&&go(j.elementType)&&(lt=mp):lt=oA;if(lt&&(lt=lt(e,j))){Ai(X,lt,a,Q);break t}Nt&&Nt(e,z,j),e==="focusout"&&j&&z.type==="number"&&j.memoizedProps.value!=null&&Zi(z,"number",z.value)}switch(Nt=j?Gn(j):window,e){case"focusin":(Ae(Nt)||Nt.contentEditable==="true")&&(ea=Nt,Uh=j,wo=null);break;case"focusout":wo=Uh=ea=null;break;case"mousedown":kh=!0;break;case"contextmenu":case"mouseup":case"dragend":kh=!1,Sp(X,a,Q);break;case"selectionchange":if(cA)break;case"keydown":case"keyup":Sp(X,a,Q)}var ht;if(Zn)t:{switch(e){case"compositionstart":var yt="onCompositionStart";break t;case"compositionend":yt="onCompositionEnd";break t;case"compositionupdate":yt="onCompositionUpdate";break t}yt=void 0}else Pt?G(e,a)&&(yt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(yt="onCompositionStart");yt&&(_&&a.locale!=="ko"&&(Pt||yt!=="onCompositionStart"?yt==="onCompositionEnd"&&Pt&&(ht=_o()):(Kn=Q,Ji="value"in Kn?Kn.value:Kn.textContent,Pt=!0)),Nt=rc(j,yt),0<Nt.length&&(yt=new To(yt,e,null,a,Q),X.push({event:yt,listeners:Nt}),ht?yt.data=ht:(ht=nt(a),ht!==null&&(yt.data=ht)))),(ht=m?Te(e,a):Ut(e,a))&&(yt=rc(j,"onBeforeInput"),0<yt.length&&(Nt=new To("onBeforeInput","beforeinput",null,a,Q),X.push({event:Nt,listeners:yt}),Nt.data=ht)),QA(X,e,j,a,Q)}Ky(X,i)})}function tl(e,i,a){return{instance:e,listener:i,currentTarget:a}}function rc(e,i){for(var a=i+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Wr(e,a),h!=null&&l.unshift(tl(e,h,d)),h=Wr(e,i),h!=null&&l.push(tl(e,h,d))),e.tag===3)return l;e=e.return}return[]}function Ra(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Xy(e,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var T=a,w=T.alternate,j=T.stateNode;if(T=T.tag,w!==null&&w===l)break;T!==5&&T!==26&&T!==27||j===null||(w=j,h?(j=Wr(a,d),j!=null&&v.unshift(tl(a,j,w))):h||(j=Wr(a,d),j!=null&&v.push(tl(a,j,w)))),a=a.return}v.length!==0&&e.push({event:i,listeners:v})}var $A=/\r\n?/g,ZA=/\u0000|\uFFFD/g;function $y(e){return(typeof e=="string"?e:""+e).replace($A,`
`).replace(ZA,"")}function Zy(e,i){return i=$y(i),$y(e)===i}function sc(){}function Xt(e,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||_n(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&_n(e,""+l);break;case"className":Fn(e,"class",l);break;case"tabIndex":Fn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Fn(e,a,l);break;case"style":po(e,l,d);break;case"data":if(i!=="object"){Fn(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Qs(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Xt(e,i,"name",h.name,h,null),Xt(e,i,"formEncType",h.formEncType,h,null),Xt(e,i,"formMethod",h.formMethod,h,null),Xt(e,i,"formTarget",h.formTarget,h,null)):(Xt(e,i,"encType",h.encType,h,null),Xt(e,i,"method",h.method,h,null),Xt(e,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Qs(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=sc);break;case"onScroll":l!=null&&xt("scroll",e);break;case"onScrollEnd":l!=null&&xt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Qs(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":xt("beforetoggle",e),xt("toggle",e),$i(e,"popover",l);break;case"xlinkActuate":Pe(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Pe(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Pe(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Pe(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Pe(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Pe(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Pe(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Pe(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Pe(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":$i(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Nh.get(a)||a,$i(e,a,l))}}function od(e,i,a,l,h,d){switch(a){case"style":po(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?_n(e,l):(typeof l=="number"||typeof l=="bigint")&&_n(e,""+l);break;case"onScroll":l!=null&&xt("scroll",e);break;case"onScrollEnd":l!=null&&xt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=sc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Bs.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[de]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):$i(e,a,l)}}}function je(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xt("error",e),xt("load",e);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Xt(e,i,d,v,a,null)}}h&&Xt(e,i,"srcSet",a.srcSet,a,null),l&&Xt(e,i,"src",a.src,a,null);return;case"input":xt("invalid",e);var T=d=v=h=null,w=null,j=null;for(l in a)if(a.hasOwnProperty(l)){var Q=a[l];if(Q!=null)switch(l){case"name":h=Q;break;case"type":v=Q;break;case"checked":w=Q;break;case"defaultChecked":j=Q;break;case"value":d=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:Xt(e,i,l,Q,a,null)}}$r(e,d,T,w,j,v,h,!1),Fs(e);return;case"select":xt("invalid",e),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:Xt(e,i,h,T,a,null)}i=d,a=v,e.multiple=!!l,i!=null?gi(e,!!l,i,!1):a!=null&&gi(e,!!l,a,!0);return;case"textarea":xt("invalid",e),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Xt(e,i,v,T,a,null)}Zr(e,l,h,d),Fs(e);return;case"option":for(w in a)if(a.hasOwnProperty(w)&&(l=a[w],l!=null))switch(w){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Xt(e,i,w,l,a,null)}return;case"dialog":xt("beforetoggle",e),xt("toggle",e),xt("cancel",e),xt("close",e);break;case"iframe":case"object":xt("load",e);break;case"video":case"audio":for(l=0;l<Wo.length;l++)xt(Wo[l],e);break;case"image":xt("error",e),xt("load",e);break;case"details":xt("toggle",e);break;case"embed":case"source":case"link":xt("error",e),xt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(l=a[j],l!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Xt(e,i,j,l,a,null)}return;default:if(go(i)){for(Q in a)a.hasOwnProperty(Q)&&(l=a[Q],l!==void 0&&od(e,i,Q,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Xt(e,i,T,l,a,null))}function JA(e,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,w=null,j=null,Q=null;for(B in a){var X=a[B];if(a.hasOwnProperty(B)&&X!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":w=X;default:l.hasOwnProperty(B)||Xt(e,i,B,null,l,X)}}for(var z in l){var B=l[z];if(X=a[z],l.hasOwnProperty(z)&&(B!=null||X!=null))switch(z){case"type":d=B;break;case"name":h=B;break;case"checked":j=B;break;case"defaultChecked":Q=B;break;case"value":v=B;break;case"defaultValue":T=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,i));break;default:B!==X&&Xt(e,i,z,B,l,X)}}an(e,v,T,w,j,Q,d,h);return;case"select":B=v=T=z=null;for(d in a)if(w=a[d],a.hasOwnProperty(d)&&w!=null)switch(d){case"value":break;case"multiple":B=w;default:l.hasOwnProperty(d)||Xt(e,i,d,null,l,w)}for(h in l)if(d=l[h],w=a[h],l.hasOwnProperty(h)&&(d!=null||w!=null))switch(h){case"value":z=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==w&&Xt(e,i,h,d,l,w)}i=T,a=v,l=B,z!=null?gi(e,!!a,z,!1):!!l!=!!a&&(i!=null?gi(e,!!a,i,!0):gi(e,!!a,a?[]:"",!1));return;case"textarea":B=z=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Xt(e,i,T,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":z=h;break;case"defaultValue":B=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Xt(e,i,v,h,l,d)}Kt(e,z,B);return;case"option":for(var vt in a)if(z=a[vt],a.hasOwnProperty(vt)&&z!=null&&!l.hasOwnProperty(vt))switch(vt){case"selected":e.selected=!1;break;default:Xt(e,i,vt,null,l,z)}for(w in l)if(z=l[w],B=a[w],l.hasOwnProperty(w)&&z!==B&&(z!=null||B!=null))switch(w){case"selected":e.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Xt(e,i,w,z,l,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in a)z=a[gt],a.hasOwnProperty(gt)&&z!=null&&!l.hasOwnProperty(gt)&&Xt(e,i,gt,null,l,z);for(j in l)if(z=l[j],B=a[j],l.hasOwnProperty(j)&&z!==B&&(z!=null||B!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,i));break;default:Xt(e,i,j,z,l,B)}return;default:if(go(i)){for(var $t in a)z=a[$t],a.hasOwnProperty($t)&&z!==void 0&&!l.hasOwnProperty($t)&&od(e,i,$t,void 0,l,z);for(Q in l)z=l[Q],B=a[Q],!l.hasOwnProperty(Q)||z===B||z===void 0&&B===void 0||od(e,i,Q,z,l,B);return}}for(var P in a)z=a[P],a.hasOwnProperty(P)&&z!=null&&!l.hasOwnProperty(P)&&Xt(e,i,P,null,l,z);for(X in l)z=l[X],B=a[X],!l.hasOwnProperty(X)||z===B||z==null&&B==null||Xt(e,i,X,z,l,B)}var ld=null,ud=null;function ac(e){return e.nodeType===9?e:e.ownerDocument}function Jy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Wy(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function cd(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var hd=null;function WA(){var e=window.event;return e&&e.type==="popstate"?e===hd?!1:(hd=e,!0):(hd=null,!1)}var t_=typeof setTimeout=="function"?setTimeout:void 0,tS=typeof clearTimeout=="function"?clearTimeout:void 0,e_=typeof Promise=="function"?Promise:void 0,eS=typeof queueMicrotask=="function"?queueMicrotask:typeof e_<"u"?function(e){return e_.resolve(null).then(e).catch(nS)}:t_;function nS(e){setTimeout(function(){throw e})}function mr(e){return e==="head"}function n_(e,i){var a=i,l=0,h=0;do{var d=a.nextSibling;if(e.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var v=e.ownerDocument;if(a&1&&el(v.documentElement),a&2&&el(v.body),a&4)for(a=v.head,el(a),v=a.firstChild;v;){var T=v.nextSibling,w=v.nodeName;v[Qr]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=T}}if(h===0){e.removeChild(d),ul(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);ul(i)}function fd(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":fd(a),Xi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function iS(e,i,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Qr])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Pn(e.nextSibling),e===null)break}return null}function rS(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Pn(e.nextSibling),e===null))return null;return e}function dd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function sS(e,i){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Pn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}var md=null;function i_(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return e;i--}else a==="/$"&&i++}e=e.previousSibling}return null}function r_(e,i,a){switch(i=ac(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function el(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);Xi(e)}var Cn=new Map,s_=new Set;function oc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Pi=it.d;it.d={f:aS,r:oS,D:lS,C:uS,L:cS,m:hS,X:dS,S:fS,M:mS};function aS(){var e=Pi.f(),i=Ju();return e||i}function oS(e){var i=Hn(e);i!==null&&i.tag===5&&i.type==="form"?Rg(i):Pi.r(e)}var wa=typeof document>"u"?null:document;function a_(e,i,a){var l=wa;if(l&&typeof i=="string"&&i){var h=me(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),s_.has(h)||(s_.add(h),e={rel:e,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),je(i,"link",e),ue(i),l.head.appendChild(i)))}}function lS(e){Pi.D(e),a_("dns-prefetch",e,null)}function uS(e,i){Pi.C(e,i),a_("preconnect",e,i)}function cS(e,i,a){Pi.L(e,i,a);var l=wa;if(l&&e&&i){var h='link[rel="preload"][as="'+me(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+me(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+me(a.imageSizes)+'"]')):h+='[href="'+me(e)+'"]';var d=h;switch(i){case"style":d=Ia(e);break;case"script":d=Ca(e)}Cn.has(d)||(e=E({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),Cn.set(d,e),l.querySelector(h)!==null||i==="style"&&l.querySelector(nl(d))||i==="script"&&l.querySelector(il(d))||(i=l.createElement("link"),je(i,"link",e),ue(i),l.head.appendChild(i)))}}function hS(e,i){Pi.m(e,i);var a=wa;if(a&&e){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+me(l)+'"][href="'+me(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ca(e)}if(!Cn.has(d)&&(e=E({rel:"modulepreload",href:e},i),Cn.set(d,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(il(d)))return}l=a.createElement("link"),je(l,"link",e),ue(l),a.head.appendChild(l)}}}function fS(e,i,a){Pi.S(e,i,a);var l=wa;if(l&&e){var h=$e(l).hoistableStyles,d=Ia(e);i=i||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(nl(d)))T.loading=5;else{e=E({rel:"stylesheet",href:e,"data-precedence":i},a),(a=Cn.get(d))&&pd(e,a);var w=v=l.createElement("link");ue(w),je(w,"link",e),w._p=new Promise(function(j,Q){w.onload=j,w.onerror=Q}),w.addEventListener("load",function(){T.loading|=1}),w.addEventListener("error",function(){T.loading|=2}),T.loading|=4,lc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function dS(e,i){Pi.X(e,i);var a=wa;if(a&&e){var l=$e(a).hoistableScripts,h=Ca(e),d=l.get(h);d||(d=a.querySelector(il(h)),d||(e=E({src:e,async:!0},i),(i=Cn.get(h))&&gd(e,i),d=a.createElement("script"),ue(d),je(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function mS(e,i){Pi.M(e,i);var a=wa;if(a&&e){var l=$e(a).hoistableScripts,h=Ca(e),d=l.get(h);d||(d=a.querySelector(il(h)),d||(e=E({src:e,async:!0,type:"module"},i),(i=Cn.get(h))&&gd(e,i),d=a.createElement("script"),ue(d),je(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function o_(e,i,a,l){var h=(h=Tt.current)?oc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ia(a.href),a=$e(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Ia(a.href);var d=$e(h).hoistableStyles,v=d.get(e);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,v),(d=h.querySelector(nl(e)))&&!d._p&&(v.instance=d,v.state.loading=5),Cn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Cn.set(e,a),d||pS(h,e,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ca(a),a=$e(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Ia(e){return'href="'+me(e)+'"'}function nl(e){return'link[rel="stylesheet"]['+e+"]"}function l_(e){return E({},e,{"data-precedence":e.precedence,precedence:null})}function pS(e,i,a,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),je(i,"link",a),ue(i),e.head.appendChild(i))}function Ca(e){return'[src="'+me(e)+'"]'}function il(e){return"script[async]"+e}function u_(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+me(a.href)+'"]');if(l)return i.instance=l,ue(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),ue(l),je(l,"style",h),lc(l,a.precedence,e),i.instance=l;case"stylesheet":h=Ia(a.href);var d=e.querySelector(nl(h));if(d)return i.state.loading|=4,i.instance=d,ue(d),d;l=l_(a),(h=Cn.get(h))&&pd(l,h),d=(e.ownerDocument||e).createElement("link"),ue(d);var v=d;return v._p=new Promise(function(T,w){v.onload=T,v.onerror=w}),je(d,"link",l),i.state.loading|=4,lc(d,a.precedence,e),i.instance=d;case"script":return d=Ca(a.src),(h=e.querySelector(il(d)))?(i.instance=h,ue(h),h):(l=a,(h=Cn.get(d))&&(l=E({},a),gd(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),ue(h),je(h,"link",l),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,lc(l,a.precedence,e));return i.instance}function lc(e,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function pd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function gd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var uc=null;function c_(e,i,a){if(uc===null){var l=new Map,h=uc=new Map;h.set(a,l)}else h=uc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[Qr]||d[Ee]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=e+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function h_(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function gS(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function f_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var rl=null;function yS(){}function _S(e,i,a){if(rl===null)throw Error(s(475));var l=rl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Ia(a.href),d=e.querySelector(nl(h));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=cc.bind(l),e.then(l,l)),i.state.loading|=4,i.instance=d,ue(d);return}d=e.ownerDocument||e,a=l_(a),(h=Cn.get(h))&&pd(a,h),d=d.createElement("link"),ue(d);var v=d;v._p=new Promise(function(T,w){v.onload=T,v.onerror=w}),je(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=cc.bind(l),e.addEventListener("load",i),e.addEventListener("error",i))}}function vS(){if(rl===null)throw Error(s(475));var e=rl;return e.stylesheets&&e.count===0&&yd(e,e.stylesheets),0<e.count?function(i){var a=setTimeout(function(){if(e.stylesheets&&yd(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(a)}}:null}function cc(){if(this.count--,this.count===0){if(this.stylesheets)yd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var hc=null;function yd(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,hc=new Map,i.forEach(ES,e),hc=null,cc.call(e))}function ES(e,i){if(!(i.state.loading&4)){var a=hc.get(e);if(a)var l=a.get(null);else{a=new Map,hc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=cc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var sl={$$typeof:ot,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function TS(e,i,a,l,h,d,v,T){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=hi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hi(0),this.hiddenUpdates=hi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function d_(e,i,a,l,h,d,v,T,w,j,Q,X){return e=new TS(e,i,a,v,T,w,j,X),i=1,d===!0&&(i|=24),d=ln(3,null,null,i),e.current=d,d.stateNode=e,i=Zh(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},ef(d),e}function m_(e){return e?(e=sa,e):sa}function p_(e,i,a,l,h,d){h=m_(h),l.context===null?l.context=h:l.pendingContext=h,l=er(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=nr(e,l,i),a!==null&&(dn(a,e,i),Po(a,e,i))}function g_(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function _d(e,i){g_(e,i),(e=e.alternate)&&g_(e,i)}function y_(e){if(e.tag===13){var i=ra(e,67108864);i!==null&&dn(i,e,67108864),_d(e,67108864)}}var fc=!0;function AS(e,i,a,l){var h=F.T;F.T=null;var d=it.p;try{it.p=2,vd(e,i,a,l)}finally{it.p=d,F.T=h}}function SS(e,i,a,l){var h=F.T;F.T=null;var d=it.p;try{it.p=8,vd(e,i,a,l)}finally{it.p=d,F.T=h}}function vd(e,i,a,l){if(fc){var h=Ed(l);if(h===null)ad(e,i,l,dc,a),v_(e,l);else if(RS(h,e,i,a,l))l.stopPropagation();else if(v_(e,l),i&4&&-1<bS.indexOf(e)){for(;h!==null;){var d=Hn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Dn(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var w=1<<31-He(v);T.entanglements[1]|=w,v&=~w}ii(d),(Ft&6)===0&&($u=gn()+500,Jo(0))}}break;case 13:T=ra(d,2),T!==null&&dn(T,d,2),Ju(),_d(d,2)}if(d=Ed(l),d===null&&ad(e,i,l,dc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else ad(e,i,l,null,a)}}function Ed(e){return e=vn(e),Td(e)}var dc=null;function Td(e){if(dc=null,e=di(e),e!==null){var i=u(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=f(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return dc=e,null}function __(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Sh()){case no:return 2;case ks:return 8;case Br:case bh:return 32;case Ls:return 268435456;default:return 32}default:return 32}}var Ad=!1,pr=null,gr=null,yr=null,al=new Map,ol=new Map,_r=[],bS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function v_(e,i){switch(e){case"focusin":case"focusout":pr=null;break;case"dragenter":case"dragleave":gr=null;break;case"mouseover":case"mouseout":yr=null;break;case"pointerover":case"pointerout":al.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":ol.delete(i.pointerId)}}function ll(e,i,a,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Hn(i),i!==null&&y_(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function RS(e,i,a,l,h){switch(i){case"focusin":return pr=ll(pr,e,i,a,l,h),!0;case"dragenter":return gr=ll(gr,e,i,a,l,h),!0;case"mouseover":return yr=ll(yr,e,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return al.set(d,ll(al.get(d)||null,e,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,ol.set(d,ll(ol.get(d)||null,e,i,a,l,h)),!0}return!1}function E_(e){var i=di(e.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){e.blockedOn=i,Jl(e.priority,function(){if(a.tag===13){var l=fn();l=Qi(l);var h=ra(a,l);h!==null&&dn(h,a,l),_d(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function mc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=Ed(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);yi=l,a.target.dispatchEvent(l),yi=null}else return i=Hn(a),i!==null&&y_(i),e.blockedOn=a,!1;i.shift()}return!0}function T_(e,i,a){mc(e)&&a.delete(i)}function wS(){Ad=!1,pr!==null&&mc(pr)&&(pr=null),gr!==null&&mc(gr)&&(gr=null),yr!==null&&mc(yr)&&(yr=null),al.forEach(T_),ol.forEach(T_)}function pc(e,i){e.blockedOn===i&&(e.blockedOn=null,Ad||(Ad=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,wS)))}var gc=null;function A_(e){gc!==e&&(gc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){gc===e&&(gc=null);for(var i=0;i<e.length;i+=3){var a=e[i],l=e[i+1],h=e[i+2];if(typeof l!="function"){if(Td(l||a)===null)continue;break}var d=Hn(a);d!==null&&(e.splice(i,3),i-=3,Tf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function ul(e){function i(w){return pc(w,e)}pr!==null&&pc(pr,e),gr!==null&&pc(gr,e),yr!==null&&pc(yr,e),al.forEach(i),ol.forEach(i);for(var a=0;a<_r.length;a++){var l=_r[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<_r.length&&(a=_r[0],a.blockedOn===null);)E_(a),a.blockedOn===null&&_r.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[de]||null;if(typeof d=="function")v||A_(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[de]||null)T=v.formAction;else if(Td(h)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),A_(a)}}}function Sd(e){this._internalRoot=e}yc.prototype.render=Sd.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=fn();p_(a,l,e,i,null,null)},yc.prototype.unmount=Sd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;p_(e.current,2,null,e,null,null),Ju(),i[yn]=null}};function yc(e){this._internalRoot=e}yc.prototype.unstable_scheduleHydration=function(e){if(e){var i=Ki();e={blockedOn:null,target:e,priority:i};for(var a=0;a<_r.length&&i!==0&&i<_r[a].priority;a++);_r.splice(a,0,e),a===0&&E_(e)}};var S_=t.version;if(S_!=="19.1.0")throw Error(s(527,S_,"19.1.0"));it.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=g(i),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var IS={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _c=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_c.isDisabled&&_c.supportsFiber)try{ae=_c.inject(IS),Gt=_c}catch{}}return hl.createRoot=function(e,i){if(!o(e))throw Error(s(299));var a=!1,l="",h=jg,d=zg,v=Bg,T=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=d_(e,1,!1,null,null,a,l,h,d,v,T,null),e[yn]=i.current,sd(e),new Sd(i)},hl.hydrateRoot=function(e,i,a){if(!o(e))throw Error(s(299));var l=!1,h="",d=jg,v=zg,T=Bg,w=null,j=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(w=a.unstable_transitionCallbacks),a.formState!==void 0&&(j=a.formState)),i=d_(e,1,!0,i,a??null,l,h,d,v,T,w,j),i.context=m_(null),a=i.current,l=fn(),l=Qi(l),h=er(l),h.callback=null,nr(a,h,l),a=l,i.current.lanes=a,fi(i,a),ii(i),e[yn]=i.current,sd(e),new yc(i)},hl.version="19.1.0",hl}var V_;function zS(){if(V_)return wd.exports;V_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),wd.exports=jS(),wd.exports}var BS=zS();_0();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bl(){return bl=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])}return r},bl.apply(this,arguments)}var br;(function(r){r.Pop="POP",r.Push="PUSH",r.Replace="REPLACE"})(br||(br={}));const M_="popstate";function qS(r){r===void 0&&(r={});function t(s,o){let{pathname:u,search:f,hash:p}=s.location;return qd("",{pathname:u,search:f,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:E0(o)}return GS(t,n,null,r)}function ve(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function v0(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function HS(){return Math.random().toString(36).substr(2,8)}function P_(r,t){return{usr:r.state,key:r.key,idx:t}}function qd(r,t,n,s){return n===void 0&&(n=null),bl({pathname:typeof r=="string"?r:r.pathname,search:"",hash:""},typeof t=="string"?Ka(t):t,{state:n,key:t&&t.key||s||HS()})}function E0(r){let{pathname:t="/",search:n="",hash:s=""}=r;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function Ka(r){let t={};if(r){let n=r.indexOf("#");n>=0&&(t.hash=r.substr(n),r=r.substr(0,n));let s=r.indexOf("?");s>=0&&(t.search=r.substr(s),r=r.substr(0,s)),r&&(t.pathname=r)}return t}function GS(r,t,n,s){s===void 0&&(s={});let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,p=br.Pop,g=null,y=E();y==null&&(y=0,f.replaceState(bl({},f.state,{idx:y}),""));function E(){return(f.state||{idx:null}).idx}function b(){p=br.Pop;let H=E(),ct=H==null?null:H-y;y=H,g&&g({action:p,location:W.location,delta:ct})}function I(H,ct){p=br.Push;let et=qd(W.location,H,ct);y=E()+1;let ot=P_(et,y),At=W.createHref(et);try{f.pushState(ot,"",At)}catch(pt){if(pt instanceof DOMException&&pt.name==="DataCloneError")throw pt;o.location.assign(At)}u&&g&&g({action:p,location:W.location,delta:1})}function q(H,ct){p=br.Replace;let et=qd(W.location,H,ct);y=E();let ot=P_(et,y),At=W.createHref(et);f.replaceState(ot,"",At),u&&g&&g({action:p,location:W.location,delta:0})}function K(H){let ct=o.location.origin!=="null"?o.location.origin:o.location.href,et=typeof H=="string"?H:E0(H);return et=et.replace(/ $/,"%20"),ve(ct,"No window.location.(origin|href) available to create URL for href: "+et),new URL(et,ct)}let W={get action(){return p},get location(){return r(o,f)},listen(H){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(M_,b),g=H,()=>{o.removeEventListener(M_,b),g=null}},createHref(H){return t(o,H)},createURL:K,encodeLocation(H){let ct=K(H);return{pathname:ct.pathname,search:ct.search,hash:ct.hash}},push:I,replace:q,go(H){return f.go(H)}};return W}var U_;(function(r){r.data="data",r.deferred="deferred",r.redirect="redirect",r.error="error"})(U_||(U_={}));function FS(r,t,n){return n===void 0&&(n="/"),QS(r,t,n)}function QS(r,t,n,s){let o=typeof t=="string"?Ka(t):t,u=S0(o.pathname||"/",n);if(u==null)return null;let f=T0(r);KS(f);let p=null;for(let g=0;p==null&&g<f.length;++g){let y=s1(u);p=n1(f[g],y)}return p}function T0(r,t,n,s){t===void 0&&(t=[]),n===void 0&&(n=[]),s===void 0&&(s="");let o=(u,f,p)=>{let g={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};g.relativePath.startsWith("/")&&(ve(g.relativePath.startsWith(s),'Absolute route path "'+g.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),g.relativePath=g.relativePath.slice(s.length));let y=bs([s,g.relativePath]),E=n.concat(g);u.children&&u.children.length>0&&(ve(u.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+y+'".')),T0(u.children,t,E,y)),!(u.path==null&&!u.index)&&t.push({path:y,score:t1(y,u.index),routesMeta:E})};return r.forEach((u,f)=>{var p;if(u.path===""||!((p=u.path)!=null&&p.includes("?")))o(u,f);else for(let g of A0(u.path))o(u,f,g)}),t}function A0(r){let t=r.split("/");if(t.length===0)return[];let[n,...s]=t,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=A0(s.join("/")),p=[];return p.push(...f.map(g=>g===""?u:[u,g].join("/"))),o&&p.push(...f),p.map(g=>r.startsWith("/")&&g===""?"/":g)}function KS(r){r.sort((t,n)=>t.score!==n.score?n.score-t.score:e1(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const YS=/^:[\w-]+$/,XS=3,$S=2,ZS=1,JS=10,WS=-2,k_=r=>r==="*";function t1(r,t){let n=r.split("/"),s=n.length;return n.some(k_)&&(s+=WS),t&&(s+=$S),n.filter(o=>!k_(o)).reduce((o,u)=>o+(YS.test(u)?XS:u===""?ZS:JS),s)}function e1(r,t){return r.length===t.length&&r.slice(0,-1).every((s,o)=>s===t[o])?r[r.length-1]-t[t.length-1]:0}function n1(r,t,n){let{routesMeta:s}=r,o={},u="/",f=[];for(let p=0;p<s.length;++p){let g=s[p],y=p===s.length-1,E=u==="/"?t:t.slice(u.length)||"/",b=i1({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},E),I=g.route;if(!b)return null;Object.assign(o,b.params),f.push({params:o,pathname:bs([u,b.pathname]),pathnameBase:u1(bs([u,b.pathnameBase])),route:I}),b.pathnameBase!=="/"&&(u=bs([u,b.pathnameBase]))}return f}function i1(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=r1(r.path,r.caseSensitive,r.end),o=t.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:s.reduce((y,E,b)=>{let{paramName:I,isOptional:q}=E;if(I==="*"){let W=p[b]||"";f=u.slice(0,u.length-W.length).replace(/(.)\/+$/,"$1")}const K=p[b];return q&&!K?y[I]=void 0:y[I]=(K||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:r}}function r1(r,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),v0(r==="*"||!r.endsWith("*")||r.endsWith("/*"),'Route path "'+r+'" will be treated as if it were '+('"'+r.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+r.replace(/\*$/,"/*")+'".'));let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,p,g)=>(s.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function s1(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return v0(!1,'The URL path "'+r+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),r}}function S0(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function a1(r,t){t===void 0&&(t="/");let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?Ka(r):r;return{pathname:n?n.startsWith("/")?n:o1(n,t):t,search:c1(s),hash:h1(o)}}function o1(r,t){let n=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Dd(r,t,n,s){return"Cannot include a '"+r+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function l1(r){return r.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function b0(r,t){let n=l1(r);return t?n.map((s,o)=>o===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function R0(r,t,n,s){s===void 0&&(s=!1);let o;typeof r=="string"?o=Ka(r):(o=bl({},r),ve(!o.pathname||!o.pathname.includes("?"),Dd("?","pathname","search",o)),ve(!o.pathname||!o.pathname.includes("#"),Dd("#","pathname","hash",o)),ve(!o.search||!o.search.includes("#"),Dd("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,p;if(f==null)p=n;else{let b=t.length-1;if(!s&&f.startsWith("..")){let I=f.split("/");for(;I[0]==="..";)I.shift(),b-=1;o.pathname=I.join("/")}p=b>=0?t[b]:"/"}let g=a1(o,p),y=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(y||E)&&(g.pathname+="/"),g}const bs=r=>r.join("/").replace(/\/\/+/g,"/"),u1=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),c1=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,h1=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function f1(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}const w0=["post","put","patch","delete"];new Set(w0);const d1=["get",...w0];new Set(d1);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rl(){return Rl=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])}return r},Rl.apply(this,arguments)}const pm=rt.createContext(null),m1=rt.createContext(null),Ul=rt.createContext(null),ih=rt.createContext(null),Os=rt.createContext({outlet:null,matches:[],isDataRoute:!1}),I0=rt.createContext(null);function kl(){return rt.useContext(ih)!=null}function rh(){return kl()||ve(!1),rt.useContext(ih).location}function C0(r){rt.useContext(Ul).static||rt.useLayoutEffect(r)}function sh(){let{isDataRoute:r}=rt.useContext(Os);return r?I1():p1()}function p1(){kl()||ve(!1);let r=rt.useContext(pm),{basename:t,future:n,navigator:s}=rt.useContext(Ul),{matches:o}=rt.useContext(Os),{pathname:u}=rh(),f=JSON.stringify(b0(o,n.v7_relativeSplatPath)),p=rt.useRef(!1);return C0(()=>{p.current=!0}),rt.useCallback(function(y,E){if(E===void 0&&(E={}),!p.current)return;if(typeof y=="number"){s.go(y);return}let b=R0(y,JSON.parse(f),u,E.relative==="path");r==null&&t!=="/"&&(b.pathname=b.pathname==="/"?t:bs([t,b.pathname])),(E.replace?s.replace:s.push)(b,E.state,E)},[t,s,f,u,r])}function g1(r,t){return y1(r,t)}function y1(r,t,n,s){kl()||ve(!1);let{navigator:o}=rt.useContext(Ul),{matches:u}=rt.useContext(Os),f=u[u.length-1],p=f?f.params:{};f&&f.pathname;let g=f?f.pathnameBase:"/";f&&f.route;let y=rh(),E;if(t){var b;let H=typeof t=="string"?Ka(t):t;g==="/"||(b=H.pathname)!=null&&b.startsWith(g)||ve(!1),E=H}else E=y;let I=E.pathname||"/",q=I;if(g!=="/"){let H=g.replace(/^\//,"").split("/");q="/"+I.replace(/^\//,"").split("/").slice(H.length).join("/")}let K=FS(r,{pathname:q}),W=A1(K&&K.map(H=>Object.assign({},H,{params:Object.assign({},p,H.params),pathname:bs([g,o.encodeLocation?o.encodeLocation(H.pathname).pathname:H.pathname]),pathnameBase:H.pathnameBase==="/"?g:bs([g,o.encodeLocation?o.encodeLocation(H.pathnameBase).pathname:H.pathnameBase])})),u,n,s);return t&&W?rt.createElement(ih.Provider,{value:{location:Rl({pathname:"/",search:"",hash:"",state:null,key:"default"},E),navigationType:br.Pop}},W):W}function _1(){let r=w1(),t=f1(r)?r.status+" "+r.statusText:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return rt.createElement(rt.Fragment,null,rt.createElement("h2",null,"Unexpected Application Error!"),rt.createElement("h3",{style:{fontStyle:"italic"}},t),n?rt.createElement("pre",{style:o},n):null,null)}const v1=rt.createElement(_1,null);class E1 extends rt.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?rt.createElement(Os.Provider,{value:this.props.routeContext},rt.createElement(I0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function T1(r){let{routeContext:t,match:n,children:s}=r,o=rt.useContext(pm);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),rt.createElement(Os.Provider,{value:t},s)}function A1(r,t,n,s){var o;if(t===void 0&&(t=[]),n===void 0&&(n=null),s===void 0&&(s=null),r==null){var u;if(!n)return null;if(n.errors)r=n.matches;else if((u=s)!=null&&u.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let f=r,p=(o=n)==null?void 0:o.errors;if(p!=null){let E=f.findIndex(b=>b.route.id&&(p==null?void 0:p[b.route.id])!==void 0);E>=0||ve(!1),f=f.slice(0,Math.min(f.length,E+1))}let g=!1,y=-1;if(n&&s&&s.v7_partialHydration)for(let E=0;E<f.length;E++){let b=f[E];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(y=E),b.route.id){let{loaderData:I,errors:q}=n,K=b.route.loader&&I[b.route.id]===void 0&&(!q||q[b.route.id]===void 0);if(b.route.lazy||K){g=!0,y>=0?f=f.slice(0,y+1):f=[f[0]];break}}}return f.reduceRight((E,b,I)=>{let q,K=!1,W=null,H=null;n&&(q=p&&b.route.id?p[b.route.id]:void 0,W=b.route.errorElement||v1,g&&(y<0&&I===0?(C1("route-fallback"),K=!0,H=null):y===I&&(K=!0,H=b.route.hydrateFallbackElement||null)));let ct=t.concat(f.slice(0,I+1)),et=()=>{let ot;return q?ot=W:K?ot=H:b.route.Component?ot=rt.createElement(b.route.Component,null):b.route.element?ot=b.route.element:ot=E,rt.createElement(T1,{match:b,routeContext:{outlet:E,matches:ct,isDataRoute:n!=null},children:ot})};return n&&(b.route.ErrorBoundary||b.route.errorElement||I===0)?rt.createElement(E1,{location:n.location,revalidation:n.revalidation,component:W,error:q,children:et(),routeContext:{outlet:null,matches:ct,isDataRoute:!0}}):et()},null)}var N0=function(r){return r.UseBlocker="useBlocker",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r}(N0||{}),D0=function(r){return r.UseBlocker="useBlocker",r.UseLoaderData="useLoaderData",r.UseActionData="useActionData",r.UseRouteError="useRouteError",r.UseNavigation="useNavigation",r.UseRouteLoaderData="useRouteLoaderData",r.UseMatches="useMatches",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r.UseRouteId="useRouteId",r}(D0||{});function S1(r){let t=rt.useContext(pm);return t||ve(!1),t}function b1(r){let t=rt.useContext(m1);return t||ve(!1),t}function R1(r){let t=rt.useContext(Os);return t||ve(!1),t}function x0(r){let t=R1(),n=t.matches[t.matches.length-1];return n.route.id||ve(!1),n.route.id}function w1(){var r;let t=rt.useContext(I0),n=b1(),s=x0();return t!==void 0?t:(r=n.errors)==null?void 0:r[s]}function I1(){let{router:r}=S1(N0.UseNavigateStable),t=x0(D0.UseNavigateStable),n=rt.useRef(!1);return C0(()=>{n.current=!0}),rt.useCallback(function(o,u){u===void 0&&(u={}),n.current&&(typeof o=="number"?r.navigate(o):r.navigate(o,Rl({fromRouteId:t},u)))},[r,t])}const L_={};function C1(r,t,n){L_[r]||(L_[r]=!0)}function N1(r,t){r==null||r.v7_startTransition,r==null||r.v7_relativeSplatPath}function fl(r){let{to:t,replace:n,state:s,relative:o}=r;kl()||ve(!1);let{future:u,static:f}=rt.useContext(Ul),{matches:p}=rt.useContext(Os),{pathname:g}=rh(),y=sh(),E=R0(t,b0(p,u.v7_relativeSplatPath),g,o==="path"),b=JSON.stringify(E);return rt.useEffect(()=>y(JSON.parse(b),{replace:n,state:s,relative:o}),[y,b,o,n,s]),null}function Na(r){ve(!1)}function D1(r){let{basename:t="/",children:n=null,location:s,navigationType:o=br.Pop,navigator:u,static:f=!1,future:p}=r;kl()&&ve(!1);let g=t.replace(/^\/*/,"/"),y=rt.useMemo(()=>({basename:g,navigator:u,static:f,future:Rl({v7_relativeSplatPath:!1},p)}),[g,p,u,f]);typeof s=="string"&&(s=Ka(s));let{pathname:E="/",search:b="",hash:I="",state:q=null,key:K="default"}=s,W=rt.useMemo(()=>{let H=S0(E,g);return H==null?null:{location:{pathname:H,search:b,hash:I,state:q,key:K},navigationType:o}},[g,E,b,I,q,K,o]);return W==null?null:rt.createElement(Ul.Provider,{value:y},rt.createElement(ih.Provider,{children:n,value:W}))}function x1(r){let{children:t,location:n}=r;return g1(Hd(t),n)}new Promise(()=>{});function Hd(r,t){t===void 0&&(t=[]);let n=[];return rt.Children.forEach(r,(s,o)=>{if(!rt.isValidElement(s))return;let u=[...t,o];if(s.type===rt.Fragment){n.push.apply(n,Hd(s.props.children,u));return}s.type!==Na&&ve(!1),!s.props.index||!s.props.children||ve(!1);let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Hd(s.props.children,u)),n.push(f)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const O1="6";try{window.__reactRouterVersion=O1}catch{}const V1="startTransition",j_=PS[V1];function M1(r){let{basename:t,children:n,future:s,window:o}=r,u=rt.useRef();u.current==null&&(u.current=qS({window:o,v5Compat:!0}));let f=u.current,[p,g]=rt.useState({action:f.action,location:f.location}),{v7_startTransition:y}=s||{},E=rt.useCallback(b=>{y&&j_?j_(()=>g(b)):g(b)},[g,y]);return rt.useLayoutEffect(()=>f.listen(E),[f,E]),rt.useEffect(()=>N1(s),[s]),rt.createElement(D1,{basename:t,children:n,location:p.location,navigationType:p.action,navigator:f,future:s})}var z_;(function(r){r.UseScrollRestoration="useScrollRestoration",r.UseSubmit="useSubmit",r.UseSubmitFetcher="useSubmitFetcher",r.UseFetcher="useFetcher",r.useViewTransitionState="useViewTransitionState"})(z_||(z_={}));var B_;(function(r){r.UseFetcher="useFetcher",r.UseFetchers="useFetchers",r.UseScrollRestoration="useScrollRestoration"})(B_||(B_={}));const P1=()=>{};var q_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},U1=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],p=r[n++],g=((o&7)<<18|(u&63)<<12|(f&63)<<6|p&63)-65536;t[s++]=String.fromCharCode(55296+(g>>10)),t[s++]=String.fromCharCode(56320+(g&1023))}else{const u=r[n++],f=r[n++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},V0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,p=f?r[o+1]:0,g=o+2<r.length,y=g?r[o+2]:0,E=u>>2,b=(u&3)<<4|p>>4;let I=(p&15)<<2|y>>6,q=y&63;g||(q=64,f||(I=64)),s.push(n[E],n[b],n[I],n[q])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(O0(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):U1(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],p=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const b=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||p==null||y==null||b==null)throw new k1;const I=u<<2|p>>4;if(s.push(I),y!==64){const q=p<<4&240|y>>2;if(s.push(q),b!==64){const K=y<<6&192|b;s.push(K)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class k1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const L1=function(r){const t=O0(r);return V0.encodeByteArray(t,!0)},Pc=function(r){return L1(r).replace(/\./g,"")},M0=function(r){try{return V0.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1=()=>j1().__FIREBASE_DEFAULTS__,B1=()=>{if(typeof process>"u"||typeof q_>"u")return;const r=q_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},q1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&M0(r[1]);return t&&JSON.parse(t)},ah=()=>{try{return P1()||z1()||B1()||q1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},P0=r=>{var t,n;return(n=(t=ah())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[r]},H1=r=>{const t=P0(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},U0=()=>{var r;return(r=ah())===null||r===void 0?void 0:r.config},k0=r=>{var t;return(t=ah())===null||t===void 0?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ll(r){return r.endsWith(".cloudworkstations.dev")}async function L0(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F1(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Pc(JSON.stringify(n)),Pc(JSON.stringify(f)),""].join(".")}const yl={};function Q1(){const r={prod:[],emulator:[]};for(const t of Object.keys(yl))yl[t]?r.emulator.push(t):r.prod.push(t);return r}function K1(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let H_=!1;function j0(r,t){if(typeof window>"u"||typeof document>"u"||!Ll(window.location.host)||yl[r]===t||yl[r]||H_)return;yl[r]=t;function n(I){return`__firebase__banner__${I}`}const s="__firebase__banner",u=Q1().prod.length>0;function f(){const I=document.getElementById(s);I&&I.remove()}function p(I){I.style.display="flex",I.style.background="#7faaf0",I.style.position="fixed",I.style.bottom="5px",I.style.left="5px",I.style.padding=".5em",I.style.borderRadius="5px",I.style.alignItems="center"}function g(I,q){I.setAttribute("width","24"),I.setAttribute("id",q),I.setAttribute("height","24"),I.setAttribute("viewBox","0 0 24 24"),I.setAttribute("fill","none"),I.style.marginLeft="-6px"}function y(){const I=document.createElement("span");return I.style.cursor="pointer",I.style.marginLeft="16px",I.style.fontSize="24px",I.innerHTML=" &times;",I.onclick=()=>{H_=!0,f()},I}function E(I,q){I.setAttribute("id",q),I.innerText="Learn more",I.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",I.setAttribute("target","__blank"),I.style.paddingLeft="5px",I.style.textDecoration="underline"}function b(){const I=K1(s),q=n("text"),K=document.getElementById(q)||document.createElement("span"),W=n("learnmore"),H=document.getElementById(W)||document.createElement("a"),ct=n("preprendIcon"),et=document.getElementById(ct)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(I.created){const ot=I.element;p(ot),E(H,W);const At=y();g(et,ct),ot.append(et,K,H,At),document.body.appendChild(ot)}u?(K.innerText="Preview backend disconnected.",et.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(et.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,K.innerText="Preview backend running in this workspace."),K.setAttribute("id",q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Y1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xe())}function X1(){var r;const t=(r=ah())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Z1(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function J1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function W1(){const r=Xe();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function tb(){return!X1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function eb(){try{return typeof indexedDB=="object"}catch{return!1}}function nb(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;t(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib="FirebaseError";class Gi extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=ib,Object.setPrototypeOf(this,Gi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jl.prototype.create)}}class jl{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?rb(u,s):"Error",p=`${this.serviceName}: ${f} (${o}).`;return new Gi(o,p,s)}}function rb(r,t){return r.replace(sb,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const sb=/\{\$([^}]+)}/g;function ab(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Is(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=t[o];if(G_(u)&&G_(f)){if(!Is(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function G_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zl(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function ob(r,t){const n=new lb(r,t);return n.subscribe.bind(n)}class lb{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");ub(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=xd),o.error===void 0&&(o.error=xd),o.complete===void 0&&(o.complete=xd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ub(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function xd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(r){return r&&r._delegate?r._delegate:r}class Cs{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new G1;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(fb(t))try{this.getOrInitializeService({instanceIdentifier:Ts})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=Ts){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ts){return this.instances.has(t)}getOptions(t=Ts){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);s===p&&f.resolve(o)}return o}onInit(t,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(t),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&t(f,o),()=>{u.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:hb(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Ts){return this.component?this.component.multipleInstances?t:Ts:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function hb(r){return r===Ts?void 0:r}function fb(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new cb(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ot;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ot||(Ot={}));const mb={debug:Ot.DEBUG,verbose:Ot.VERBOSE,info:Ot.INFO,warn:Ot.WARN,error:Ot.ERROR,silent:Ot.SILENT},pb=Ot.INFO,gb={[Ot.DEBUG]:"log",[Ot.VERBOSE]:"log",[Ot.INFO]:"info",[Ot.WARN]:"warn",[Ot.ERROR]:"error"},yb=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),o=gb[t];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class gm{constructor(t){this.name=t,this._logLevel=pb,this._logHandler=yb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ot))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?mb[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ot.DEBUG,...t),this._logHandler(this,Ot.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ot.VERBOSE,...t),this._logHandler(this,Ot.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ot.INFO,...t),this._logHandler(this,Ot.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ot.WARN,...t),this._logHandler(this,Ot.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ot.ERROR,...t),this._logHandler(this,Ot.ERROR,...t)}}const _b=(r,t)=>t.some(n=>r instanceof n);let F_,Q_;function vb(){return F_||(F_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Eb(){return Q_||(Q_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const z0=new WeakMap,Gd=new WeakMap,B0=new WeakMap,Od=new WeakMap,ym=new WeakMap;function Tb(r){const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(wr(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&z0.set(n,r)}).catch(()=>{}),ym.set(t,r),t}function Ab(r){if(Gd.has(r))return;const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Gd.set(r,t)}let Fd={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return Gd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||B0.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return wr(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function Sb(r){Fd=r(Fd)}function bb(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(Vd(this),t,...n);return B0.set(s,t.sort?t.sort():[t]),wr(s)}:Eb().includes(r)?function(...t){return r.apply(Vd(this),t),wr(z0.get(this))}:function(...t){return wr(r.apply(Vd(this),t))}}function Rb(r){return typeof r=="function"?bb(r):(r instanceof IDBTransaction&&Ab(r),_b(r,vb())?new Proxy(r,Fd):r)}function wr(r){if(r instanceof IDBRequest)return Tb(r);if(Od.has(r))return Od.get(r);const t=Rb(r);return t!==r&&(Od.set(r,t),ym.set(t,r)),t}const Vd=r=>ym.get(r);function wb(r,t,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,t),p=wr(f);return s&&f.addEventListener("upgradeneeded",g=>{s(wr(f.result),g.oldVersion,g.newVersion,wr(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),p.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const Ib=["get","getKey","getAll","getAllKeys","count"],Cb=["put","add","delete","clear"],Md=new Map;function K_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Md.get(t))return Md.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=Cb.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||Ib.includes(n)))return;const u=async function(f,...p){const g=this.transaction(f,o?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(p.shift())),(await Promise.all([y[n](...p),o&&g.done]))[0]};return Md.set(t,u),u}Sb(r=>({...r,get:(t,n,s)=>K_(t,n)||r.get(t,n,s),has:(t,n)=>!!K_(t,n)||r.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Db(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function Db(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Qd="@firebase/app",Y_="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zi=new gm("@firebase/app"),xb="@firebase/app-compat",Ob="@firebase/analytics-compat",Vb="@firebase/analytics",Mb="@firebase/app-check-compat",Pb="@firebase/app-check",Ub="@firebase/auth",kb="@firebase/auth-compat",Lb="@firebase/database",jb="@firebase/data-connect",zb="@firebase/database-compat",Bb="@firebase/functions",qb="@firebase/functions-compat",Hb="@firebase/installations",Gb="@firebase/installations-compat",Fb="@firebase/messaging",Qb="@firebase/messaging-compat",Kb="@firebase/performance",Yb="@firebase/performance-compat",Xb="@firebase/remote-config",$b="@firebase/remote-config-compat",Zb="@firebase/storage",Jb="@firebase/storage-compat",Wb="@firebase/firestore",tR="@firebase/ai",eR="@firebase/firestore-compat",nR="firebase",iR="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kd="[DEFAULT]",rR={[Qd]:"fire-core",[xb]:"fire-core-compat",[Vb]:"fire-analytics",[Ob]:"fire-analytics-compat",[Pb]:"fire-app-check",[Mb]:"fire-app-check-compat",[Ub]:"fire-auth",[kb]:"fire-auth-compat",[Lb]:"fire-rtdb",[jb]:"fire-data-connect",[zb]:"fire-rtdb-compat",[Bb]:"fire-fn",[qb]:"fire-fn-compat",[Hb]:"fire-iid",[Gb]:"fire-iid-compat",[Fb]:"fire-fcm",[Qb]:"fire-fcm-compat",[Kb]:"fire-perf",[Yb]:"fire-perf-compat",[Xb]:"fire-rc",[$b]:"fire-rc-compat",[Zb]:"fire-gcs",[Jb]:"fire-gcs-compat",[Wb]:"fire-fst",[eR]:"fire-fst-compat",[tR]:"fire-vertex","fire-js":"fire-js",[nR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uc=new Map,sR=new Map,Yd=new Map;function X_(r,t){try{r.container.addComponent(t)}catch(n){zi.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function La(r){const t=r.name;if(Yd.has(t))return zi.debug(`There were multiple attempts to register component ${t}.`),!1;Yd.set(t,r);for(const n of Uc.values())X_(n,r);for(const n of sR.values())X_(n,r);return!0}function _m(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function Un(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ir=new jl("app","Firebase",aR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(t,n,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Cs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ir.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ya=iR;function q0(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s=Object.assign({name:Kd,automaticDataCollectionEnabled:!0},t),o=s.name;if(typeof o!="string"||!o)throw Ir.create("bad-app-name",{appName:String(o)});if(n||(n=U0()),!n)throw Ir.create("no-options");const u=Uc.get(o);if(u){if(Is(n,u.options)&&Is(s,u.config))return u;throw Ir.create("duplicate-app",{appName:o})}const f=new db(o);for(const g of Yd.values())f.addComponent(g);const p=new oR(n,s,f);return Uc.set(o,p),p}function H0(r=Kd){const t=Uc.get(r);if(!t&&r===Kd&&U0())return q0();if(!t)throw Ir.create("no-app",{appName:r});return t}function Cr(r,t,n){var s;let o=(s=rR[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=t.match(/\s|\//);if(u||f){const p=[`Unable to register library "${o}" with version "${t}":`];u&&p.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&p.push("and"),f&&p.push(`version name "${t}" contains illegal characters (whitespace or "/")`),zi.warn(p.join(" "));return}La(new Cs(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR="firebase-heartbeat-database",uR=1,wl="firebase-heartbeat-store";let Pd=null;function G0(){return Pd||(Pd=wb(lR,uR,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(wl)}catch(n){console.warn(n)}}}}).catch(r=>{throw Ir.create("idb-open",{originalErrorMessage:r.message})})),Pd}async function cR(r){try{const n=(await G0()).transaction(wl),s=await n.objectStore(wl).get(F0(r));return await n.done,s}catch(t){if(t instanceof Gi)zi.warn(t.message);else{const n=Ir.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});zi.warn(n.message)}}}async function $_(r,t){try{const s=(await G0()).transaction(wl,"readwrite");await s.objectStore(wl).put(t,F0(r)),await s.done}catch(n){if(n instanceof Gi)zi.warn(n.message);else{const s=Ir.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});zi.warn(s.message)}}}function F0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hR=1024,fR=30;class dR{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new pR(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Z_();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>fR){const f=gR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){zi.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Z_(),{heartbeatsToSend:s,unsentEntries:o}=mR(this._heartbeatsCache.heartbeats),u=Pc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return zi.warn(n),""}}}function Z_(){return new Date().toISOString().substring(0,10)}function mR(r,t=hR){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),J_(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),J_(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class pR{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return eb()?nb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await cR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return $_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return $_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function J_(r){return Pc(JSON.stringify({version:2,heartbeats:r})).length}function gR(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yR(r){La(new Cs("platform-logger",t=>new Nb(t),"PRIVATE")),La(new Cs("heartbeat",t=>new dR(t),"PRIVATE")),Cr(Qd,Y_,r),Cr(Qd,Y_,"esm2017"),Cr("fire-js","")}yR("");var _R="firebase",vR="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cr(_R,vR,"app");function vm(r,t){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&t.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function Q0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ER=Q0,K0=new jl("auth","Firebase",Q0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kc=new gm("@firebase/auth");function TR(r,...t){kc.logLevel<=Ot.WARN&&kc.warn(`Auth (${Ya}): ${r}`,...t)}function Rc(r,...t){kc.logLevel<=Ot.ERROR&&kc.error(`Auth (${Ya}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function li(r,...t){throw Tm(r,...t)}function jn(r,...t){return Tm(r,...t)}function Em(r,t,n){const s=Object.assign(Object.assign({},ER()),{[t]:n});return new jl("auth","Firebase",s).create(t,{appName:r.name})}function Rs(r){return Em(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function AR(r,t,n){const s=n;if(!(t instanceof s))throw s.name!==t.constructor.name&&li(r,"argument-error"),Em(r,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Tm(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return K0.create(r,...t)}function Et(r,t,...n){if(!r)throw Tm(t,...n)}function ki(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Rc(t),new Error(t)}function Bi(r,t){r||ki(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xd(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function SR(){return W_()==="http:"||W_()==="https:"}function W_(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(SR()||Z1()||"connection"in navigator)?navigator.onLine:!0}function RR(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(t,n){this.shortDelay=t,this.longDelay=n,Bi(n>t,"Short delay should be less than long delay!"),this.isMobile=Y1()||J1()}get(){return bR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Am(r,t){Bi(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ki("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ki("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ki("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],CR=new Bl(3e4,6e4);function Sm(r,t){return r.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:r.tenantId}):t}async function Xa(r,t,n,s,o={}){return X0(r,o,async()=>{let u={},f={};s&&(t==="GET"?f=s:u={body:JSON.stringify(s)});const p=zl(Object.assign({key:r.config.apiKey},f)).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const y=Object.assign({method:t,headers:g},u);return $1()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&Ll(r.emulatorConfig.host)&&(y.credentials="include"),Y0.fetch()(await $0(r,r.config.apiHost,n,p),y)})}async function X0(r,t,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},wR),t);try{const o=new DR(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw vc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const p=u.ok?f.errorMessage:f.error.message,[g,y]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw vc(r,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw vc(r,"email-already-in-use",f);if(g==="USER_DISABLED")throw vc(r,"user-disabled",f);const E=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Em(r,E,y);li(r,E)}}catch(o){if(o instanceof Gi)throw o;li(r,"network-request-failed",{message:String(o)})}}async function NR(r,t,n,s,o={}){const u=await Xa(r,t,n,s,o);return"mfaPendingCredential"in u&&li(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function $0(r,t,n,s){const o=`${t}${n}?${s}`,u=r,f=u.config.emulator?Am(r.config,o):`${r.config.apiScheme}://${o}`;return IR.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class DR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(jn(this.auth,"network-request-failed")),CR.get())})}}function vc(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=jn(r,t,s);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xR(r,t){return Xa(r,"POST","/v1/accounts:delete",t)}async function Lc(r,t){return Xa(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _l(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function OR(r,t=!1){const n=pn(r),s=await n.getIdToken(t),o=bm(s);Et(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:_l(Ud(o.auth_time)),issuedAtTime:_l(Ud(o.iat)),expirationTime:_l(Ud(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Ud(r){return Number(r)*1e3}function bm(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return Rc("JWT malformed, contained fewer than 3 sections"),null;try{const o=M0(n);return o?JSON.parse(o):(Rc("Failed to decode base64 JWT payload"),null)}catch(o){return Rc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function tv(r){const t=bm(r);return Et(t,"internal-error"),Et(typeof t.exp<"u","internal-error"),Et(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Il(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof Gi&&VR(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function VR({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=_l(this.lastLoginAt),this.creationTime=_l(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jc(r){var t;const n=r.auth,s=await r.getIdToken(),o=await Il(r,Lc(n,{idToken:s}));Et(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((t=u.providerUserInfo)===null||t===void 0)&&t.length?Z0(u.providerUserInfo):[],p=UR(r.providerData,f),g=r.isAnonymous,y=!(r.email&&u.passwordHash)&&!(p!=null&&p.length),E=g?y:!1,b={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:p,metadata:new $d(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(r,b)}async function PR(r){const t=pn(r);await jc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function UR(r,t){return[...r.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function Z0(r){return r.map(t=>{var{providerId:n}=t,s=vm(t,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kR(r,t){const n=await X0(r,{},async()=>{const s=zl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await $0(r,o,"/v1/token",`key=${u}`),p=await r._getAdditionalHeaders();return p["Content-Type"]="application/x-www-form-urlencoded",Y0.fetch()(f,{method:"POST",headers:p,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function LR(r,t){return Xa(r,"POST","/v2/accounts:revokeToken",Sm(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Et(t.idToken,"internal-error"),Et(typeof t.idToken<"u","internal-error"),Et(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):tv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Et(t.length!==0,"internal-error");const n=tv(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Et(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await kR(t,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new Ma;return s&&(Et(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),o&&(Et(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(Et(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ma,this.toJSON())}_performRefresh(){return ki("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Er(r,t){Et(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class kn{constructor(t){var{uid:n,auth:s,stsTokenManager:o}=t,u=vm(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new MR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new $d(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(t){const n=await Il(this,this.stsTokenManager.getToken(this.auth,t));return Et(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return OR(this,t)}reload(){return PR(this)}_assign(t){this!==t&&(Et(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new kn(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){Et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await jc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Un(this.auth.app))return Promise.reject(Rs(this.auth));const t=await this.getIdToken();return await Il(this,xR(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var s,o,u,f,p,g,y,E;const b=(s=n.displayName)!==null&&s!==void 0?s:void 0,I=(o=n.email)!==null&&o!==void 0?o:void 0,q=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,K=(f=n.photoURL)!==null&&f!==void 0?f:void 0,W=(p=n.tenantId)!==null&&p!==void 0?p:void 0,H=(g=n._redirectEventId)!==null&&g!==void 0?g:void 0,ct=(y=n.createdAt)!==null&&y!==void 0?y:void 0,et=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:ot,emailVerified:At,isAnonymous:pt,providerData:Mt,stsTokenManager:V}=n;Et(ot&&V,t,"internal-error");const R=Ma.fromJSON(this.name,V);Et(typeof ot=="string",t,"internal-error"),Er(b,t.name),Er(I,t.name),Et(typeof At=="boolean",t,"internal-error"),Et(typeof pt=="boolean",t,"internal-error"),Er(q,t.name),Er(K,t.name),Er(W,t.name),Er(H,t.name),Er(ct,t.name),Er(et,t.name);const C=new kn({uid:ot,auth:t,email:I,emailVerified:At,displayName:b,isAnonymous:pt,photoURL:K,phoneNumber:q,tenantId:W,stsTokenManager:R,createdAt:ct,lastLoginAt:et});return Mt&&Array.isArray(Mt)&&(C.providerData=Mt.map(O=>Object.assign({},O))),H&&(C._redirectEventId=H),C}static async _fromIdTokenResponse(t,n,s=!1){const o=new Ma;o.updateFromServerResponse(n);const u=new kn({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await jc(u),u}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];Et(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?Z0(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),p=new Ma;p.updateFromIdToken(s);const g=new kn({uid:o.localId,auth:t,stsTokenManager:p,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new $d(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(g,y),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ev=new Map;function Li(r){Bi(r instanceof Function,"Expected a class definition");let t=ev.get(r);return t?(Bi(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,ev.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}J0.type="NONE";const nv=J0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wc(r,t,n){return`firebase:${r}:${t}:${n}`}class Pa{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=wc(this.userKey,o.apiKey,u),this.fullPersistenceKey=wc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Lc(this.auth,{idToken:t}).catch(()=>{});return n?kn._fromGetAccountInfoResponse(this.auth,n,t):null}return kn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new Pa(Li(nv),t,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||Li(nv);const f=wc(s,t.config.apiKey,t.name);let p=null;for(const y of n)try{const E=await y._get(f);if(E){let b;if(typeof E=="string"){const I=await Lc(t,{idToken:E}).catch(()=>{});if(!I)break;b=await kn._fromGetAccountInfoResponse(t,I,E)}else b=kn._fromJSON(t,E);y!==u&&(p=b),u=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new Pa(u,t,s):(u=g[0],p&&await u._set(f,p.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new Pa(u,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iv(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(nE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(W0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(rE(t))return"Blackberry";if(sE(t))return"Webos";if(tE(t))return"Safari";if((t.includes("chrome/")||eE(t))&&!t.includes("edge/"))return"Chrome";if(iE(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function W0(r=Xe()){return/firefox\//i.test(r)}function tE(r=Xe()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function eE(r=Xe()){return/crios\//i.test(r)}function nE(r=Xe()){return/iemobile/i.test(r)}function iE(r=Xe()){return/android/i.test(r)}function rE(r=Xe()){return/blackberry/i.test(r)}function sE(r=Xe()){return/webos/i.test(r)}function Rm(r=Xe()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function jR(r=Xe()){var t;return Rm(r)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function zR(){return W1()&&document.documentMode===10}function aE(r=Xe()){return Rm(r)||iE(r)||sE(r)||rE(r)||/windows phone/i.test(r)||nE(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oE(r,t=[]){let n;switch(r){case"Browser":n=iv(Xe());break;case"Worker":n=`${iv(Xe())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ya}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((f,p)=>{try{const g=t(u);f(g)}catch(g){p(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qR(r,t={}){return Xa(r,"GET","/v2/passwordPolicy",Sm(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR=6;class GR{constructor(t){var n,s,o,u;const f=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:HR,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=t.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=t.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,s,o,u,f,p;const g={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,g),this.validatePasswordCharacterOptions(t,g),g.isValid&&(g.isValid=(n=g.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),g.isValid&&(g.isValid=(s=g.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),g.isValid&&(g.isValid=(o=g.containsLowercaseLetter)!==null&&o!==void 0?o:!0),g.isValid&&(g.isValid=(u=g.containsUppercaseLetter)!==null&&u!==void 0?u:!0),g.isValid&&(g.isValid=(f=g.containsNumericCharacter)!==null&&f!==void 0?f:!0),g.isValid&&(g.isValid=(p=g.containsNonAlphanumericCharacter)!==null&&p!==void 0?p:!0),g}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rv(this),this.idTokenSubscription=new rv(this),this.beforeStateQueue=new BR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=K0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Li(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await Pa.create(this,t),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Lc(this,{idToken:t}),s=await kn._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(Un(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(p,p))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,p=o==null?void 0:o._redirectEventId,g=await this.tryRedirectSignIn(t);(!f||f===p)&&(g!=null&&g.user)&&(o=g.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Et(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await jc(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=RR()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Un(this.app))return Promise.reject(Rs(this));const n=t?pn(t):null;return n&&Et(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Et(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Un(this.app)?Promise.reject(Rs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Un(this.app)?Promise.reject(Rs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Li(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await qR(this),n=new GR(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new jl("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await LR(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Li(t)||this._popupRedirectResolver;Et(n,this,"argument-error"),this.redirectPersistenceManager=await Pa.create(this,[Li(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Et(p,this,"internal-error"),p.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const g=t.addObserver(n,s,o);return()=>{f=!0,g()}}else{const g=t.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=oE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var t;if(Un(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&TR(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function oh(r){return pn(r)}class rv{constructor(t){this.auth=t,this.observer=null,this.addObserver=ob(n=>this.observer=n)}get next(){return Et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function QR(r){wm=r}function KR(r){return wm.loadJS(r)}function YR(){return wm.gapiScript}function XR(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $R(r,t){const n=_m(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Is(u,t??{}))return o;li(o,"already-initialized")}return n.initialize({options:t})}function ZR(r,t){const n=(t==null?void 0:t.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Li);t!=null&&t.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function JR(r,t,n){const s=oh(r);Et(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=lE(t),{host:f,port:p}=WR(t),g=p===null?"":`:${p}`,y={url:`${u}//${f}${g}/`},E=Object.freeze({host:f,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Et(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Et(Is(y,s.config.emulator)&&Is(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,Ll(f)?(L0(`${u}//${f}${g}`),j0("Auth",!0)):tw()}function lE(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function WR(r){const t=lE(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:sv(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:sv(f)}}}function sv(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function tw(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return ki("not implemented")}_getIdTokenResponse(t){return ki("not implemented")}_linkToIdToken(t,n){return ki("not implemented")}_getReauthenticationResolver(t){return ki("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ua(r,t){return NR(r,"POST","/v1/accounts:signInWithIdp",Sm(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew="http://localhost";class Ns extends uE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Ns(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):li("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o}=n,u=vm(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new Ns(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return Ua(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,Ua(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Ua(t,n)}buildRequest(){const t={requestUri:ew,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=zl(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql extends Im{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr extends ql{constructor(){super("facebook.com")}static credential(t){return Ns._fromParams({providerId:Tr.PROVIDER_ID,signInMethod:Tr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Tr.credentialFromTaggedObject(t)}static credentialFromError(t){return Tr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Tr.credential(t.oauthAccessToken)}catch{return null}}}Tr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Tr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui extends ql{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Ns._fromParams({providerId:Ui.PROVIDER_ID,signInMethod:Ui.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Ui.credentialFromTaggedObject(t)}static credentialFromError(t){return Ui.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return Ui.credential(n,s)}catch{return null}}}Ui.GOOGLE_SIGN_IN_METHOD="google.com";Ui.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar extends ql{constructor(){super("github.com")}static credential(t){return Ns._fromParams({providerId:Ar.PROVIDER_ID,signInMethod:Ar.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ar.credentialFromTaggedObject(t)}static credentialFromError(t){return Ar.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ar.credential(t.oauthAccessToken)}catch{return null}}}Ar.GITHUB_SIGN_IN_METHOD="github.com";Ar.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr extends ql{constructor(){super("twitter.com")}static credential(t,n){return Ns._fromParams({providerId:Sr.PROVIDER_ID,signInMethod:Sr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Sr.credentialFromTaggedObject(t)}static credentialFromError(t){return Sr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return Sr.credential(n,s)}catch{return null}}}Sr.TWITTER_SIGN_IN_METHOD="twitter.com";Sr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const u=await kn._fromIdTokenResponse(t,s,o),f=av(s);return new ja({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=av(s);return new ja({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function av(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc extends Gi{constructor(t,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,zc.prototype),this.customData={appName:t.name,tenantId:(u=t.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new zc(t,n,s,o)}}function cE(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?zc._fromErrorAndOperation(r,u,t,s):u})}async function nw(r,t,n=!1){const s=await Il(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return ja._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iw(r,t,n=!1){const{auth:s}=r;if(Un(s.app))return Promise.reject(Rs(s));const o="reauthenticate";try{const u=await Il(r,cE(s,o,t,r),n);Et(u.idToken,s,"internal-error");const f=bm(u.idToken);Et(f,s,"internal-error");const{sub:p}=f;return Et(r.uid===p,s,"user-mismatch"),ja._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&li(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rw(r,t,n=!1){if(Un(r.app))return Promise.reject(Rs(r));const s="signIn",o=await cE(r,s,t),u=await ja._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}function sw(r,t,n,s){return pn(r).onIdTokenChanged(t,n,s)}function aw(r,t,n){return pn(r).beforeAuthStateChanged(t,n)}const Bc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Bc,"1"),this.storage.removeItem(Bc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow=1e3,lw=10;class fE extends hE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=aE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,p,g)=>{this.notifyListeners(f,g)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);zR()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,lw):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},ow)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}fE.type="LOCAL";const uw=fE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE extends hE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}dE.type="SESSION";const mE=dE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cw(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new lh(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const p=Array.from(f).map(async y=>y(n.origin,u)),g=await cw(p);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}lh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cm(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((p,g)=>{const y=Cm("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(b){const I=b;if(I.data.eventId===y)switch(I.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(I.data.response);break;default:clearTimeout(E),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(){return window}function fw(r){si().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pE(){return typeof si().WorkerGlobalScope<"u"&&typeof si().importScripts=="function"}async function dw(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function mw(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function pw(){return pE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE="firebaseLocalStorageDb",gw=1,qc="firebaseLocalStorage",yE="fbase_key";class Hl{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function uh(r,t){return r.transaction([qc],t?"readwrite":"readonly").objectStore(qc)}function yw(){const r=indexedDB.deleteDatabase(gE);return new Hl(r).toPromise()}function Zd(){const r=indexedDB.open(gE,gw);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(qc,{keyPath:yE})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(qc)?t(s):(s.close(),await yw(),t(await Zd()))})})}async function ov(r,t,n){const s=uh(r,!0).put({[yE]:t,value:n});return new Hl(s).toPromise()}async function _w(r,t){const n=uh(r,!1).get(t),s=await new Hl(n).toPromise();return s===void 0?null:s.value}function lv(r,t){const n=uh(r,!0).delete(t);return new Hl(n).toPromise()}const vw=800,Ew=3;class _E{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Zd(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>Ew)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return pE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=lh._getInstance(pw()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await dw(),!this.activeServiceWorker)return;this.sender=new hw(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||mw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Zd();return await ov(t,Bc,"1"),await lv(t,Bc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>ov(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>_w(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>lv(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=uh(o,!1).getAll();return new Hl(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),vw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}_E.type="LOCAL";const Tw=_E;new Bl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vE(r,t){return t?Li(t):(Et(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm extends uE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ua(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Ua(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Ua(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function Aw(r){return rw(r.auth,new Nm(r),r.bypassAuthState)}function Sw(r){const{auth:t,user:n}=r;return Et(n,t,"internal-error"),iw(n,new Nm(r),r.bypassAuthState)}async function bw(r){const{auth:t,user:n}=r;return Et(n,t,"internal-error"),nw(n,new Nm(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(t,n,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:p}=t;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Aw;case"linkViaPopup":case"linkViaRedirect":return bw;case"reauthViaPopup":case"reauthViaRedirect":return Sw;default:li(this.auth,"internal-error")}}resolve(t){Bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rw=new Bl(2e3,1e4);async function ww(r,t,n){if(Un(r.app))return Promise.reject(jn(r,"operation-not-supported-in-this-environment"));const s=oh(r);AR(r,t,Im);const o=vE(s,n);return new As(s,"signInViaPopup",t,o).executeNotNull()}class As extends EE{constructor(t,n,s,o,u){super(t,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,As.currentPopupAction&&As.currentPopupAction.cancel(),As.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Et(t,this.auth,"internal-error"),t}async onExecution(){Bi(this.filter.length===1,"Popup operations only handle one event");const t=Cm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(jn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(jn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,As.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(jn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Rw.get())};t()}}As.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iw="pendingRedirect",Ic=new Map;class Cw extends EE{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=Ic.get(this.auth._key());if(!t){try{const s=await Nw(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}Ic.set(this.auth._key(),t)}return this.bypassAuthState||Ic.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Nw(r,t){const n=Ow(t),s=xw(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function Dw(r,t){Ic.set(r._key(),t)}function xw(r){return Li(r._redirectPersistence)}function Ow(r){return wc(Iw,r.config.apiKey,r.name)}async function Vw(r,t,n=!1){if(Un(r.app))return Promise.reject(Rs(r));const s=oh(r),o=vE(s,t),f=await new Cw(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw=10*60*1e3;class Pw{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Uw(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var s;if(t.error&&!TE(t)){const o=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(jn(this.auth,o))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Mw&&this.cachedEventUids.clear(),this.cachedEventUids.has(uv(t))}saveEventToCache(t){this.cachedEventUids.add(uv(t)),this.lastProcessedEventTime=Date.now()}}function uv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function TE({type:r,error:t}){return r==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function Uw(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return TE(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kw(r,t={}){return Xa(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,jw=/^https?/;async function zw(r){if(r.config.emulator)return;const{authorizedDomains:t}=await kw(r);for(const n of t)try{if(Bw(n))return}catch{}li(r,"unauthorized-domain")}function Bw(r){const t=Xd(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!jw.test(n))return!1;if(Lw.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw=new Bl(3e4,6e4);function cv(){const r=si().___jsl;if(r!=null&&r.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function Hw(r){return new Promise((t,n)=>{var s,o,u;function f(){cv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{cv(),n(jn(r,"network-request-failed"))},timeout:qw.get()})}if(!((o=(s=si().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)t(gapi.iframes.getContext());else if(!((u=si().gapi)===null||u===void 0)&&u.load)f();else{const p=XR("iframefcb");return si()[p]=()=>{gapi.load?f():n(jn(r,"network-request-failed"))},KR(`${YR()}?onload=${p}`).catch(g=>n(g))}}).catch(t=>{throw Cc=null,t})}let Cc=null;function Gw(r){return Cc=Cc||Hw(r),Cc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw=new Bl(5e3,15e3),Qw="__/auth/iframe",Kw="emulator/auth/iframe",Yw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Xw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $w(r){const t=r.config;Et(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?Am(t,Kw):`https://${r.config.authDomain}/${Qw}`,s={apiKey:t.apiKey,appName:r.name,v:Ya},o=Xw.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${zl(s).slice(1)}`}async function Zw(r){const t=await Gw(r),n=si().gapi;return Et(n,r,"internal-error"),t.open({where:document.body,url:$w(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Yw,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=jn(r,"network-request-failed"),p=si().setTimeout(()=>{u(f)},Fw.get());function g(){si().clearTimeout(p),o(s)}s.ping(g).then(g,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ww=500,tI=600,eI="_blank",nI="http://localhost";class hv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function iI(r,t,n,s=Ww,o=tI){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const g=Object.assign(Object.assign({},Jw),{width:s.toString(),height:o.toString(),top:u,left:f}),y=Xe().toLowerCase();n&&(p=eE(y)?eI:n),W0(y)&&(t=t||nI,g.scrollbars="yes");const E=Object.entries(g).reduce((I,[q,K])=>`${I}${q}=${K},`,"");if(jR(y)&&p!=="_self")return rI(t||"",p),new hv(null);const b=window.open(t||"",p,E);Et(b,r,"popup-blocked");try{b.focus()}catch{}return new hv(b)}function rI(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI="__/auth/handler",aI="emulator/auth/handler",oI=encodeURIComponent("fac");async function fv(r,t,n,s,o,u){Et(r.config.authDomain,r,"auth-domain-config-required"),Et(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Ya,eventId:o};if(t instanceof Im){t.setDefaultLanguage(r.languageCode),f.providerId=t.providerId||"",ab(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,b]of Object.entries({}))f[E]=b}if(t instanceof ql){const E=t.getScopes().filter(b=>b!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const p=f;for(const E of Object.keys(p))p[E]===void 0&&delete p[E];const g=await r._getAppCheckToken(),y=g?`#${oI}=${encodeURIComponent(g)}`:"";return`${lI(r)}?${zl(p).slice(1)}${y}`}function lI({config:r}){return r.emulator?Am(r,aI):`https://${r.authDomain}/${sI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kd="webStorageSupport";class uI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=mE,this._completeRedirectFn=Vw,this._overrideRedirectResult=Dw}async _openPopup(t,n,s,o){var u;Bi((u=this.eventManagers[t._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await fv(t,n,s,Xd(),o);return iI(t,f,Cm())}async _openRedirect(t,n,s,o){await this._originValidation(t);const u=await fv(t,n,s,Xd(),o);return fw(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Bi(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await Zw(t),s=new Pw(t);return n.register("authEvent",o=>(Et(o==null?void 0:o.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(kd,{type:kd},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[kd];f!==void 0&&n(!!f),li(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=zw(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return aE()||tE()||Rm()}}const cI=uI;var dv="@firebase/auth",mv="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fI(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function dI(r){La(new Cs("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:p}=s.options;Et(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:f,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:oE(r)},y=new FR(s,o,u,g);return ZR(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),La(new Cs("auth-internal",t=>{const n=oh(t.getProvider("auth").getImmediate());return(s=>new hI(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Cr(dv,mv,fI(r)),Cr(dv,mv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI=5*60,pI=k0("authIdTokenMaxAge")||mI;let pv=null;const gI=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>pI)return;const o=n==null?void 0:n.token;pv!==o&&(pv=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function yI(r=H0()){const t=_m(r,"auth");if(t.isInitialized())return t.getImmediate();const n=$R(r,{popupRedirectResolver:cI,persistence:[Tw,uw,mE]}),s=k0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=gI(u.toString());aw(n,f,()=>f(n.currentUser)),sw(n,p=>f(p))}}const o=P0("auth");return o&&JR(n,`http://${o}`),n}function _I(){var r,t;return(t=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&t!==void 0?t:document}QR({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=o=>{const u=jn("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",_I().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});dI("Browser");var gv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Nr,AE;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(V,R){function C(){}C.prototype=R.prototype,V.D=R.prototype,V.prototype=new C,V.prototype.constructor=V,V.C=function(O,M,U){for(var N=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)N[Me-2]=arguments[Me];return R.prototype[M].apply(O,N)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(V,R,C){C||(C=0);var O=Array(16);if(typeof R=="string")for(var M=0;16>M;++M)O[M]=R.charCodeAt(C++)|R.charCodeAt(C++)<<8|R.charCodeAt(C++)<<16|R.charCodeAt(C++)<<24;else for(M=0;16>M;++M)O[M]=R[C++]|R[C++]<<8|R[C++]<<16|R[C++]<<24;R=V.g[0],C=V.g[1],M=V.g[2];var U=V.g[3],N=R+(U^C&(M^U))+O[0]+3614090360&4294967295;R=C+(N<<7&4294967295|N>>>25),N=U+(M^R&(C^M))+O[1]+3905402710&4294967295,U=R+(N<<12&4294967295|N>>>20),N=M+(C^U&(R^C))+O[2]+606105819&4294967295,M=U+(N<<17&4294967295|N>>>15),N=C+(R^M&(U^R))+O[3]+3250441966&4294967295,C=M+(N<<22&4294967295|N>>>10),N=R+(U^C&(M^U))+O[4]+4118548399&4294967295,R=C+(N<<7&4294967295|N>>>25),N=U+(M^R&(C^M))+O[5]+1200080426&4294967295,U=R+(N<<12&4294967295|N>>>20),N=M+(C^U&(R^C))+O[6]+2821735955&4294967295,M=U+(N<<17&4294967295|N>>>15),N=C+(R^M&(U^R))+O[7]+4249261313&4294967295,C=M+(N<<22&4294967295|N>>>10),N=R+(U^C&(M^U))+O[8]+1770035416&4294967295,R=C+(N<<7&4294967295|N>>>25),N=U+(M^R&(C^M))+O[9]+2336552879&4294967295,U=R+(N<<12&4294967295|N>>>20),N=M+(C^U&(R^C))+O[10]+4294925233&4294967295,M=U+(N<<17&4294967295|N>>>15),N=C+(R^M&(U^R))+O[11]+2304563134&4294967295,C=M+(N<<22&4294967295|N>>>10),N=R+(U^C&(M^U))+O[12]+1804603682&4294967295,R=C+(N<<7&4294967295|N>>>25),N=U+(M^R&(C^M))+O[13]+4254626195&4294967295,U=R+(N<<12&4294967295|N>>>20),N=M+(C^U&(R^C))+O[14]+2792965006&4294967295,M=U+(N<<17&4294967295|N>>>15),N=C+(R^M&(U^R))+O[15]+1236535329&4294967295,C=M+(N<<22&4294967295|N>>>10),N=R+(M^U&(C^M))+O[1]+4129170786&4294967295,R=C+(N<<5&4294967295|N>>>27),N=U+(C^M&(R^C))+O[6]+3225465664&4294967295,U=R+(N<<9&4294967295|N>>>23),N=M+(R^C&(U^R))+O[11]+643717713&4294967295,M=U+(N<<14&4294967295|N>>>18),N=C+(U^R&(M^U))+O[0]+3921069994&4294967295,C=M+(N<<20&4294967295|N>>>12),N=R+(M^U&(C^M))+O[5]+3593408605&4294967295,R=C+(N<<5&4294967295|N>>>27),N=U+(C^M&(R^C))+O[10]+38016083&4294967295,U=R+(N<<9&4294967295|N>>>23),N=M+(R^C&(U^R))+O[15]+3634488961&4294967295,M=U+(N<<14&4294967295|N>>>18),N=C+(U^R&(M^U))+O[4]+3889429448&4294967295,C=M+(N<<20&4294967295|N>>>12),N=R+(M^U&(C^M))+O[9]+568446438&4294967295,R=C+(N<<5&4294967295|N>>>27),N=U+(C^M&(R^C))+O[14]+3275163606&4294967295,U=R+(N<<9&4294967295|N>>>23),N=M+(R^C&(U^R))+O[3]+4107603335&4294967295,M=U+(N<<14&4294967295|N>>>18),N=C+(U^R&(M^U))+O[8]+1163531501&4294967295,C=M+(N<<20&4294967295|N>>>12),N=R+(M^U&(C^M))+O[13]+2850285829&4294967295,R=C+(N<<5&4294967295|N>>>27),N=U+(C^M&(R^C))+O[2]+4243563512&4294967295,U=R+(N<<9&4294967295|N>>>23),N=M+(R^C&(U^R))+O[7]+1735328473&4294967295,M=U+(N<<14&4294967295|N>>>18),N=C+(U^R&(M^U))+O[12]+2368359562&4294967295,C=M+(N<<20&4294967295|N>>>12),N=R+(C^M^U)+O[5]+4294588738&4294967295,R=C+(N<<4&4294967295|N>>>28),N=U+(R^C^M)+O[8]+2272392833&4294967295,U=R+(N<<11&4294967295|N>>>21),N=M+(U^R^C)+O[11]+1839030562&4294967295,M=U+(N<<16&4294967295|N>>>16),N=C+(M^U^R)+O[14]+4259657740&4294967295,C=M+(N<<23&4294967295|N>>>9),N=R+(C^M^U)+O[1]+2763975236&4294967295,R=C+(N<<4&4294967295|N>>>28),N=U+(R^C^M)+O[4]+1272893353&4294967295,U=R+(N<<11&4294967295|N>>>21),N=M+(U^R^C)+O[7]+4139469664&4294967295,M=U+(N<<16&4294967295|N>>>16),N=C+(M^U^R)+O[10]+3200236656&4294967295,C=M+(N<<23&4294967295|N>>>9),N=R+(C^M^U)+O[13]+681279174&4294967295,R=C+(N<<4&4294967295|N>>>28),N=U+(R^C^M)+O[0]+3936430074&4294967295,U=R+(N<<11&4294967295|N>>>21),N=M+(U^R^C)+O[3]+3572445317&4294967295,M=U+(N<<16&4294967295|N>>>16),N=C+(M^U^R)+O[6]+76029189&4294967295,C=M+(N<<23&4294967295|N>>>9),N=R+(C^M^U)+O[9]+3654602809&4294967295,R=C+(N<<4&4294967295|N>>>28),N=U+(R^C^M)+O[12]+3873151461&4294967295,U=R+(N<<11&4294967295|N>>>21),N=M+(U^R^C)+O[15]+530742520&4294967295,M=U+(N<<16&4294967295|N>>>16),N=C+(M^U^R)+O[2]+3299628645&4294967295,C=M+(N<<23&4294967295|N>>>9),N=R+(M^(C|~U))+O[0]+4096336452&4294967295,R=C+(N<<6&4294967295|N>>>26),N=U+(C^(R|~M))+O[7]+1126891415&4294967295,U=R+(N<<10&4294967295|N>>>22),N=M+(R^(U|~C))+O[14]+2878612391&4294967295,M=U+(N<<15&4294967295|N>>>17),N=C+(U^(M|~R))+O[5]+4237533241&4294967295,C=M+(N<<21&4294967295|N>>>11),N=R+(M^(C|~U))+O[12]+1700485571&4294967295,R=C+(N<<6&4294967295|N>>>26),N=U+(C^(R|~M))+O[3]+2399980690&4294967295,U=R+(N<<10&4294967295|N>>>22),N=M+(R^(U|~C))+O[10]+4293915773&4294967295,M=U+(N<<15&4294967295|N>>>17),N=C+(U^(M|~R))+O[1]+2240044497&4294967295,C=M+(N<<21&4294967295|N>>>11),N=R+(M^(C|~U))+O[8]+1873313359&4294967295,R=C+(N<<6&4294967295|N>>>26),N=U+(C^(R|~M))+O[15]+4264355552&4294967295,U=R+(N<<10&4294967295|N>>>22),N=M+(R^(U|~C))+O[6]+2734768916&4294967295,M=U+(N<<15&4294967295|N>>>17),N=C+(U^(M|~R))+O[13]+1309151649&4294967295,C=M+(N<<21&4294967295|N>>>11),N=R+(M^(C|~U))+O[4]+4149444226&4294967295,R=C+(N<<6&4294967295|N>>>26),N=U+(C^(R|~M))+O[11]+3174756917&4294967295,U=R+(N<<10&4294967295|N>>>22),N=M+(R^(U|~C))+O[2]+718787259&4294967295,M=U+(N<<15&4294967295|N>>>17),N=C+(U^(M|~R))+O[9]+3951481745&4294967295,V.g[0]=V.g[0]+R&4294967295,V.g[1]=V.g[1]+(M+(N<<21&4294967295|N>>>11))&4294967295,V.g[2]=V.g[2]+M&4294967295,V.g[3]=V.g[3]+U&4294967295}s.prototype.u=function(V,R){R===void 0&&(R=V.length);for(var C=R-this.blockSize,O=this.B,M=this.h,U=0;U<R;){if(M==0)for(;U<=C;)o(this,V,U),U+=this.blockSize;if(typeof V=="string"){for(;U<R;)if(O[M++]=V.charCodeAt(U++),M==this.blockSize){o(this,O),M=0;break}}else for(;U<R;)if(O[M++]=V[U++],M==this.blockSize){o(this,O),M=0;break}}this.h=M,this.o+=R},s.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var R=1;R<V.length-8;++R)V[R]=0;var C=8*this.o;for(R=V.length-8;R<V.length;++R)V[R]=C&255,C/=256;for(this.u(V),V=Array(16),R=C=0;4>R;++R)for(var O=0;32>O;O+=8)V[C++]=this.g[R]>>>O&255;return V};function u(V,R){var C=p;return Object.prototype.hasOwnProperty.call(C,V)?C[V]:C[V]=R(V)}function f(V,R){this.h=R;for(var C=[],O=!0,M=V.length-1;0<=M;M--){var U=V[M]|0;O&&U==R||(C[M]=U,O=!1)}this.g=C}var p={};function g(V){return-128<=V&&128>V?u(V,function(R){return new f([R|0],0>R?-1:0)}):new f([V|0],0>V?-1:0)}function y(V){if(isNaN(V)||!isFinite(V))return b;if(0>V)return H(y(-V));for(var R=[],C=1,O=0;V>=C;O++)R[O]=V/C|0,C*=4294967296;return new f(R,0)}function E(V,R){if(V.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(V.charAt(0)=="-")return H(E(V.substring(1),R));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=y(Math.pow(R,8)),O=b,M=0;M<V.length;M+=8){var U=Math.min(8,V.length-M),N=parseInt(V.substring(M,M+U),R);8>U?(U=y(Math.pow(R,U)),O=O.j(U).add(y(N))):(O=O.j(C),O=O.add(y(N)))}return O}var b=g(0),I=g(1),q=g(16777216);r=f.prototype,r.m=function(){if(W(this))return-H(this).m();for(var V=0,R=1,C=0;C<this.g.length;C++){var O=this.i(C);V+=(0<=O?O:4294967296+O)*R,R*=4294967296}return V},r.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(K(this))return"0";if(W(this))return"-"+H(this).toString(V);for(var R=y(Math.pow(V,6)),C=this,O="";;){var M=At(C,R).g;C=ct(C,M.j(R));var U=((0<C.g.length?C.g[0]:C.h)>>>0).toString(V);if(C=M,K(C))return U+O;for(;6>U.length;)U="0"+U;O=U+O}},r.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function K(V){if(V.h!=0)return!1;for(var R=0;R<V.g.length;R++)if(V.g[R]!=0)return!1;return!0}function W(V){return V.h==-1}r.l=function(V){return V=ct(this,V),W(V)?-1:K(V)?0:1};function H(V){for(var R=V.g.length,C=[],O=0;O<R;O++)C[O]=~V.g[O];return new f(C,~V.h).add(I)}r.abs=function(){return W(this)?H(this):this},r.add=function(V){for(var R=Math.max(this.g.length,V.g.length),C=[],O=0,M=0;M<=R;M++){var U=O+(this.i(M)&65535)+(V.i(M)&65535),N=(U>>>16)+(this.i(M)>>>16)+(V.i(M)>>>16);O=N>>>16,U&=65535,N&=65535,C[M]=N<<16|U}return new f(C,C[C.length-1]&-2147483648?-1:0)};function ct(V,R){return V.add(H(R))}r.j=function(V){if(K(this)||K(V))return b;if(W(this))return W(V)?H(this).j(H(V)):H(H(this).j(V));if(W(V))return H(this.j(H(V)));if(0>this.l(q)&&0>V.l(q))return y(this.m()*V.m());for(var R=this.g.length+V.g.length,C=[],O=0;O<2*R;O++)C[O]=0;for(O=0;O<this.g.length;O++)for(var M=0;M<V.g.length;M++){var U=this.i(O)>>>16,N=this.i(O)&65535,Me=V.i(M)>>>16,se=V.i(M)&65535;C[2*O+2*M]+=N*se,et(C,2*O+2*M),C[2*O+2*M+1]+=U*se,et(C,2*O+2*M+1),C[2*O+2*M+1]+=N*Me,et(C,2*O+2*M+1),C[2*O+2*M+2]+=U*Me,et(C,2*O+2*M+2)}for(O=0;O<R;O++)C[O]=C[2*O+1]<<16|C[2*O];for(O=R;O<2*R;O++)C[O]=0;return new f(C,0)};function et(V,R){for(;(V[R]&65535)!=V[R];)V[R+1]+=V[R]>>>16,V[R]&=65535,R++}function ot(V,R){this.g=V,this.h=R}function At(V,R){if(K(R))throw Error("division by zero");if(K(V))return new ot(b,b);if(W(V))return R=At(H(V),R),new ot(H(R.g),H(R.h));if(W(R))return R=At(V,H(R)),new ot(H(R.g),R.h);if(30<V.g.length){if(W(V)||W(R))throw Error("slowDivide_ only works with positive integers.");for(var C=I,O=R;0>=O.l(V);)C=pt(C),O=pt(O);var M=Mt(C,1),U=Mt(O,1);for(O=Mt(O,2),C=Mt(C,2);!K(O);){var N=U.add(O);0>=N.l(V)&&(M=M.add(C),U=N),O=Mt(O,1),C=Mt(C,1)}return R=ct(V,M.j(R)),new ot(M,R)}for(M=b;0<=V.l(R);){for(C=Math.max(1,Math.floor(V.m()/R.m())),O=Math.ceil(Math.log(C)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),U=y(C),N=U.j(R);W(N)||0<N.l(V);)C-=O,U=y(C),N=U.j(R);K(U)&&(U=I),M=M.add(U),V=ct(V,N)}return new ot(M,V)}r.A=function(V){return At(this,V).h},r.and=function(V){for(var R=Math.max(this.g.length,V.g.length),C=[],O=0;O<R;O++)C[O]=this.i(O)&V.i(O);return new f(C,this.h&V.h)},r.or=function(V){for(var R=Math.max(this.g.length,V.g.length),C=[],O=0;O<R;O++)C[O]=this.i(O)|V.i(O);return new f(C,this.h|V.h)},r.xor=function(V){for(var R=Math.max(this.g.length,V.g.length),C=[],O=0;O<R;O++)C[O]=this.i(O)^V.i(O);return new f(C,this.h^V.h)};function pt(V){for(var R=V.g.length+1,C=[],O=0;O<R;O++)C[O]=V.i(O)<<1|V.i(O-1)>>>31;return new f(C,V.h)}function Mt(V,R){var C=R>>5;R%=32;for(var O=V.g.length-C,M=[],U=0;U<O;U++)M[U]=0<R?V.i(U+C)>>>R|V.i(U+C+1)<<32-R:V.i(U+C);return new f(M,V.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,AE=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,Nr=f}).apply(typeof gv<"u"?gv:typeof self<"u"?self:typeof window<"u"?window:{});var Ec=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var SE,dl,bE,Nc,Jd,RE,wE,IE;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,m,_){return c==Array.prototype||c==Object.prototype||(c[m]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ec=="object"&&Ec];for(var m=0;m<c.length;++m){var _=c[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,m){if(m)t:{var _=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var k=c[S];if(!(k in _))break t;_=_[k]}c=c[c.length-1],S=_[c],m=m(S),m!=S&&m!=null&&t(_,c,{configurable:!0,writable:!0,value:m})}}function u(c,m){c instanceof String&&(c+="");var _=0,S=!1,k={next:function(){if(!S&&_<c.length){var G=_++;return{value:m(G,c[G]),done:!1}}return S=!0,{done:!0,value:void 0}}};return k[Symbol.iterator]=function(){return k},k}o("Array.prototype.values",function(c){return c||function(){return u(this,function(m,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},p=this||self;function g(c){var m=typeof c;return m=m!="object"?m:c?Array.isArray(c)?"array":m:"null",m=="array"||m=="object"&&typeof c.length=="number"}function y(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function E(c,m,_){return c.call.apply(c.bind,arguments)}function b(c,m,_){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var k=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(k,S),c.apply(m,k)}}return function(){return c.apply(m,arguments)}}function I(c,m,_){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:b,I.apply(null,arguments)}function q(c,m){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function K(c,m){function _(){}_.prototype=m.prototype,c.aa=m.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(S,k,G){for(var nt=Array(arguments.length-2),Pt=2;Pt<arguments.length;Pt++)nt[Pt-2]=arguments[Pt];return m.prototype[k].apply(S,nt)}}function W(c){const m=c.length;if(0<m){const _=Array(m);for(let S=0;S<m;S++)_[S]=c[S];return _}return[]}function H(c,m){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(g(S)){const k=c.length||0,G=S.length||0;c.length=k+G;for(let nt=0;nt<G;nt++)c[k+nt]=S[nt]}else c.push(S)}}class ct{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function et(c){return/^[\s\xa0]*$/.test(c)}function ot(){var c=p.navigator;return c&&(c=c.userAgent)?c:""}function At(c){return At[" "](c),c}At[" "]=function(){};var pt=ot().indexOf("Gecko")!=-1&&!(ot().toLowerCase().indexOf("webkit")!=-1&&ot().indexOf("Edge")==-1)&&!(ot().indexOf("Trident")!=-1||ot().indexOf("MSIE")!=-1)&&ot().indexOf("Edge")==-1;function Mt(c,m,_){for(const S in c)m.call(_,c[S],S,c)}function V(c,m){for(const _ in c)m.call(void 0,c[_],_,c)}function R(c){const m={};for(const _ in c)m[_]=c[_];return m}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(c,m){let _,S;for(let k=1;k<arguments.length;k++){S=arguments[k];for(_ in S)c[_]=S[_];for(let G=0;G<C.length;G++)_=C[G],Object.prototype.hasOwnProperty.call(S,_)&&(c[_]=S[_])}}function M(c){var m=1;c=c.split(":");const _=[];for(;0<m&&c.length;)_.push(c.shift()),m--;return c.length&&_.push(c.join(":")),_}function U(c){p.setTimeout(()=>{throw c},0)}function N(){var c=zt;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class Me{constructor(){this.h=this.g=null}add(m,_){const S=se.get();S.set(m,_),this.h?this.h.next=S:this.g=S,this.h=S}}var se=new ct(()=>new F,c=>c.reset());class F{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let it,ft=!1,zt=new Me,D=()=>{const c=p.Promise.resolve(void 0);it=()=>{c.then(J)}};var J=()=>{for(var c;c=N();){try{c.h.call(c.g)}catch(_){U(_)}var m=se;m.j(c),100>m.h&&(m.h++,c.next=m.g,m.g=c)}ft=!1};function st(){this.s=this.s,this.C=this.C}st.prototype.s=!1,st.prototype.ma=function(){this.s||(this.s=!0,this.N())},st.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function tt(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}tt.prototype.h=function(){this.defaultPrevented=!0};var mt=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};p.addEventListener("test",_,m),p.removeEventListener("test",_,m)}catch{}return c}();function Ct(c,m){if(tt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget){if(pt){t:{try{At(m.nodeName);var k=!0;break t}catch{}k=!1}k||(m=null)}}else _=="mouseover"?m=c.fromElement:_=="mouseout"&&(m=c.toElement);this.relatedTarget=m,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Tt[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ct.aa.h.call(this)}}K(Ct,tt);var Tt={2:"touch",3:"pen",4:"mouse"};Ct.prototype.h=function(){Ct.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ie="closure_listenable_"+(1e6*Math.random()|0),Jt=0;function Bn(c,m,_,S,k){this.listener=c,this.proxy=null,this.src=m,this.type=_,this.capture=!!S,this.ha=k,this.key=++Jt,this.da=this.fa=!1}function Fi(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ci(c){this.src=c,this.g={},this.h=0}ci.prototype.add=function(c,m,_,S,k){var G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);var nt=jr(c,m,S,k);return-1<nt?(m=c[nt],_||(m.fa=!1)):(m=new Bn(m,this.src,G,!!S,k),m.fa=_,c.push(m)),m};function Lr(c,m){var _=m.type;if(_ in c.g){var S=c.g[_],k=Array.prototype.indexOf.call(S,m,void 0),G;(G=0<=k)&&Array.prototype.splice.call(S,k,1),G&&(Fi(m),c.g[_].length==0&&(delete c.g[_],c.h--))}}function jr(c,m,_,S){for(var k=0;k<c.length;++k){var G=c[k];if(!G.da&&G.listener==m&&G.capture==!!_&&G.ha==S)return k}return-1}var zr="closure_lm_"+(1e6*Math.random()|0),eo={};function Xl(c,m,_,S,k){if(Array.isArray(m)){for(var G=0;G<m.length;G++)Xl(c,m[G],_,S,k);return null}return _=$l(_),c&&c[Ie]?c.K(m,_,y(S)?!!S.capture:!1,k):gn(c,m,_,!1,S,k)}function gn(c,m,_,S,k,G){if(!m)throw Error("Invalid event type");var nt=y(k)?!!k.capture:!!k,Pt=Ls(c);if(Pt||(c[zr]=Pt=new ci(c)),_=Pt.add(m,_,S,nt,G),_.proxy)return _;if(S=Sh(),_.proxy=S,S.src=c,S.listener=_,c.addEventListener)mt||(k=nt),k===void 0&&(k=!1),c.addEventListener(m.toString(),S,k);else if(c.attachEvent)c.attachEvent(Br(m.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Sh(){function c(_){return m.call(c.src,c.listener,_)}const m=bh;return c}function no(c,m,_,S,k){if(Array.isArray(m))for(var G=0;G<m.length;G++)no(c,m[G],_,S,k);else S=y(S)?!!S.capture:!!S,_=$l(_),c&&c[Ie]?(c=c.i,m=String(m).toString(),m in c.g&&(G=c.g[m],_=jr(G,_,S,k),-1<_&&(Fi(G[_]),Array.prototype.splice.call(G,_,1),G.length==0&&(delete c.g[m],c.h--)))):c&&(c=Ls(c))&&(m=c.g[m.toString()],c=-1,m&&(c=jr(m,_,S,k)),(_=-1<c?m[c]:null)&&ks(_))}function ks(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[Ie])Lr(m.i,c);else{var _=c.type,S=c.proxy;m.removeEventListener?m.removeEventListener(_,S,c.capture):m.detachEvent?m.detachEvent(Br(_),S):m.addListener&&m.removeListener&&m.removeListener(S),(_=Ls(m))?(Lr(_,c),_.h==0&&(_.src=null,m[zr]=null)):Fi(c)}}}function Br(c){return c in eo?eo[c]:eo[c]="on"+c}function bh(c,m){if(c.da)c=!0;else{m=new Ct(m,this);var _=c.listener,S=c.ha||c.src;c.fa&&ks(c),c=_.call(S,m)}return c}function Ls(c){return c=c[zr],c instanceof ci?c:null}var io="__closure_events_fn_"+(1e9*Math.random()>>>0);function $l(c){return typeof c=="function"?c:(c[io]||(c[io]=function(m){return c.handleEvent(m)}),c[io])}function ae(){st.call(this),this.i=new ci(this),this.M=this,this.F=null}K(ae,st),ae.prototype[Ie]=!0,ae.prototype.removeEventListener=function(c,m,_,S){no(this,c,m,_,S)};function Gt(c,m){var _,S=c.F;if(S)for(_=[];S;S=S.F)_.push(S);if(c=c.M,S=m.type||m,typeof m=="string")m=new tt(m,c);else if(m instanceof tt)m.target=m.target||c;else{var k=m;m=new tt(S,c),O(m,k)}if(k=!0,_)for(var G=_.length-1;0<=G;G--){var nt=m.g=_[G];k=sn(nt,S,!0,m)&&k}if(nt=m.g=c,k=sn(nt,S,!0,m)&&k,k=sn(nt,S,!1,m)&&k,_)for(G=0;G<_.length;G++)nt=m.g=_[G],k=sn(nt,S,!1,m)&&k}ae.prototype.N=function(){if(ae.aa.N.call(this),this.i){var c=this.i,m;for(m in c.g){for(var _=c.g[m],S=0;S<_.length;S++)Fi(_[S]);delete c.g[m],c.h--}}this.F=null},ae.prototype.K=function(c,m,_,S){return this.i.add(String(c),m,!1,_,S)},ae.prototype.L=function(c,m,_,S){return this.i.add(String(c),m,!0,_,S)};function sn(c,m,_,S){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();for(var k=!0,G=0;G<m.length;++G){var nt=m[G];if(nt&&!nt.da&&nt.capture==_){var Pt=nt.listener,Te=nt.ha||nt.src;nt.fa&&Lr(c.i,nt),k=Pt.call(Te,S)!==!1&&k}}return k&&!S.defaultPrevented}function He(c,m,_){if(typeof c=="function")_&&(c=I(c,_));else if(c&&typeof c.handleEvent=="function")c=I(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:p.setTimeout(c,m||0)}function Zl(c){c.g=He(()=>{c.g=null,c.i&&(c.i=!1,Zl(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class Rh extends st{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Zl(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qr(c){st.call(this),this.h=c,this.g={}}K(qr,st);var Hr=[];function Gr(c){Mt(c.g,function(m,_){this.g.hasOwnProperty(_)&&ks(m)},c),c.g={}}qr.prototype.N=function(){qr.aa.N.call(this),Gr(this)},qr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Dn=p.JSON.stringify,js=p.JSON.parse,Fr=class{stringify(c){return p.JSON.stringify(c,void 0)}parse(c){return p.JSON.parse(c,void 0)}};function ro(){}ro.prototype.h=null;function so(c){return c.h||(c.h=c.i())}function ao(){}var hi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function fi(){tt.call(this,"d")}K(fi,tt);function oo(){tt.call(this,"c")}K(oo,tt);var qn={},lo=null;function Qi(){return lo=lo||new ae}qn.La="serverreachability";function zs(c){tt.call(this,qn.La,c)}K(zs,tt);function Ki(c){const m=Qi();Gt(m,new zs(m))}qn.STAT_EVENT="statevent";function Jl(c,m){tt.call(this,qn.STAT_EVENT,c),this.stat=m}K(Jl,tt);function ee(c){const m=Qi();Gt(m,new Jl(m,c))}qn.Ma="timingevent";function Ee(c,m){tt.call(this,qn.Ma,c),this.size=m}K(Ee,tt);function de(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){c()},m)}function yn(){this.g=!0}yn.prototype.xa=function(){this.g=!1};function uo(c,m,_,S,k,G){c.info(function(){if(c.g)if(G)for(var nt="",Pt=G.split("&"),Te=0;Te<Pt.length;Te++){var Ut=Pt[Te].split("=");if(1<Ut.length){var Ne=Ut[0];Ut=Ut[1];var Ae=Ne.split("_");nt=2<=Ae.length&&Ae[1]=="type"?nt+(Ne+"="+Ut+"&"):nt+(Ne+"=redacted&")}}else nt=null;else nt=G;return"XMLHTTP REQ ("+S+") [attempt "+k+"]: "+m+`
`+_+`
`+nt})}function wh(c,m,_,S,k,G,nt){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+k+"]: "+m+`
`+_+`
`+G+" "+nt})}function Yi(c,m,_,S){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+Qr(c,_)+(S?" "+S:"")})}function Wl(c,m){c.info(function(){return"TIMEOUT: "+m})}yn.prototype.info=function(){};function Qr(c,m){if(!c.g)return m;if(!m)return null;try{var _=JSON.parse(m);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var S=_[c];if(!(2>S.length)){var k=S[1];if(Array.isArray(k)&&!(1>k.length)){var G=k[0];if(G!="noop"&&G!="stop"&&G!="close")for(var nt=1;nt<k.length;nt++)k[nt]=""}}}}return Dn(_)}catch{return m}}var Xi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},di={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Hn;function Gn(){}K(Gn,ro),Gn.prototype.g=function(){return new XMLHttpRequest},Gn.prototype.i=function(){return{}},Hn=new Gn;function $e(c,m,_,S){this.j=c,this.i=m,this.l=_,this.R=S||1,this.U=new qr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ue}function ue(){this.i=null,this.g="",this.h=!1}var co={},Bs={};function xn(c,m,_){c.L=1,c.v=Zr(an(m)),c.m=_,c.P=!0,mi(c,null)}function mi(c,m){c.F=Date.now(),Kr(c),c.A=an(c.v);var _=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),yo(_.i,"t",S),c.C=0,_=c.j.J,c.h=new ue,c.g=pu(c.j,_?m:null,!c.m),0<c.O&&(c.M=new Rh(I(c.Y,c,c.g),c.O)),m=c.U,_=c.g,S=c.ca;var k="readystatechange";Array.isArray(k)||(k&&(Hr[0]=k.toString()),k=Hr);for(var G=0;G<k.length;G++){var nt=Xl(_,k[G],S||m.handleEvent,!1,m.h||m);if(!nt)break;m.g[nt.key]=nt}m=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,m)):(c.u="GET",c.g.ea(c.A,c.u,null,m)),Ki(),uo(c.i,c.u,c.A,c.l,c.R,c.m)}$e.prototype.ca=function(c){c=c.target;const m=this.M;m&&Tn(c)==3?m.j():this.Y(c)},$e.prototype.Y=function(c){try{if(c==this.g)t:{const Ae=Tn(this.g);var m=this.g.Ba();const Ai=this.g.Z();if(!(3>Ae)&&(Ae!=3||this.g&&(this.h.h||this.g.oa()||ou(this.g)))){this.J||Ae!=4||m==7||(m==8||0>=Ai?Ki(3):Ki(2)),$i(this);var _=this.g.Z();this.X=_;e:if(tu(this)){var S=ou(this.g);c="";var k=S.length,G=Tn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Pe(this),Fn(this);var nt="";break e}this.h.i=new p.TextDecoder}for(m=0;m<k;m++)this.h.h=!0,c+=this.h.i.decode(S[m],{stream:!(G&&m==k-1)});S.length=0,this.h.g+=c,this.C=0,nt=this.h.g}else nt=this.g.oa();if(this.o=_==200,wh(this.i,this.u,this.A,this.l,this.R,Ae,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Pt,Te=this.g;if((Pt=Te.g?Te.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!et(Pt)){var Ut=Pt;break e}}Ut=null}if(_=Ut)Yi(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Yr(this,_);else{this.o=!1,this.s=3,ee(12),Pe(this),Fn(this);break t}}if(this.P){_=!0;let Ue;for(;!this.J&&this.C<nt.length;)if(Ue=eu(this,nt),Ue==Bs){Ae==4&&(this.s=4,ee(14),_=!1),Yi(this.i,this.l,null,"[Incomplete Response]");break}else if(Ue==co){this.s=4,ee(15),Yi(this.i,this.l,nt,"[Invalid Chunk]"),_=!1;break}else Yi(this.i,this.l,Ue,null),Yr(this,Ue);if(tu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ae!=4||nt.length!=0||this.h.h||(this.s=1,ee(16),_=!1),this.o=this.o&&_,!_)Yi(this.i,this.l,nt,"[Invalid Chunked Response]"),Pe(this),Fn(this);else if(0<nt.length&&!this.W){this.W=!0;var Ne=this.j;Ne.g==this&&Ne.ba&&!Ne.M&&(Ne.j.info("Great, no buffering proxy detected. Bytes received: "+nt.length),ss(Ne),Ne.M=!0,ee(11))}}else Yi(this.i,this.l,nt,null),Yr(this,nt);Ae==4&&Pe(this),this.o&&!this.J&&(Ae==4?fu(this.j,this):(this.o=!1,Kr(this)))}else xh(this.g),_==400&&0<nt.indexOf("Unknown SID")?(this.s=3,ee(12)):(this.s=0,ee(13)),Pe(this),Fn(this)}}}catch{}finally{}};function tu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function eu(c,m){var _=c.C,S=m.indexOf(`
`,_);return S==-1?Bs:(_=Number(m.substring(_,S)),isNaN(_)?co:(S+=1,S+_>m.length?Bs:(m=m.slice(S,S+_),c.C=S+_,m)))}$e.prototype.cancel=function(){this.J=!0,Pe(this)};function Kr(c){c.S=Date.now()+c.I,nu(c,c.I)}function nu(c,m){if(c.B!=null)throw Error("WatchDog timer not null");c.B=de(I(c.ba,c),m)}function $i(c){c.B&&(p.clearTimeout(c.B),c.B=null)}$e.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Wl(this.i,this.A),this.L!=2&&(Ki(),ee(17)),Pe(this),this.s=2,Fn(this)):nu(this,this.S-c)};function Fn(c){c.j.G==0||c.J||fu(c.j,c)}function Pe(c){$i(c);var m=c.M;m&&typeof m.ma=="function"&&m.ma(),c.M=null,Gr(c.U),c.g&&(m=c.g,c.g=null,m.abort(),m.ma())}function Yr(c,m){try{var _=c.j;if(_.G!=0&&(_.g==c||ho(_.h,c))){if(!c.K&&ho(_.h,c)&&_.G==3){try{var S=_.Da.g.parse(m)}catch{S=null}if(Array.isArray(S)&&S.length==3){var k=S;if(k[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Ws(_),Zs(_);else break t;Ao(_),ee(18)}}else _.za=k[1],0<_.za-_.T&&37500>k[2]&&_.F&&_.v==0&&!_.C&&(_.C=de(I(_.Za,_),6e3));if(1>=Hs(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Ti(_,11)}else if((c.K||_.g==c)&&Ws(_),!et(m))for(k=_.Da.g.parse(m),m=0;m<k.length;m++){let Ut=k[m];if(_.T=Ut[0],Ut=Ut[1],_.G==2)if(Ut[0]=="c"){_.K=Ut[1],_.ia=Ut[2];const Ne=Ut[3];Ne!=null&&(_.la=Ne,_.j.info("VER="+_.la));const Ae=Ut[4];Ae!=null&&(_.Aa=Ae,_.j.info("SVER="+_.Aa));const Ai=Ut[5];Ai!=null&&typeof Ai=="number"&&0<Ai&&(S=1.5*Ai,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const Ue=c.g;if(Ue){const Jn=Ue.g?Ue.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Jn){var G=S.h;G.g||Jn.indexOf("spdy")==-1&&Jn.indexOf("quic")==-1&&Jn.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Gs(G,G.h),G.h=null))}if(S.D){const bo=Ue.g?Ue.g.getResponseHeader("X-HTTP-Session-Id"):null;bo&&(S.ya=bo,Kt(S.I,S.D,bo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var nt=c;if(S.qa=mu(S,S.J?S.ia:null,S.W),nt.K){Ze(S.h,nt);var Pt=nt,Te=S.L;Te&&(Pt.I=Te),Pt.B&&($i(Pt),Kr(Pt)),S.g=nt}else cu(S);0<_.i.length&&Js(_)}else Ut[0]!="stop"&&Ut[0]!="close"||Ti(_,7);else _.G==3&&(Ut[0]=="stop"||Ut[0]=="close"?Ut[0]=="stop"?Ti(_,7):Eo(_):Ut[0]!="noop"&&_.l&&_.l.ta(Ut),_.v=0)}}Ki(4)}catch{}}var iu=class{constructor(c,m){this.g=c,this.map=m}};function pi(c){this.l=c||10,p.PerformanceNavigationTiming?(c=p.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function qs(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Hs(c){return c.h?1:c.g?c.g.size:0}function ho(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function Gs(c,m){c.g?c.g.add(m):c.h=m}function Ze(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}pi.prototype.cancel=function(){if(this.i=fo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function fo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const _ of c.g.values())m=m.concat(_.D);return m}return W(c.i)}function Ih(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(g(c)){for(var m=[],_=c.length,S=0;S<_;S++)m.push(c[S]);return m}m=[],_=0;for(S in c)m[_++]=c[S];return m}function Fs(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(g(c)||typeof c=="string"){var m=[];c=c.length;for(var _=0;_<c;_++)m.push(_);return m}m=[],_=0;for(const S in c)m[_++]=S;return m}}}function mo(c,m){if(c.forEach&&typeof c.forEach=="function")c.forEach(m,void 0);else if(g(c)||typeof c=="string")Array.prototype.forEach.call(c,m,void 0);else for(var _=Fs(c),S=Ih(c),k=S.length,G=0;G<k;G++)m.call(void 0,S[G],_&&_[G],c)}var Xr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ch(c,m){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var S=c[_].indexOf("="),k=null;if(0<=S){var G=c[_].substring(0,S);k=c[_].substring(S+1)}else G=c[_];m(G,k?decodeURIComponent(k.replace(/\+/g," ")):"")}}}function me(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof me){this.h=c.h,$r(this,c.j),this.o=c.o,this.g=c.g,Zi(this,c.s),this.l=c.l;var m=c.i,_=new yi;_.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),gi(this,_),this.m=c.m}else c&&(m=String(c).match(Xr))?(this.h=!1,$r(this,m[1]||"",!0),this.o=_n(m[2]||""),this.g=_n(m[3]||"",!0),Zi(this,m[4]),this.l=_n(m[5]||"",!0),gi(this,m[6]||"",!0),this.m=_n(m[7]||"")):(this.h=!1,this.i=new yi(null,this.h))}me.prototype.toString=function(){var c=[],m=this.j;m&&c.push(Jr(m,po,!0),":");var _=this.g;return(_||m=="file")&&(c.push("//"),(m=this.o)&&c.push(Jr(m,po,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Jr(_,_.charAt(0)=="/"?Nh:go,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Jr(_,Qs)),c.join("")};function an(c){return new me(c)}function $r(c,m,_){c.j=_?_n(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function Zi(c,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);c.s=m}else c.s=null}function gi(c,m,_){m instanceof yi?(c.i=m,su(c.i,c.h)):(_||(m=Jr(m,Dh)),c.i=new yi(m,c.h))}function Kt(c,m,_){c.i.set(m,_)}function Zr(c){return Kt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function _n(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Jr(c,m,_){return typeof c=="string"?(c=encodeURI(c).replace(m,ru),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function ru(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var po=/[#\/\?@]/g,go=/[#\?:]/g,Nh=/[#\?]/g,Dh=/[#\?@]/g,Qs=/#/g;function yi(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function vn(c){c.g||(c.g=new Map,c.h=0,c.i&&Ch(c.i,function(m,_){c.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}r=yi.prototype,r.add=function(c,m){vn(this),this.i=null,c=Qn(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(m),this.h+=1,this};function _i(c,m){vn(c),m=Qn(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function vi(c,m){return vn(c),m=Qn(c,m),c.g.has(m)}r.forEach=function(c,m){vn(this),this.g.forEach(function(_,S){_.forEach(function(k){c.call(m,k,S,this)},this)},this)},r.na=function(){vn(this);const c=Array.from(this.g.values()),m=Array.from(this.g.keys()),_=[];for(let S=0;S<m.length;S++){const k=c[S];for(let G=0;G<k.length;G++)_.push(m[S])}return _},r.V=function(c){vn(this);let m=[];if(typeof c=="string")vi(this,c)&&(m=m.concat(this.g.get(Qn(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)m=m.concat(c[_])}return m},r.set=function(c,m){return vn(this),this.i=null,c=Qn(this,c),vi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},r.get=function(c,m){return c?(c=this.V(c),0<c.length?String(c[0]):m):m};function yo(c,m,_){_i(c,m),0<_.length&&(c.i=null,c.g.set(Qn(c,m),W(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(var _=0;_<m.length;_++){var S=m[_];const G=encodeURIComponent(String(S)),nt=this.V(S);for(S=0;S<nt.length;S++){var k=G;nt[S]!==""&&(k+="="+encodeURIComponent(String(nt[S]))),c.push(k)}}return this.i=c.join("&")};function Qn(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function su(c,m){m&&!c.j&&(vn(c),c.i=null,c.g.forEach(function(_,S){var k=S.toLowerCase();S!=k&&(_i(this,S),yo(this,k,_))},c)),c.j=m}function Wr(c,m){const _=new yn;if(p.Image){const S=new Image;S.onload=q(En,_,"TestLoadImage: loaded",!0,m,S),S.onerror=q(En,_,"TestLoadImage: error",!1,m,S),S.onabort=q(En,_,"TestLoadImage: abort",!1,m,S),S.ontimeout=q(En,_,"TestLoadImage: timeout",!1,m,S),p.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else m(!1)}function On(c,m){const _=new yn,S=new AbortController,k=setTimeout(()=>{S.abort(),En(_,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:S.signal}).then(G=>{clearTimeout(k),G.ok?En(_,"TestPingServer: ok",!0,m):En(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(k),En(_,"TestPingServer: error",!1,m)})}function En(c,m,_,S,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),S(_)}catch{}}function ts(){this.g=new Fr}function Kn(c,m,_){const S=_||"";try{mo(c,function(k,G){let nt=k;y(k)&&(nt=Dn(k)),m.push(S+G+"="+encodeURIComponent(nt))})}catch(k){throw m.push(S+"type="+encodeURIComponent("_badmap")),k}}function Ji(c){this.l=c.Ub||null,this.j=c.eb||!1}K(Ji,ro),Ji.prototype.g=function(){return new Ei(this.l,this.j)},Ji.prototype.i=function(c){return function(){return c}}({});function Ei(c,m){ae.call(this),this.D=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}K(Ei,ae),r=Ei.prototype,r.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=m,this.readyState=1,Xn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(m.body=c),(this.D||p).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Yn(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Xn(this)),this.g&&(this.readyState=3,Xn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;_o(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function _o(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?Yn(this):Xn(this),this.readyState==3&&_o(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,Yn(this))},r.Qa=function(c){this.g&&(this.response=c,Yn(this))},r.ga=function(){this.g&&Yn(this)};function Yn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Xn(c)}r.setRequestHeader=function(c,m){this.u.append(c,m)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=m.next();return c.join(`\r
`)};function Xn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ei.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function vo(c){let m="";return Mt(c,function(_,S){m+=S,m+=":",m+=_,m+=`\r
`}),m}function Ce(c,m,_){t:{for(S in _){var S=!1;break t}S=!0}S||(_=vo(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Kt(c,m,_))}function qt(c){ae.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}K(qt,ae);var Ks=/^https?$/i,es=["POST","PUT"];r=qt.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,m,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Hn.g(),this.v=this.o?so(this.o):so(Hn),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(G){au(this,G);return}if(c=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var k in S)_.set(k,S[k]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const G of S.keys())_.set(G,S.get(G));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(G=>G.toLowerCase()=="content-type"),k=p.FormData&&c instanceof p.FormData,!(0<=Array.prototype.indexOf.call(es,m,void 0))||S||k||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,nt]of _)this.g.setRequestHeader(G,nt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ns(this),this.u=!0,this.g.send(c),this.u=!1}catch(G){au(this,G)}};function au(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.m=5,Ys(c),$n(c)}function Ys(c){c.A||(c.A=!0,Gt(c,"complete"),Gt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Gt(this,"complete"),Gt(this,"abort"),$n(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$n(this,!0)),qt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Xs(this):this.bb())},r.bb=function(){Xs(this)};function Xs(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Tn(c)!=4||c.Z()!=2)){if(c.u&&Tn(c)==4)He(c.Ea,0,c);else if(Gt(c,"readystatechange"),Tn(c)==4){c.h=!1;try{const nt=c.Z();t:switch(nt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var S;if(S=nt===0){var k=String(c.D).match(Xr)[1]||null;!k&&p.self&&p.self.location&&(k=p.self.location.protocol.slice(0,-1)),S=!Ks.test(k?k.toLowerCase():"")}_=S}if(_)Gt(c,"complete"),Gt(c,"success");else{c.m=6;try{var G=2<Tn(c)?c.g.statusText:""}catch{G=""}c.l=G+" ["+c.Z()+"]",Ys(c)}}finally{$n(c)}}}}function $n(c,m){if(c.g){ns(c);const _=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,m||Gt(c,"ready");try{_.onreadystatechange=S}catch{}}}function ns(c){c.I&&(p.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Tn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Tn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),js(m)}};function ou(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function xh(c){const m={};c=(c.g&&2<=Tn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(et(c[S]))continue;var _=M(c[S]);const k=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const G=m[k]||[];m[k]=G,G.push(_)}V(m,function(S){return S.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function is(c,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||m}function $s(c){this.Aa=0,this.i=[],this.j=new yn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=is("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=is("baseRetryDelayMs",5e3,c),this.cb=is("retryDelaySeedMs",1e4,c),this.Wa=is("forwardChannelMaxRetries",2,c),this.wa=is("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new pi(c&&c.concurrentRequestLimit),this.Da=new ts,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=$s.prototype,r.la=8,r.G=1,r.connect=function(c,m,_,S){ee(0),this.W=c,this.H=m||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=mu(this,null,this.W),Js(this)};function Eo(c){if(lu(c),c.G==3){var m=c.U++,_=an(c.I);if(Kt(_,"SID",c.K),Kt(_,"RID",m),Kt(_,"TYPE","terminate"),rs(c,_),m=new $e(c,c.j,m),m.L=2,m.v=Zr(an(_)),_=!1,p.navigator&&p.navigator.sendBeacon)try{_=p.navigator.sendBeacon(m.v.toString(),"")}catch{}!_&&p.Image&&(new Image().src=m.v,_=!0),_||(m.g=pu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Kr(m)}du(c)}function Zs(c){c.g&&(ss(c),c.g.cancel(),c.g=null)}function lu(c){Zs(c),c.u&&(p.clearTimeout(c.u),c.u=null),Ws(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&p.clearTimeout(c.s),c.s=null)}function Js(c){if(!qs(c.h)&&!c.s){c.s=!0;var m=c.Ga;it||D(),ft||(it(),ft=!0),zt.add(m,c),c.B=0}}function Oh(c,m){return Hs(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=m.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=de(I(c.Ga,c,m),So(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const k=new $e(this,this.j,c);let G=this.o;if(this.S&&(G?(G=R(G),O(G,this.S)):G=this.S),this.m!==null||this.O||(k.H=G,G=null),this.P)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(m+=S,4096<m){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=uu(this,k,m),_=an(this.I),Kt(_,"RID",c),Kt(_,"CVER",22),this.D&&Kt(_,"X-HTTP-Session-Id",this.D),rs(this,_),G&&(this.O?m="headers="+encodeURIComponent(String(vo(G)))+"&"+m:this.m&&Ce(_,this.m,G)),Gs(this.h,k),this.Ua&&Kt(_,"TYPE","init"),this.P?(Kt(_,"$req",m),Kt(_,"SID","null"),k.T=!0,xn(k,_,null)):xn(k,_,m),this.G=2}}else this.G==3&&(c?To(this,c):this.i.length==0||qs(this.h)||To(this))};function To(c,m){var _;m?_=m.l:_=c.U++;const S=an(c.I);Kt(S,"SID",c.K),Kt(S,"RID",_),Kt(S,"AID",c.T),rs(c,S),c.m&&c.o&&Ce(S,c.m,c.o),_=new $e(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),m&&(c.i=m.D.concat(c.i)),m=uu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Gs(c.h,_),xn(_,S,m)}function rs(c,m){c.H&&Mt(c.H,function(_,S){Kt(m,S,_)}),c.l&&mo({},function(_,S){Kt(m,S,_)})}function uu(c,m,_){_=Math.min(c.i.length,_);var S=c.l?I(c.l.Na,c.l,c):null;t:{var k=c.i;let G=-1;for(;;){const nt=["count="+_];G==-1?0<_?(G=k[0].g,nt.push("ofs="+G)):G=0:nt.push("ofs="+G);let Pt=!0;for(let Te=0;Te<_;Te++){let Ut=k[Te].g;const Ne=k[Te].map;if(Ut-=G,0>Ut)G=Math.max(0,k[Te].g-100),Pt=!1;else try{Kn(Ne,nt,"req"+Ut+"_")}catch{S&&S(Ne)}}if(Pt){S=nt.join("&");break t}}}return c=c.i.splice(0,_),m.D=c,S}function cu(c){if(!c.g&&!c.u){c.Y=1;var m=c.Fa;it||D(),ft||(it(),ft=!0),zt.add(m,c),c.v=0}}function Ao(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=de(I(c.Fa,c),So(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,hu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=de(I(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ee(10),Zs(this),hu(this))};function ss(c){c.A!=null&&(p.clearTimeout(c.A),c.A=null)}function hu(c){c.g=new $e(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var m=an(c.qa);Kt(m,"RID","rpc"),Kt(m,"SID",c.K),Kt(m,"AID",c.T),Kt(m,"CI",c.F?"0":"1"),!c.F&&c.ja&&Kt(m,"TO",c.ja),Kt(m,"TYPE","xmlhttp"),rs(c,m),c.m&&c.o&&Ce(m,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=Zr(an(m)),_.m=null,_.P=!0,mi(_,c)}r.Za=function(){this.C!=null&&(this.C=null,Zs(this),Ao(this),ee(19))};function Ws(c){c.C!=null&&(p.clearTimeout(c.C),c.C=null)}function fu(c,m){var _=null;if(c.g==m){Ws(c),ss(c),c.g=null;var S=2}else if(ho(c.h,m))_=m.D,Ze(c.h,m),S=1;else return;if(c.G!=0){if(m.o)if(S==1){_=m.m?m.m.length:0,m=Date.now()-m.F;var k=c.B;S=Qi(),Gt(S,new Ee(S,_)),Js(c)}else cu(c);else if(k=m.s,k==3||k==0&&0<m.X||!(S==1&&Oh(c,m)||S==2&&Ao(c)))switch(_&&0<_.length&&(m=c.h,m.i=m.i.concat(_)),k){case 1:Ti(c,5);break;case 4:Ti(c,10);break;case 3:Ti(c,6);break;default:Ti(c,2)}}}function So(c,m){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*m}function Ti(c,m){if(c.j.info("Error code "+m),m==2){var _=I(c.fb,c),S=c.Xa;const k=!S;S=new me(S||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||$r(S,"https"),Zr(S),k?Wr(S.toString(),_):On(S.toString(),_)}else ee(2);c.G=0,c.l&&c.l.sa(m),du(c),lu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ee(2)):(this.j.info("Failed to ping google.com"),ee(1))};function du(c){if(c.G=0,c.ka=[],c.l){const m=fo(c.h);(m.length!=0||c.i.length!=0)&&(H(c.ka,m),H(c.ka,c.i),c.h.i.length=0,W(c.i),c.i.length=0),c.l.ra()}}function mu(c,m,_){var S=_ instanceof me?an(_):new me(_);if(S.g!="")m&&(S.g=m+"."+S.g),Zi(S,S.s);else{var k=p.location;S=k.protocol,m=m?m+"."+k.hostname:k.hostname,k=+k.port;var G=new me(null);S&&$r(G,S),m&&(G.g=m),k&&Zi(G,k),_&&(G.l=_),S=G}return _=c.D,m=c.ya,_&&m&&Kt(S,_,m),Kt(S,"VER",c.la),rs(c,S),S}function pu(c,m,_){if(m&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Ca&&!c.pa?new qt(new Ji({eb:_})):new qt(c.pa),m.Ha(c.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function gu(){}r=gu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ta(){}ta.prototype.g=function(c,m){return new Je(c,m)};function Je(c,m){ae.call(this),this.g=new $s(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(c?c["X-WebChannel-Client-Profile"]=m.va:c={"X-WebChannel-Client-Profile":m.va}),this.g.S=c,(c=m&&m.Sb)&&!et(c)&&(this.g.m=c),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!et(m)&&(this.g.D=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new Zn(this)}K(Je,ae),Je.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Je.prototype.close=function(){Eo(this.g)},Je.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Dn(c),c=_);m.i.push(new iu(m.Ya++,c)),m.G==3&&Js(m)},Je.prototype.N=function(){this.g.l=null,delete this.j,Eo(this.g),delete this.g,Je.aa.N.call(this)};function yu(c){fi.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){t:{for(const _ in m){c=_;break t}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}K(yu,fi);function _u(){oo.call(this),this.status=1}K(_u,oo);function Zn(c){this.g=c}K(Zn,gu),Zn.prototype.ua=function(){Gt(this.g,"a")},Zn.prototype.ta=function(c){Gt(this.g,new yu(c))},Zn.prototype.sa=function(c){Gt(this.g,new _u)},Zn.prototype.ra=function(){Gt(this.g,"b")},ta.prototype.createWebChannel=ta.prototype.g,Je.prototype.send=Je.prototype.o,Je.prototype.open=Je.prototype.m,Je.prototype.close=Je.prototype.close,IE=function(){return new ta},wE=function(){return Qi()},RE=qn,Jd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Xi.NO_ERROR=0,Xi.TIMEOUT=8,Xi.HTTP_ERROR=6,Nc=Xi,di.COMPLETE="complete",bE=di,ao.EventType=hi,hi.OPEN="a",hi.CLOSE="b",hi.ERROR="c",hi.MESSAGE="d",ae.prototype.listen=ae.prototype.K,dl=ao,qt.prototype.listenOnce=qt.prototype.L,qt.prototype.getLastError=qt.prototype.Ka,qt.prototype.getLastErrorCode=qt.prototype.Ba,qt.prototype.getStatus=qt.prototype.Z,qt.prototype.getResponseJson=qt.prototype.Oa,qt.prototype.getResponseText=qt.prototype.oa,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Ha,SE=qt}).apply(typeof Ec<"u"?Ec:typeof self<"u"?self:typeof window<"u"?window:{});const yv="@firebase/firestore",_v="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ke.UNAUTHENTICATED=new Ke(null),Ke.GOOGLE_CREDENTIALS=new Ke("google-credentials-uid"),Ke.FIRST_PARTY=new Ke("first-party-uid"),Ke.MOCK_USER=new Ke("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $a="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds=new gm("@firebase/firestore");function Da(){return Ds.logLevel}function at(r,...t){if(Ds.logLevel<=Ot.DEBUG){const n=t.map(Dm);Ds.debug(`Firestore (${$a}): ${r}`,...n)}}function qi(r,...t){if(Ds.logLevel<=Ot.ERROR){const n=t.map(Dm);Ds.error(`Firestore (${$a}): ${r}`,...n)}}function za(r,...t){if(Ds.logLevel<=Ot.WARN){const n=t.map(Dm);Ds.warn(`Firestore (${$a}): ${r}`,...n)}}function Dm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(r,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,CE(r,s,n)}function CE(r,t,n){let s=`FIRESTORE (${$a}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw qi(s),new Error(s)}function Ht(r,t,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||CE(t,o,s)}function bt(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends Gi{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class vI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Ke.UNAUTHENTICATED))}shutdown(){}}class EI{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class TI{constructor(t){this.t=t,this.currentUser=Ke.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Ht(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new ws;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ws,t.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const g=u;t.enqueueRetryable(async()=>{await g.promise,await o(this.currentUser)})},p=g=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(g=>p(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ws)}},0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==t?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ht(typeof s.accessToken=="string",31837,{l:s}),new NE(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ht(t===null||typeof t=="string",2055,{h:t}),new Ke(t)}}class AI{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=Ke.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class SI{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new AI(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(Ke.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class vv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bI{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Un(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Ht(this.o===void 0,3512);const s=u=>{u.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,at("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable(()=>s(u))};const o=u=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new vv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Ht(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new vv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RI(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DE(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=RI(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=t.charAt(o[u]%62))}return s}}function It(r,t){return r<t?-1:r>t?1:0}function Wd(r,t){let n=0;for(;n<r.length&&n<t.length;){const s=r.codePointAt(n),o=t.codePointAt(n);if(s!==o){if(s<128&&o<128)return It(s,o);{const u=DE(),f=wI(u.encode(Ev(r,n)),u.encode(Ev(t,n)));return f!==0?f:It(s,o)}}n+=s>65535?2:1}return It(r.length,t.length)}function Ev(r,t){return r.codePointAt(t)>65535?r.substring(t,t+2):r.substring(t,t+1)}function wI(r,t){for(let n=0;n<r.length&&n<t.length;++n)if(r[n]!==t[n])return It(r[n],t[n]);return It(r.length,t.length)}function Ba(r,t,n){return r.length===t.length&&r.every((s,o)=>n(s,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tv=-62135596800,Av=1e6;class Re{static now(){return Re.fromMillis(Date.now())}static fromDate(t){return Re.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*Av);return new Re(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ut(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ut(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<Tv)throw new ut(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ut(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Av}_compareTo(t){return this.seconds===t.seconds?It(this.nanoseconds,t.nanoseconds):It(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-Tv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{static fromTimestamp(t){return new St(t)}static min(){return new St(new Re(0,0))}static max(){return new St(new Re(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv="__name__";class ri{constructor(t,n,s){n===void 0?n=0:n>t.length&&_t(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&_t(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return ri.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof ri?t.forEach(s=>{n.push(s)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const u=ri.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return It(t.length,n.length)}static compareSegments(t,n){const s=ri.isNumericId(t),o=ri.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?ri.extractNumericId(t).compare(ri.extractNumericId(n)):Wd(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Nr.fromString(t.substring(4,t.length-2))}}class te extends ri{construct(t,n,s){return new te(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new ut(Z.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new te(n)}static emptyPath(){return new te([])}}const II=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Be extends ri{construct(t,n,s){return new Be(t,n,s)}static isValidIdentifier(t){return II.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Be.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Sv}static keyField(){return new Be([Sv])}static fromServerFormat(t){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ut(Z.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<t.length;){const p=t[o];if(p==="\\"){if(o+1===t.length)throw new ut(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ut(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=g,o+=2}else p==="`"?(f=!f,o++):p!=="."||f?(s+=p,o++):(u(),o++)}if(u(),f)throw new ut(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Be(n)}static emptyPath(){return new Be([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(t){this.path=t}static fromPath(t){return new dt(te.fromString(t))}static fromName(t){return new dt(te.fromString(t).popFirst(5))}static empty(){return new dt(te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&te.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return te.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new dt(new te(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cl=-1;function CI(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=St.fromTimestamp(s===1e9?new Re(n+1,0):new Re(n,s));return new xr(o,dt.empty(),t)}function NI(r){return new xr(r.readTime,r.key,Cl)}class xr{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new xr(St.min(),dt.empty(),Cl)}static max(){return new xr(St.max(),dt.empty(),Cl)}}function DI(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=dt.comparator(r.documentKey,t.documentKey),n!==0?n:It(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class OI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Za(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==xI)throw r;at("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&_t(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new $((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):$.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):$.reject(n)}static resolve(t){return new $((n,s)=>{n(t)})}static reject(t){return new $((n,s)=>{s(t)})}static waitFor(t){return new $((n,s)=>{let o=0,u=0,f=!1;t.forEach(p=>{++o,p.next(()=>{++u,f&&u===o&&n()},g=>s(g))}),f=!0,u===o&&n()})}static or(t){let n=$.resolve(!1);for(const s of t)n=n.next(o=>o?$.resolve(o):s());return n}static forEach(t,n){const s=[];return t.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(t,n){return new $((s,o)=>{const u=t.length,f=new Array(u);let p=0;for(let g=0;g<u;g++){const y=g;n(t[y]).next(E=>{f[y]=E,++p,p===u&&s(f)},E=>o(E))}})}static doWhile(t,n){return new $((s,o)=>{const u=()=>{t()===!0?n().next(()=>{u()},o):s()};u()})}}function VI(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ja(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>n.writeSequenceNumber(s))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}ch.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xm=-1;function hh(r){return r==null}function Hc(r){return r===0&&1/r==-1/0}function MI(r){return typeof r=="number"&&Number.isInteger(r)&&!Hc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE="";function PI(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=bv(t)),t=UI(r.get(n),t);return bv(t)}function UI(r,t){let n=t;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case OE:n+="";break;default:n+=u}}return n}function bv(r){return r+OE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rv(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function Vs(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function VE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(t,n){this.comparator=t,this.root=n||ze.EMPTY}insert(t,n){return new re(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,ze.BLACK,null,null))}remove(t){return new re(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ze.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,s)=>(t(n,s),!1))}toString(){const t=[];return this.inorderTraversal((n,s)=>(t.push(`${n}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Tc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Tc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Tc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Tc(this.root,t,this.comparator,!0)}}class Tc{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ze{constructor(t,n,s,o,u){this.key=t,this.value=n,this.color=s??ze.RED,this.left=o??ze.EMPTY,this.right=u??ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,u){return new ze(t??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return ze.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return ze.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _t(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _t(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw _t(27949);return t+(this.isRed()?0:1)}}ze.EMPTY=null,ze.RED=!0,ze.BLACK=!1;ze.EMPTY=new class{constructor(){this.size=0}get key(){throw _t(57766)}get value(){throw _t(16141)}get color(){throw _t(16727)}get left(){throw _t(29726)}get right(){throw _t(36894)}copy(t,n,s,o,u){return this}insert(t,n,s){return new ze(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(t){this.comparator=t,this.data=new re(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,s)=>(t(n),!1))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new wv(this.data.getIterator())}getIteratorFrom(t){return new wv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(s=>{n=n.add(s)}),n}isEqual(t){if(!(t instanceof we)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new we(this.comparator);return n.data=t,n}}class wv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(t){this.fields=t,t.sort(Be.comparator)}static empty(){return new Ln([])}unionWith(t){let n=new we(Be.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new Ln(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Ba(this.fields,t.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new ME("Invalid base64 string: "+u):u}}(t);return new qe(n)}static fromUint8Array(t){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(t);return new qe(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return It(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}qe.EMPTY_BYTE_STRING=new qe("");const kI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Or(r){if(Ht(!!r,39018),typeof r=="string"){let t=0;const n=kI.exec(r);if(Ht(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:fe(r.seconds),nanos:fe(r.nanos)}}function fe(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Vr(r){return typeof r=="string"?qe.fromBase64String(r):qe.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE="server_timestamp",UE="__type__",kE="__previous_value__",LE="__local_write_time__";function Om(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[UE])===null||n===void 0?void 0:n.stringValue)===PE}function fh(r){const t=r.mapValue.fields[kE];return Om(t)?fh(t):t}function Nl(r){const t=Or(r.mapValue.fields[LE].timestampValue);return new Re(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(t,n,s,o,u,f,p,g,y,E){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=E}}const Gc="(default)";class Dl{constructor(t,n){this.projectId=t,this.database=n||Gc}static empty(){return new Dl("","")}get isDefaultDatabase(){return this.database===Gc}isEqual(t){return t instanceof Dl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE="__type__",jI="__max__",Ac={mapValue:{}},zE="__vector__",Fc="value";function Mr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Om(r)?4:BI(r)?9007199254740991:zI(r)?10:11:_t(28295,{value:r})}function ui(r,t){if(r===t)return!0;const n=Mr(r);if(n!==Mr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Nl(r).isEqual(Nl(t));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Or(o.timestampValue),p=Or(u.timestampValue);return f.seconds===p.seconds&&f.nanos===p.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(o,u){return Vr(o.bytesValue).isEqual(Vr(u.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(o,u){return fe(o.geoPointValue.latitude)===fe(u.geoPointValue.latitude)&&fe(o.geoPointValue.longitude)===fe(u.geoPointValue.longitude)}(r,t);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return fe(o.integerValue)===fe(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=fe(o.doubleValue),p=fe(u.doubleValue);return f===p?Hc(f)===Hc(p):isNaN(f)&&isNaN(p)}return!1}(r,t);case 9:return Ba(r.arrayValue.values||[],t.arrayValue.values||[],ui);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},p=u.mapValue.fields||{};if(Rv(f)!==Rv(p))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(p[g]===void 0||!ui(f[g],p[g])))return!1;return!0}(r,t);default:return _t(52216,{left:r})}}function xl(r,t){return(r.values||[]).find(n=>ui(n,t))!==void 0}function qa(r,t){if(r===t)return 0;const n=Mr(r),s=Mr(t);if(n!==s)return It(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return It(r.booleanValue,t.booleanValue);case 2:return function(u,f){const p=fe(u.integerValue||u.doubleValue),g=fe(f.integerValue||f.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1}(r,t);case 3:return Iv(r.timestampValue,t.timestampValue);case 4:return Iv(Nl(r),Nl(t));case 5:return Wd(r.stringValue,t.stringValue);case 6:return function(u,f){const p=Vr(u),g=Vr(f);return p.compareTo(g)}(r.bytesValue,t.bytesValue);case 7:return function(u,f){const p=u.split("/"),g=f.split("/");for(let y=0;y<p.length&&y<g.length;y++){const E=It(p[y],g[y]);if(E!==0)return E}return It(p.length,g.length)}(r.referenceValue,t.referenceValue);case 8:return function(u,f){const p=It(fe(u.latitude),fe(f.latitude));return p!==0?p:It(fe(u.longitude),fe(f.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return Cv(r.arrayValue,t.arrayValue);case 10:return function(u,f){var p,g,y,E;const b=u.fields||{},I=f.fields||{},q=(p=b[Fc])===null||p===void 0?void 0:p.arrayValue,K=(g=I[Fc])===null||g===void 0?void 0:g.arrayValue,W=It(((y=q==null?void 0:q.values)===null||y===void 0?void 0:y.length)||0,((E=K==null?void 0:K.values)===null||E===void 0?void 0:E.length)||0);return W!==0?W:Cv(q,K)}(r.mapValue,t.mapValue);case 11:return function(u,f){if(u===Ac.mapValue&&f===Ac.mapValue)return 0;if(u===Ac.mapValue)return 1;if(f===Ac.mapValue)return-1;const p=u.fields||{},g=Object.keys(p),y=f.fields||{},E=Object.keys(y);g.sort(),E.sort();for(let b=0;b<g.length&&b<E.length;++b){const I=Wd(g[b],E[b]);if(I!==0)return I;const q=qa(p[g[b]],y[E[b]]);if(q!==0)return q}return It(g.length,E.length)}(r.mapValue,t.mapValue);default:throw _t(23264,{Pe:n})}}function Iv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return It(r,t);const n=Or(r),s=Or(t),o=It(n.seconds,s.seconds);return o!==0?o:It(n.nanos,s.nanos)}function Cv(r,t){const n=r.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=qa(n[o],s[o]);if(u)return u}return It(n.length,s.length)}function Ha(r){return tm(r)}function tm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=Or(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return Vr(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return dt.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=tm(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${tm(n.fields[f])}`;return o+"}"}(r.mapValue):_t(61005,{value:r})}function Dc(r){switch(Mr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=fh(r);return t?16+Dc(t):16;case 5:return 2*r.stringValue.length;case 6:return Vr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+Dc(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return Vs(s.fields,(u,f)=>{o+=u.length+Dc(f)}),o}(r.mapValue);default:throw _t(13486,{value:r})}}function Nv(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function em(r){return!!r&&"integerValue"in r}function Vm(r){return!!r&&"arrayValue"in r}function Dv(r){return!!r&&"nullValue"in r}function xv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function xc(r){return!!r&&"mapValue"in r}function zI(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[jE])===null||n===void 0?void 0:n.stringValue)===zE}function vl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return Vs(r.mapValue.fields,(n,s)=>t.mapValue.fields[n]=vl(s)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=vl(r.arrayValue.values[n]);return t}return Object.assign({},r)}function BI(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===jI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(t){this.value=t}static empty(){return new Nn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!xc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=vl(n)}setAll(t){let n=Be.emptyPath(),s={},o=[];t.forEach((f,p)=>{if(!n.isImmediateParentOf(p)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=p.popLast()}f?s[p.lastSegment()]=vl(f):o.push(p.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(t){const n=this.field(t.popLast());xc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return ui(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];xc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){Vs(n,(o,u)=>t[o]=u);for(const o of s)delete t[o]}clone(){return new Nn(vl(this.value))}}function BE(r){const t=[];return Vs(r.fields,(n,s)=>{const o=new Be([n]);if(xc(s)){const u=BE(s.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)}),new Ln(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(t,n,s,o,u,f,p){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=p}static newInvalidDocument(t){return new Ye(t,0,St.min(),St.min(),St.min(),Nn.empty(),0)}static newFoundDocument(t,n,s,o){return new Ye(t,1,n,St.min(),s,o,0)}static newNoDocument(t,n){return new Ye(t,2,n,St.min(),St.min(),Nn.empty(),0)}static newUnknownDocument(t,n){return new Ye(t,3,n,St.min(),St.min(),Nn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Nn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ye&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ye(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(t,n){this.position=t,this.inclusive=n}}function Ov(r,t,n){let s=0;for(let o=0;o<r.position.length;o++){const u=t[o],f=r.position[o];if(u.field.isKeyField()?s=dt.comparator(dt.fromName(f.referenceValue),n.key):s=qa(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function Vv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!ui(r.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(t,n="asc"){this.field=t,this.dir=n}}function qI(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{}class _e extends qE{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new GI(t,n,s):n==="array-contains"?new KI(t,s):n==="in"?new YI(t,s):n==="not-in"?new XI(t,s):n==="array-contains-any"?new $I(t,s):new _e(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new FI(t,s):new QI(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(qa(n,this.value)):n!==null&&Mr(this.value)===Mr(n)&&this.matchesComparison(qa(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return _t(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class zn extends qE{constructor(t,n){super(),this.filters=t,this.op=n,this.Te=null}static create(t,n){return new zn(t,n)}matches(t){return HE(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function HE(r){return r.op==="and"}function GE(r){return HI(r)&&HE(r)}function HI(r){for(const t of r.filters)if(t instanceof zn)return!1;return!0}function nm(r){if(r instanceof _e)return r.field.canonicalString()+r.op.toString()+Ha(r.value);if(GE(r))return r.filters.map(t=>nm(t)).join(",");{const t=r.filters.map(n=>nm(n)).join(",");return`${r.op}(${t})`}}function FE(r,t){return r instanceof _e?function(s,o){return o instanceof _e&&s.op===o.op&&s.field.isEqual(o.field)&&ui(s.value,o.value)}(r,t):r instanceof zn?function(s,o){return o instanceof zn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,p)=>u&&FE(f,o.filters[p]),!0):!1}(r,t):void _t(19439)}function QE(r){return r instanceof _e?function(n){return`${n.field.canonicalString()} ${n.op} ${Ha(n.value)}`}(r):r instanceof zn?function(n){return n.op.toString()+" {"+n.getFilters().map(QE).join(" ,")+"}"}(r):"Filter"}class GI extends _e{constructor(t,n,s){super(t,n,s),this.key=dt.fromName(s.referenceValue)}matches(t){const n=dt.comparator(t.key,this.key);return this.matchesComparison(n)}}class FI extends _e{constructor(t,n){super(t,"in",n),this.keys=KE("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class QI extends _e{constructor(t,n){super(t,"not-in",n),this.keys=KE("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function KE(r,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>dt.fromName(s.referenceValue))}class KI extends _e{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Vm(n)&&xl(n.arrayValue,this.value)}}class YI extends _e{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&xl(this.value.arrayValue,n)}}class XI extends _e{constructor(t,n){super(t,"not-in",n)}matches(t){if(xl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!xl(this.value.arrayValue,n)}}class $I extends _e{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Vm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>xl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(t,n=null,s=[],o=[],u=null,f=null,p=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=p,this.Ie=null}}function Mv(r,t=null,n=[],s=[],o=null,u=null,f=null){return new ZI(r,t,n,s,o,u,f)}function Mm(r){const t=bt(r);if(t.Ie===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(s=>nm(s)).join(","),n+="|ob:",n+=t.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),hh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(s=>Ha(s)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(s=>Ha(s)).join(",")),t.Ie=n}return t.Ie}function Pm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!qI(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!FE(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!Vv(r.startAt,t.startAt)&&Vv(r.endAt,t.endAt)}function im(r){return dt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(t,n=null,s=[],o=[],u=null,f="F",p=null,g=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=p,this.endAt=g,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function JI(r,t,n,s,o,u,f,p){return new Wa(r,t,n,s,o,u,f,p)}function Um(r){return new Wa(r)}function Pv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function YE(r){return r.collectionGroup!==null}function El(r){const t=bt(r);if(t.Ee===null){t.Ee=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ee.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let p=new we(Be.comparator);return f.filters.forEach(g=>{g.getFlattenedFilters().forEach(y=>{y.isInequality()&&(p=p.add(y.field))})}),p})(t).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ee.push(new Ol(u,s))}),n.has(Be.keyField().canonicalString())||t.Ee.push(new Ol(Be.keyField(),s))}return t.Ee}function ai(r){const t=bt(r);return t.de||(t.de=WI(t,El(r))),t.de}function WI(r,t){if(r.limitType==="F")return Mv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Ol(o.field,u)});const n=r.endAt?new Qc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Qc(r.startAt.position,r.startAt.inclusive):null;return Mv(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function rm(r,t){const n=r.filters.concat([t]);return new Wa(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Kc(r,t,n){return new Wa(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function dh(r,t){return Pm(ai(r),ai(t))&&r.limitType===t.limitType}function XE(r){return`${Mm(ai(r))}|lt:${r.limitType}`}function xa(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>QE(o)).join(", ")}]`),hh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>Ha(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>Ha(o)).join(",")),`Target(${s})`}(ai(r))}; limitType=${r.limitType})`}function mh(r,t){return t.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):dt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,t)&&function(s,o){for(const u of El(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,t)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,t)&&function(s,o){return!(s.startAt&&!function(f,p,g){const y=Ov(f,p,g);return f.inclusive?y<=0:y<0}(s.startAt,El(s),o)||s.endAt&&!function(f,p,g){const y=Ov(f,p,g);return f.inclusive?y>=0:y>0}(s.endAt,El(s),o))}(r,t)}function tC(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function $E(r){return(t,n)=>{let s=!1;for(const o of El(r)){const u=eC(o,t,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function eC(r,t,n){const s=r.field.isKeyField()?dt.comparator(t.key,n.key):function(u,f,p){const g=f.data.field(u),y=p.data.field(u);return g!==null&&y!==null?qa(g,y):_t(42886)}(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return _t(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Vs(this.inner,(n,s)=>{for(const[o,u]of s)t(o,u)})}isEmpty(){return VE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC=new re(dt.comparator);function Hi(){return nC}const ZE=new re(dt.comparator);function ml(...r){let t=ZE;for(const n of r)t=t.insert(n.key,n);return t}function JE(r){let t=ZE;return r.forEach((n,s)=>t=t.insert(n,s.overlayedDocument)),t}function Ss(){return Tl()}function WE(){return Tl()}function Tl(){return new Ms(r=>r.toString(),(r,t)=>r.isEqual(t))}const iC=new re(dt.comparator),rC=new we(dt.comparator);function Vt(...r){let t=rC;for(const n of r)t=t.add(n);return t}const sC=new we(It);function aC(){return sC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function km(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hc(t)?"-0":t}}function tT(r){return{integerValue:""+r}}function oC(r,t){return MI(t)?tT(t):km(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(){this._=void 0}}function lC(r,t,n){return r instanceof Vl?function(o,u){const f={fields:{[UE]:{stringValue:PE},[LE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Om(u)&&(u=fh(u)),u&&(f.fields[kE]=u),{mapValue:f}}(n,t):r instanceof Ml?nT(r,t):r instanceof Pl?iT(r,t):function(o,u){const f=eT(o,u),p=Uv(f)+Uv(o.Re);return em(f)&&em(o.Re)?tT(p):km(o.serializer,p)}(r,t)}function uC(r,t,n){return r instanceof Ml?nT(r,t):r instanceof Pl?iT(r,t):n}function eT(r,t){return r instanceof Yc?function(s){return em(s)||function(u){return!!u&&"doubleValue"in u}(s)}(t)?t:{integerValue:0}:null}class Vl extends ph{}class Ml extends ph{constructor(t){super(),this.elements=t}}function nT(r,t){const n=rT(t);for(const s of r.elements)n.some(o=>ui(o,s))||n.push(s);return{arrayValue:{values:n}}}class Pl extends ph{constructor(t){super(),this.elements=t}}function iT(r,t){let n=rT(t);for(const s of r.elements)n=n.filter(o=>!ui(o,s));return{arrayValue:{values:n}}}class Yc extends ph{constructor(t,n){super(),this.serializer=t,this.Re=n}}function Uv(r){return fe(r.integerValue||r.doubleValue)}function rT(r){return Vm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(t,n){this.field=t,this.transform=n}}function hC(r,t){return r.field.isEqual(t.field)&&function(s,o){return s instanceof Ml&&o instanceof Ml||s instanceof Pl&&o instanceof Pl?Ba(s.elements,o.elements,ui):s instanceof Yc&&o instanceof Yc?ui(s.Re,o.Re):s instanceof Vl&&o instanceof Vl}(r.transform,t.transform)}class fC{constructor(t,n){this.version=t,this.transformResults=n}}class ji{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new ji}static exists(t){return new ji(void 0,t)}static updateTime(t){return new ji(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Oc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class gh{}function sT(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new oT(r.key,ji.none()):new Gl(r.key,r.data,ji.none());{const n=r.data,s=Nn.empty();let o=new we(Be.comparator);for(let u of t.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new Ps(r.key,s,new Ln(o.toArray()),ji.none())}}function dC(r,t,n){r instanceof Gl?function(o,u,f){const p=o.value.clone(),g=Lv(o.fieldTransforms,u,f.transformResults);p.setAll(g),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,t,n):r instanceof Ps?function(o,u,f){if(!Oc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const p=Lv(o.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(aT(o)),g.setAll(p),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()}(r,t,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,t,n)}function Al(r,t,n,s){return r instanceof Gl?function(u,f,p,g){if(!Oc(u.precondition,f))return p;const y=u.value.clone(),E=jv(u.fieldTransforms,g,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null}(r,t,n,s):r instanceof Ps?function(u,f,p,g){if(!Oc(u.precondition,f))return p;const y=jv(u.fieldTransforms,g,f),E=f.data;return E.setAll(aT(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(b=>b.field))}(r,t,n,s):function(u,f,p){return Oc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):p}(r,t,n)}function mC(r,t){let n=null;for(const s of r.fieldTransforms){const o=t.data.field(s.field),u=eT(s.transform,o||null);u!=null&&(n===null&&(n=Nn.empty()),n.set(s.field,u))}return n||null}function kv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Ba(s,o,(u,f)=>hC(u,f))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Gl extends gh{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ps extends gh{constructor(t,n,s,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function aT(r){const t=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}}),t}function Lv(r,t,n){const s=new Map;Ht(r.length===n.length,32656,{Ve:n.length,me:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,p=t.data.field(u.field);s.set(u.field,uC(f,p,n[o]))}return s}function jv(r,t,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,lC(u,f,t))}return s}class oT extends gh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class pC extends gh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&dC(u,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=Al(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=Al(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=WE();return this.mutations.forEach(o=>{const u=t.get(o.key),f=u.overlayedDocument;let p=this.applyToLocalView(f,u.mutatedFields);p=n.has(o.key)?null:p;const g=sT(f,p);g!==null&&s.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(St.min())}),s}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Vt())}isEqual(t){return this.batchId===t.batchId&&Ba(this.mutations,t.mutations,(n,s)=>kv(n,s))&&Ba(this.baseMutations,t.baseMutations,(n,s)=>kv(n,s))}}class Lm{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){Ht(t.mutations.length===s.length,58842,{fe:t.mutations.length,ge:s.length});let o=function(){return iC}();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Lm(t,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ye,Lt;function vC(r){switch(r){case Z.OK:return _t(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return _t(15467,{code:r})}}function lT(r){if(r===void 0)return qi("GRPC error has no .code"),Z.UNKNOWN;switch(r){case ye.OK:return Z.OK;case ye.CANCELLED:return Z.CANCELLED;case ye.UNKNOWN:return Z.UNKNOWN;case ye.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case ye.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case ye.INTERNAL:return Z.INTERNAL;case ye.UNAVAILABLE:return Z.UNAVAILABLE;case ye.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case ye.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case ye.NOT_FOUND:return Z.NOT_FOUND;case ye.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case ye.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case ye.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case ye.ABORTED:return Z.ABORTED;case ye.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case ye.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case ye.DATA_LOSS:return Z.DATA_LOSS;default:return _t(39323,{code:r})}}(Lt=ye||(ye={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC=new Nr([4294967295,4294967295],0);function zv(r){const t=DE().encode(r),n=new AE;return n.update(t),new Uint8Array(n.digest())}function Bv(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Nr([n,s],0),new Nr([o,u],0)]}class jm{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new pl(`Invalid padding: ${n}`);if(s<0)throw new pl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new pl(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new pl(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*t.length-n,this.ye=Nr.fromNumber(this.pe)}we(t,n,s){let o=t.add(n.multiply(Nr.fromNumber(s)));return o.compare(EC)===1&&(o=new Nr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}Se(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const n=zv(t),[s,o]=Bv(n);for(let u=0;u<this.hashCount;u++){const f=this.we(s,o,u);if(!this.Se(f))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new jm(u,o,n);return s.forEach(p=>f.insert(p)),f}insert(t){if(this.pe===0)return;const n=zv(t),[s,o]=Bv(n);for(let u=0;u<this.hashCount;u++){const f=this.we(s,o,u);this.be(f)}}be(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class pl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(t,n,s,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,Fl.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new yh(St.min(),o,new re(It),Hi(),Vt())}}class Fl{constructor(t,n,s,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new Fl(s,n,Vt(),Vt(),Vt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(t,n,s,o){this.De=t,this.removedTargetIds=n,this.key=s,this.ve=o}}class uT{constructor(t,n){this.targetId=t,this.Ce=n}}class cT{constructor(t,n,s=qe.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class qv{constructor(){this.Fe=0,this.Me=Hv(),this.xe=qe.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=Vt(),n=Vt(),s=Vt();return this.Me.forEach((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:_t(38017,{changeType:u})}}),new Fl(this.xe,this.Oe,t,n,s)}Qe(){this.Ne=!1,this.Me=Hv()}$e(t,n){this.Ne=!0,this.Me=this.Me.insert(t,n)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ht(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class TC{constructor(t){this.ze=t,this.je=new Map,this.He=Hi(),this.Je=Sc(),this.Ye=Sc(),this.Ze=new re(It)}Xe(t){for(const n of t.De)t.ve&&t.ve.isFoundDocument()?this.et(n,t.ve):this.tt(n,t.key,t.ve);for(const n of t.removedTargetIds)this.tt(n,t.key,t.ve)}nt(t){this.forEachTarget(t,n=>{const s=this.rt(n);switch(t.state){case 0:this.it(n)&&s.ke(t.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(t.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(n);break;case 3:this.it(n)&&(s.Ge(),s.ke(t.resumeToken));break;case 4:this.it(n)&&(this.st(n),s.ke(t.resumeToken));break;default:_t(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.je.forEach((s,o)=>{this.it(o)&&n(o)})}ot(t){const n=t.targetId,s=t.Ce.count,o=this._t(n);if(o){const u=o.target;if(im(u))if(s===0){const f=new dt(u.path);this.tt(n,f,Ye.newNoDocument(f,St.min()))}else Ht(s===1,20013,{expectedCount:s});else{const f=this.ut(n);if(f!==s){const p=this.ct(t),g=p?this.lt(p,t,f):1;if(g!==0){this.st(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,y)}}}}}ct(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,p;try{f=Vr(s).toUint8Array()}catch(g){if(g instanceof ME)return za("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new jm(f,o,u)}catch(g){return za(g instanceof pl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.pe===0?null:p}lt(t,n,s){return n.Ce.count===s-this.Tt(t,n.targetId)?0:2}Tt(t,n){const s=this.ze.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.ze.Pt(),p=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(p)||(this.tt(n,u,null),o++)}),o}It(t){const n=new Map;this.je.forEach((u,f)=>{const p=this._t(f);if(p){if(u.current&&im(p.target)){const g=new dt(p.target.path);this.Et(g).has(f)||this.dt(f,g)||this.tt(f,g,Ye.newNoDocument(g,t))}u.Le&&(n.set(f,u.qe()),u.Qe())}});let s=Vt();this.Ye.forEach((u,f)=>{let p=!0;f.forEachWhile(g=>{const y=this._t(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)}),p&&(s=s.add(u))}),this.He.forEach((u,f)=>f.setReadTime(t));const o=new yh(t,n,this.Ze,this.He,s);return this.He=Hi(),this.Je=Sc(),this.Ye=Sc(),this.Ze=new re(It),o}et(t,n){if(!this.it(t))return;const s=this.dt(t,n.key)?2:0;this.rt(t).$e(n.key,s),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(t)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(t))}tt(t,n,s){if(!this.it(t))return;const o=this.rt(t);this.dt(t,n)?o.$e(n,1):o.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(t)),this.Ye=this.Ye.insert(n,this.At(n).add(t)),s&&(this.He=this.He.insert(n,s))}removeTarget(t){this.je.delete(t)}ut(t){const n=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let n=this.je.get(t);return n||(n=new qv,this.je.set(t,n)),n}At(t){let n=this.Ye.get(t);return n||(n=new we(It),this.Ye=this.Ye.insert(t,n)),n}Et(t){let n=this.Je.get(t);return n||(n=new we(It),this.Je=this.Je.insert(t,n)),n}it(t){const n=this._t(t)!==null;return n||at("WatchChangeAggregator","Detected inactive target",t),n}_t(t){const n=this.je.get(t);return n&&n.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new qv),this.ze.getRemoteKeysForTarget(t).forEach(n=>{this.tt(t,n,null)})}dt(t,n){return this.ze.getRemoteKeysForTarget(t).has(n)}}function Sc(){return new re(dt.comparator)}function Hv(){return new re(dt.comparator)}const AC={asc:"ASCENDING",desc:"DESCENDING"},SC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bC={and:"AND",or:"OR"};class RC{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function sm(r,t){return r.useProto3Json||hh(t)?t:{value:t}}function Xc(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function hT(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function wC(r,t){return Xc(r,t.toTimestamp())}function oi(r){return Ht(!!r,49232),St.fromTimestamp(function(n){const s=Or(n);return new Re(s.seconds,s.nanos)}(r))}function zm(r,t){return am(r,t).canonicalString()}function am(r,t){const n=function(o){return new te(["projects",o.projectId,"databases",o.database])}(r).child("documents");return t===void 0?n:n.child(t)}function fT(r){const t=te.fromString(r);return Ht(yT(t),10190,{key:t.toString()}),t}function om(r,t){return zm(r.databaseId,t.path)}function Ld(r,t){const n=fT(t);if(n.get(1)!==r.databaseId.projectId)throw new ut(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ut(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new dt(mT(n))}function dT(r,t){return zm(r.databaseId,t)}function IC(r){const t=fT(r);return t.length===4?te.emptyPath():mT(t)}function lm(r){return new te(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function mT(r){return Ht(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Gv(r,t,n){return{name:om(r,t),fields:n.value.mapValue.fields}}function CC(r,t){let n;if("targetChange"in t){t.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:_t(39313,{state:y})}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=function(y,E){return y.useProto3Json?(Ht(E===void 0||typeof E=="string",58123),qe.fromBase64String(E||"")):(Ht(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),qe.fromUint8Array(E||new Uint8Array))}(r,t.targetChange.resumeToken),f=t.targetChange.cause,p=f&&function(y){const E=y.code===void 0?Z.UNKNOWN:lT(y.code);return new ut(E,y.message||"")}(f);n=new cT(s,o,u,p||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=Ld(r,s.document.name),u=oi(s.document.updateTime),f=s.document.createTime?oi(s.document.createTime):St.min(),p=new Nn({mapValue:{fields:s.document.fields}}),g=Ye.newFoundDocument(o,u,f,p),y=s.targetIds||[],E=s.removedTargetIds||[];n=new Vc(y,E,g.key,g)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=Ld(r,s.document),u=s.readTime?oi(s.readTime):St.min(),f=Ye.newNoDocument(o,u),p=s.removedTargetIds||[];n=new Vc([],p,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=Ld(r,s.document),u=s.removedTargetIds||[];n=new Vc([],u,o,null)}else{if(!("filter"in t))return _t(11601,{Vt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new _C(o,u),p=s.targetId;n=new uT(p,f)}}return n}function NC(r,t){let n;if(t instanceof Gl)n={update:Gv(r,t.key,t.value)};else if(t instanceof oT)n={delete:om(r,t.key)};else if(t instanceof Ps)n={update:Gv(r,t.key,t.data),updateMask:LC(t.fieldMask)};else{if(!(t instanceof pC))return _t(16599,{ft:t.type});n={verify:om(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(s=>function(u,f){const p=f.transform;if(p instanceof Vl)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Ml)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Pl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Yc)return{fieldPath:f.field.canonicalString(),increment:p.Re};throw _t(20930,{transform:f.transform})}(0,s))),t.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:wC(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:_t(27497)}(r,t.precondition)),n}function DC(r,t){return r&&r.length>0?(Ht(t!==void 0,14353),r.map(n=>function(o,u){let f=o.updateTime?oi(o.updateTime):oi(u);return f.isEqual(St.min())&&(f=oi(u)),new fC(f,o.transformResults||[])}(n,t))):[]}function xC(r,t){return{documents:[dT(r,t.path)]}}function OC(r,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=dT(r,o);const u=function(y){if(y.length!==0)return gT(zn.create(y,"and"))}(t.filters);u&&(n.structuredQuery.where=u);const f=function(y){if(y.length!==0)return y.map(E=>function(I){return{field:Oa(I.field),direction:PC(I.dir)}}(E))}(t.orderBy);f&&(n.structuredQuery.orderBy=f);const p=sm(r,t.limit);return p!==null&&(n.structuredQuery.limit=p),t.startAt&&(n.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(t.endAt)),{gt:n,parent:o}}function VC(r){let t=IC(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ht(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let u=[];n.where&&(u=function(b){const I=pT(b);return I instanceof zn&&GE(I)?I.getFilters():[I]}(n.where));let f=[];n.orderBy&&(f=function(b){return b.map(I=>function(K){return new Ol(Va(K.field),function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(K.direction))}(I))}(n.orderBy));let p=null;n.limit&&(p=function(b){let I;return I=typeof b=="object"?b.value:b,hh(I)?null:I}(n.limit));let g=null;n.startAt&&(g=function(b){const I=!!b.before,q=b.values||[];return new Qc(q,I)}(n.startAt));let y=null;return n.endAt&&(y=function(b){const I=!b.before,q=b.values||[];return new Qc(q,I)}(n.endAt)),JI(t,o,f,u,p,"F",g,y)}function MC(r,t){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t(28987,{purpose:o})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function pT(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Va(n.unaryFilter.field);return _e.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Va(n.unaryFilter.field);return _e.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Va(n.unaryFilter.field);return _e.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Va(n.unaryFilter.field);return _e.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _t(61313);default:return _t(60726)}}(r):r.fieldFilter!==void 0?function(n){return _e.create(Va(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _t(58110);default:return _t(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return zn.create(n.compositeFilter.filters.map(s=>pT(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return _t(1026)}}(n.compositeFilter.op))}(r):_t(30097,{filter:r})}function PC(r){return AC[r]}function UC(r){return SC[r]}function kC(r){return bC[r]}function Oa(r){return{fieldPath:r.canonicalString()}}function Va(r){return Be.fromServerFormat(r.fieldPath)}function gT(r){return r instanceof _e?function(n){if(n.op==="=="){if(xv(n.value))return{unaryFilter:{field:Oa(n.field),op:"IS_NAN"}};if(Dv(n.value))return{unaryFilter:{field:Oa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(xv(n.value))return{unaryFilter:{field:Oa(n.field),op:"IS_NOT_NAN"}};if(Dv(n.value))return{unaryFilter:{field:Oa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Oa(n.field),op:UC(n.op),value:n.value}}}(r):r instanceof zn?function(n){const s=n.getFilters().map(o=>gT(o));return s.length===1?s[0]:{compositeFilter:{op:kC(n.op),filters:s}}}(r):_t(54877,{filter:r})}function LC(r){const t=[];return r.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function yT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(t,n,s,o,u=St.min(),f=St.min(),p=qe.EMPTY_BYTE_STRING,g=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(t){return new Rr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Rr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Rr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Rr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(t){this.wt=t}}function zC(r){const t=VC({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Kc(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(){this.Cn=new qC}addToCollectionParentIndex(t,n){return this.Cn.add(n),$.resolve()}getCollectionParents(t,n){return $.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return $.resolve()}deleteFieldIndex(t,n){return $.resolve()}deleteAllFieldIndexes(t){return $.resolve()}createTargetIndexes(t,n){return $.resolve()}getDocumentsMatchingTarget(t,n){return $.resolve(null)}getIndexType(t,n){return $.resolve(0)}getFieldIndexes(t,n){return $.resolve([])}getNextCollectionGroupToUpdate(t){return $.resolve(null)}getMinOffset(t,n){return $.resolve(xr.min())}getMinOffsetFromCollectionGroup(t,n){return $.resolve(xr.min())}updateCollectionGroup(t,n,s){return $.resolve()}updateIndexEntries(t,n){return $.resolve()}}class qC{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new we(te.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new we(te.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},_T=41943040;class rn{static withCacheSize(t){return new rn(t,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rn.DEFAULT_COLLECTION_PERCENTILE=10,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rn.DEFAULT=new rn(_T,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rn.DISABLED=new rn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(t){this.ur=t}next(){return this.ur+=2,this.ur}static cr(){return new Ga(0)}static lr(){return new Ga(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qv="LruGarbageCollector",HC=1048576;function Kv([r,t],[n,s]){const o=It(r,n);return o===0?It(t,s):o}class GC{constructor(t){this.Er=t,this.buffer=new we(Kv),this.dr=0}Ar(){return++this.dr}Rr(t){const n=[t,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Kv(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class FC{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(t){at(Qv,`Garbage collection scheduled in ${t}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ja(n)?at(Qv,"Ignoring IndexedDB error during garbage collection: ",n):await Za(n)}await this.mr(3e5)})}}class QC{constructor(t,n){this.gr=t,this.params=n}calculateTargetCount(t,n){return this.gr.pr(t).next(s=>Math.floor(n/100*s))}nthSequenceNumber(t,n){if(n===0)return $.resolve(ch.le);const s=new GC(n);return this.gr.forEachTarget(t,o=>s.Rr(o.sequenceNumber)).next(()=>this.gr.yr(t,o=>s.Rr(o))).next(()=>s.maxValue)}removeTargets(t,n,s){return this.gr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.gr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(Fv)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Fv):this.wr(t,n))}getCacheSize(t){return this.gr.getCacheSize(t)}wr(t,n){let s,o,u,f,p,g,y;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,f=Date.now(),this.nthSequenceNumber(t,o))).next(b=>(s=b,p=Date.now(),this.removeTargets(t,s,n))).next(b=>(u=b,g=Date.now(),this.removeOrphanedDocuments(t,s))).next(b=>(y=Date.now(),Da()<=Ot.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(p-f)+`ms
	Removed ${u} targets in `+(g-p)+`ms
	Removed ${b} documents in `+(y-g)+`ms
Total Duration: ${y-E}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b})))}}function KC(r,t){return new QC(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(){this.changes=new Ms(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Ye.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?$.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(t,n))).next(o=>(s!==null&&Al(s.mutation,o,Ln.empty(),Re.now()),o))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.getLocalViewOfDocuments(t,s,Vt()).next(()=>s))}getLocalViewOfDocuments(t,n,s=Vt()){const o=Ss();return this.populateOverlays(t,o,n).next(()=>this.computeViews(t,n,o,s).next(u=>{let f=ml();return u.forEach((p,g)=>{f=f.insert(p,g.overlayedDocument)}),f}))}getOverlayedDocuments(t,n){const s=Ss();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,Vt()))}populateOverlays(t,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(t,o).next(u=>{u.forEach((f,p)=>{n.set(f,p)})})}computeViews(t,n,s,o){let u=Hi();const f=Tl(),p=function(){return Tl()}();return n.forEach((g,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof Ps)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),Al(E.mutation,y,E.mutation.getFieldMask(),Re.now())):f.set(y.key,Ln.empty())}),this.recalculateAndSaveOverlays(t,u).next(g=>(g.forEach((y,E)=>f.set(y,E)),n.forEach((y,E)=>{var b;return p.set(y,new XC(E,(b=f.get(y))!==null&&b!==void 0?b:null))}),p))}recalculateAndSaveOverlays(t,n){const s=Tl();let o=new re((f,p)=>f-p),u=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(f=>{for(const p of f)p.keys().forEach(g=>{const y=n.get(g);if(y===null)return;let E=s.get(g)||Ln.empty();E=p.applyToLocalView(y,E),s.set(g,E);const b=(o.get(p.batchId)||Vt()).add(g);o=o.insert(p.batchId,b)})}).next(()=>{const f=[],p=o.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),y=g.key,E=g.value,b=WE();E.forEach(I=>{if(!u.has(I)){const q=sT(n.get(I),s.get(I));q!==null&&b.set(I,q),u=u.add(I)}}),f.push(this.documentOverlayCache.saveOverlays(t,y,b))}return $.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,n,s,o){return function(f){return dt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):YE(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-u.size):$.resolve(Ss());let p=Cl,g=u;return f.next(y=>$.forEach(y,(E,b)=>(p<b.largestBatchId&&(p=b.largestBatchId),u.get(E)?$.resolve():this.remoteDocumentCache.getEntry(t,E).next(I=>{g=g.insert(E,I)}))).next(()=>this.populateOverlays(t,y,u)).next(()=>this.computeViews(t,g,y,Vt())).next(E=>({batchId:p,changes:JE(E)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new dt(n)).next(s=>{let o=ml();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const u=n.collectionGroup;let f=ml();return this.indexManager.getCollectionParents(t,u).next(p=>$.forEach(p,g=>{const y=function(b,I){return new Wa(I,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(t,y,s,o).next(E=>{E.forEach((b,I)=>{f=f.insert(b,I)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(t,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,o))).next(f=>{u.forEach((g,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,Ye.newInvalidDocument(E)))});let p=ml();return f.forEach((g,y)=>{const E=u.get(g);E!==void 0&&Al(E.mutation,y,Ln.empty(),Re.now()),mh(n,y)&&(p=p.insert(g,y))}),p})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(t){this.serializer=t,this.kr=new Map,this.qr=new Map}getBundleMetadata(t,n){return $.resolve(this.kr.get(n))}saveBundleMetadata(t,n){return this.kr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:oi(o.createTime)}}(n)),$.resolve()}getNamedQuery(t,n){return $.resolve(this.qr.get(n))}saveNamedQuery(t,n){return this.qr.set(n.name,function(o){return{name:o.name,query:zC(o.bundledQuery),readTime:oi(o.readTime)}}(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(){this.overlays=new re(dt.comparator),this.Qr=new Map}getOverlay(t,n){return $.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Ss();return $.forEach(n,o=>this.getOverlay(t,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(t,n,s){return s.forEach((o,u)=>{this.bt(t,n,u)}),$.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.Qr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Qr.delete(s)),$.resolve()}getOverlaysForCollection(t,n,s){const o=Ss(),u=n.length+1,f=new dt(n.child("")),p=this.overlays.getIteratorFrom(f);for(;p.hasNext();){const g=p.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return $.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let u=new re((y,E)=>y-E);const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=Ss(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const p=Ss(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((y,E)=>p.set(y,E)),!(p.size()>=o)););return $.resolve(p)}bt(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Qr.get(o.largestBatchId).delete(s.key);this.Qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new yC(n,s));let u=this.Qr.get(n);u===void 0&&(u=Vt(),this.Qr.set(n,u)),this.Qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(){this.sessionToken=qe.EMPTY_BYTE_STRING}getSessionToken(t){return $.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(){this.$r=new we(Ve.Ur),this.Kr=new we(Ve.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(t,n){const s=new Ve(t,n);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(t,n){t.forEach(s=>this.addReference(s,n))}removeReference(t,n){this.zr(new Ve(t,n))}jr(t,n){t.forEach(s=>this.removeReference(s,n))}Hr(t){const n=new dt(new te([])),s=new Ve(n,t),o=new Ve(n,t+1),u=[];return this.Kr.forEachInRange([s,o],f=>{this.zr(f),u.push(f.key)}),u}Jr(){this.$r.forEach(t=>this.zr(t))}zr(t){this.$r=this.$r.delete(t),this.Kr=this.Kr.delete(t)}Yr(t){const n=new dt(new te([])),s=new Ve(n,t),o=new Ve(n,t+1);let u=Vt();return this.Kr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(t){const n=new Ve(t,0),s=this.$r.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Ve{constructor(t,n){this.key=t,this.Zr=n}static Ur(t,n){return dt.comparator(t.key,n.key)||It(t.Zr,n.Zr)}static Wr(t,n){return It(t.Zr,n.Zr)||dt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new we(Ve.Ur)}checkEmpty(t){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const u=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new gC(u,n,s,o);this.mutationQueue.push(f);for(const p of o)this.Xr=this.Xr.add(new Ve(p.key,u)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return $.resolve(f)}lookupMutationBatch(t,n){return $.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.ti(s),u=o<0?0:o;return $.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?xm:this.nr-1)}getAllMutationBatches(t){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Ve(n,0),o=new Ve(n,Number.POSITIVE_INFINITY),u=[];return this.Xr.forEachInRange([s,o],f=>{const p=this.ei(f.Zr);u.push(p)}),$.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new we(It);return n.forEach(o=>{const u=new Ve(o,0),f=new Ve(o,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([u,f],p=>{s=s.add(p.Zr)})}),$.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let u=s;dt.isDocumentKey(u)||(u=u.child(""));const f=new Ve(new dt(u),0);let p=new we(It);return this.Xr.forEachWhile(g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(p=p.add(g.Zr)),!0)},f),$.resolve(this.ni(p))}ni(t){const n=[];return t.forEach(s=>{const o=this.ei(s);o!==null&&n.push(o)}),n}removeMutationBatch(t,n){Ht(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return $.forEach(n.mutations,o=>{const u=new Ve(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.Xr=s})}sr(t){}containsKey(t,n){const s=new Ve(n,0),o=this.Xr.firstAfterOrEqual(s);return $.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,$.resolve()}ri(t,n){return this.ti(t)}ti(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}ei(t){const n=this.ti(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(t){this.ii=t,this.docs=function(){return new re(dt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ii(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return $.resolve(s?s.document.mutableCopy():Ye.newInvalidDocument(n))}getEntries(t,n){let s=Hi();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Ye.newInvalidDocument(o))}),$.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let u=Hi();const f=n.path,p=new dt(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:y,value:{document:E}}=g.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||DI(NI(E),s)<=0||(o.has(E.key)||mh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return $.resolve(u)}getAllFromCollectionGroup(t,n,s,o){_t(9500)}si(t,n){return $.forEach(this.docs,s=>n(s))}newChangeBuffer(t){return new n2(this)}getSize(t){return $.resolve(this.size)}}class n2 extends YC{constructor(t){super(),this.Br=t}applyChanges(t){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Br.addEntry(t,o)):this.Br.removeEntry(s)}),$.waitFor(n)}getFromCache(t,n){return this.Br.getEntry(t,n)}getAllFromCache(t,n){return this.Br.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(t){this.persistence=t,this.oi=new Ms(n=>Mm(n),Pm),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this._i=0,this.ai=new Bm,this.targetCount=0,this.ui=Ga.cr()}forEachTarget(t,n){return this.oi.forEach((s,o)=>n(o)),$.resolve()}getLastRemoteSnapshotVersion(t){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $.resolve(this._i)}allocateTargetId(t){return this.highestTargetId=this.ui.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this._i&&(this._i=n),$.resolve()}Tr(t){this.oi.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ui=new Ga(n),this.highestTargetId=n),t.sequenceNumber>this._i&&(this._i=t.sequenceNumber)}addTargetData(t,n){return this.Tr(n),this.targetCount+=1,$.resolve()}updateTargetData(t,n){return this.Tr(n),$.resolve()}removeTargetData(t,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(t,n,s){let o=0;const u=[];return this.oi.forEach((f,p)=>{p.sequenceNumber<=n&&s.get(p.targetId)===null&&(this.oi.delete(f),u.push(this.removeMatchingKeysForTargetId(t,p.targetId)),o++)}),$.waitFor(u).next(()=>o)}getTargetCount(t){return $.resolve(this.targetCount)}getTargetData(t,n){const s=this.oi.get(n)||null;return $.resolve(s)}addMatchingKeys(t,n,s){return this.ai.Gr(n,s),$.resolve()}removeMatchingKeys(t,n,s){this.ai.jr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(t,f))}),$.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this.ai.Hr(n),$.resolve()}getMatchingKeysForTargetId(t,n){const s=this.ai.Yr(n);return $.resolve(s)}containsKey(t,n){return $.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(t,n){this.ci={},this.overlays={},this.li=new ch(0),this.hi=!1,this.hi=!0,this.Pi=new WC,this.referenceDelegate=t(this),this.Ti=new i2(this),this.indexManager=new BC,this.remoteDocumentCache=function(o){return new e2(o)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new jC(n),this.Ei=new ZC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new JC,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ci[t.toKey()];return s||(s=new t2(n,this.referenceDelegate),this.ci[t.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(t,n,s){at("MemoryPersistence","Starting transaction:",t);const o=new r2(this.li.next());return this.referenceDelegate.di(),s(o).next(u=>this.referenceDelegate.Ai(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ri(t,n){return $.or(Object.values(this.ci).map(s=>()=>s.containsKey(t,n)))}}class r2 extends OI{constructor(t){super(),this.currentSequenceNumber=t}}class qm{constructor(t){this.persistence=t,this.Vi=new Bm,this.mi=null}static fi(t){return new qm(t)}get gi(){if(this.mi)return this.mi;throw _t(60996)}addReference(t,n,s){return this.Vi.addReference(s,n),this.gi.delete(s.toString()),$.resolve()}removeReference(t,n,s){return this.Vi.removeReference(s,n),this.gi.add(s.toString()),$.resolve()}markPotentiallyOrphaned(t,n){return this.gi.add(n.toString()),$.resolve()}removeTarget(t,n){this.Vi.Hr(n.targetId).forEach(o=>this.gi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next(o=>{o.forEach(u=>this.gi.add(u.toString()))}).next(()=>s.removeTargetData(t,n))}di(){this.mi=new Set}Ai(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.gi,s=>{const o=dt.fromPath(s);return this.pi(t,o).next(u=>{u||n.removeEntry(o,St.min())})}).next(()=>(this.mi=null,n.apply(t)))}updateLimboDocument(t,n){return this.pi(t,n).next(s=>{s?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(t){return 0}pi(t,n){return $.or([()=>$.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ri(t,n)])}}class $c{constructor(t,n){this.persistence=t,this.yi=new Ms(s=>PI(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=KC(this,n)}static fi(t,n){return new $c(t,n)}di(){}Ai(t){return $.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}pr(t){const n=this.Sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>n.next(o=>s+o))}Sr(t){let n=0;return this.yr(t,s=>{n++}).next(()=>n)}yr(t,n){return $.forEach(this.yi,(s,o)=>this.Dr(t,s,o).next(u=>u?$.resolve():n(o)))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.si(t,f=>this.Dr(t,f,n).next(p=>{p||(s++,u.removeEntry(f,St.min()))})).next(()=>u.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,n){return this.yi.set(n,t.currentSequenceNumber),$.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.yi.set(s,t.currentSequenceNumber),$.resolve()}removeReference(t,n,s){return this.yi.set(s,t.currentSequenceNumber),$.resolve()}updateLimboDocument(t,n){return this.yi.set(n,t.currentSequenceNumber),$.resolve()}Ii(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Dc(t.data.value)),n}Dr(t,n,s){return $.or([()=>this.persistence.Ri(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.yi.get(n);return $.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.ds=s,this.As=o}static Rs(t,n){let s=Vt(),o=Vt();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Hm(t,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return tb()?8:VI(Xe())>0?6:4}()}initialize(t,n){this.ys=t,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(t,n,s,o){const u={result:null};return this.ws(t,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.Ss(t,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new s2;return this.bs(t,n,f).next(p=>{if(u.result=p,this.fs)return this.Ds(t,n,f,p.size)})}).next(()=>u.result)}Ds(t,n,s,o){return s.documentReadCount<this.gs?(Da()<=Ot.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",xa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),$.resolve()):(Da()<=Ot.DEBUG&&at("QueryEngine","Query:",xa(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ps*o?(Da()<=Ot.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",xa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ai(n))):$.resolve())}ws(t,n){if(Pv(n))return $.resolve(null);let s=ai(n);return this.indexManager.getIndexType(t,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Kc(n,null,"F"),s=ai(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next(u=>{const f=Vt(...u);return this.ys.getDocuments(t,f).next(p=>this.indexManager.getMinOffset(t,s).next(g=>{const y=this.vs(n,p);return this.Cs(n,y,f,g.readTime)?this.ws(t,Kc(n,null,"F")):this.Fs(t,y,n,g)}))})))}Ss(t,n,s,o){return Pv(n)||o.isEqual(St.min())?$.resolve(null):this.ys.getDocuments(t,s).next(u=>{const f=this.vs(n,u);return this.Cs(n,f,s,o)?$.resolve(null):(Da()<=Ot.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),xa(n)),this.Fs(t,f,n,CI(o,Cl)).next(p=>p))})}vs(t,n){let s=new we($E(t));return n.forEach((o,u)=>{mh(t,u)&&(s=s.add(u))}),s}Cs(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}bs(t,n,s){return Da()<=Ot.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",xa(n)),this.ys.getDocumentsMatchingQuery(t,n,xr.min(),s)}Fs(t,n,s,o){return this.ys.getDocumentsMatchingQuery(t,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gm="LocalStore",o2=3e8;class l2{constructor(t,n,s,o){this.persistence=t,this.Ms=n,this.serializer=o,this.xs=new re(It),this.Os=new Ms(u=>Mm(u),Pm),this.Ns=new Map,this.Bs=t.getRemoteDocumentCache(),this.Ti=t.getTargetCache(),this.Ei=t.getBundleCache(),this.Ls(s)}Ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new $C(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.xs))}}function u2(r,t,n,s){return new l2(r,t,n,s)}async function ET(r,t){const n=bt(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.Ls(t),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],p=[];let g=Vt();for(const y of o){f.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}for(const y of u){p.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(s,g).next(y=>({ks:y,removedBatchIds:f,addedBatchIds:p}))})})}function c2(r,t){const n=bt(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=t.batch.keys(),u=n.Bs.newChangeBuffer({trackRemovals:!0});return function(p,g,y,E){const b=y.batch,I=b.keys();let q=$.resolve();return I.forEach(K=>{q=q.next(()=>E.getEntry(g,K)).next(W=>{const H=y.docVersions.get(K);Ht(H!==null,48541),W.version.compareTo(H)<0&&(b.applyToRemoteDocument(W,y),W.isValidDocument()&&(W.setReadTime(y.commitVersion),E.addEntry(W)))})}),q.next(()=>p.mutationQueue.removeMutationBatch(g,b))}(n,s,t,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(p){let g=Vt();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(g=g.add(p.batch.mutations[y].key));return g}(t))).next(()=>n.localDocuments.getDocuments(s,o))})}function TT(r){const t=bt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Ti.getLastRemoteSnapshotVersion(n))}function h2(r,t){const n=bt(r),s=t.snapshotVersion;let o=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.Bs.newChangeBuffer({trackRemovals:!0});o=n.xs;const p=[];t.targetChanges.forEach((E,b)=>{const I=o.get(b);if(!I)return;p.push(n.Ti.removeMatchingKeys(u,E.removedDocuments,b).next(()=>n.Ti.addMatchingKeys(u,E.addedDocuments,b)));let q=I.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(b)!==null?q=q.withResumeToken(qe.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):E.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(E.resumeToken,s)),o=o.insert(b,q),function(W,H,ct){return W.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=o2?!0:ct.addedDocuments.size+ct.modifiedDocuments.size+ct.removedDocuments.size>0}(I,q,E)&&p.push(n.Ti.updateTargetData(u,q))});let g=Hi(),y=Vt();if(t.documentUpdates.forEach(E=>{t.resolvedLimboDocuments.has(E)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),p.push(f2(u,f,t.documentUpdates).next(E=>{g=E.qs,y=E.Qs})),!s.isEqual(St.min())){const E=n.Ti.getLastRemoteSnapshotVersion(u).next(b=>n.Ti.setTargetsMetadata(u,u.currentSequenceNumber,s));p.push(E)}return $.waitFor(p).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,g,y)).next(()=>g)}).then(u=>(n.xs=o,u))}function f2(r,t,n){let s=Vt(),o=Vt();return n.forEach(u=>s=s.add(u)),t.getEntries(r,s).next(u=>{let f=Hi();return n.forEach((p,g)=>{const y=u.get(p);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(p)),g.isNoDocument()&&g.version.isEqual(St.min())?(t.removeEntry(p,g.readTime),f=f.insert(p,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(g),f=f.insert(p,g)):at(Gm,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",g.version)}),{qs:f,Qs:o}})}function d2(r,t){const n=bt(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=xm),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function m2(r,t){const n=bt(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Ti.getTargetData(s,t).next(u=>u?(o=u,$.resolve(o)):n.Ti.allocateTargetId(s).next(f=>(o=new Rr(t,f,"TargetPurposeListen",s.currentSequenceNumber),n.Ti.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.xs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.xs=n.xs.insert(s.targetId,s),n.Os.set(t,s.targetId)),s})}async function um(r,t,n){const s=bt(r),o=s.xs.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!Ja(f))throw f;at(Gm,`Failed to update sequence numbers for target ${t}: ${f}`)}s.xs=s.xs.remove(t),s.Os.delete(o.target)}function Yv(r,t,n){const s=bt(r);let o=St.min(),u=Vt();return s.persistence.runTransaction("Execute query","readwrite",f=>function(g,y,E){const b=bt(g),I=b.Os.get(E);return I!==void 0?$.resolve(b.xs.get(I)):b.Ti.getTargetData(y,E)}(s,f,ai(t)).next(p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(f,p.targetId).next(g=>{u=g})}).next(()=>s.Ms.getDocumentsMatchingQuery(f,t,n?o:St.min(),n?u:Vt())).next(p=>(p2(s,tC(t),p),{documents:p,$s:u})))}function p2(r,t,n){let s=r.Ns.get(t)||St.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Ns.set(t,s)}class Xv{constructor(){this.activeTargetIds=aC()}js(t){this.activeTargetIds=this.activeTargetIds.add(t)}Hs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}zs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class g2{constructor(){this.xo=new Xv,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.xo.js(t),this.Oo[t]||"not-current"}updateQueryState(t,n,s){this.Oo[t]=n}removeLocalQueryTarget(t){this.xo.Hs(t)}isLocalQueryTarget(t){return this.xo.activeTargetIds.has(t)}clearQueryState(t){delete this.Oo[t]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(t){return this.xo.activeTargetIds.has(t)}start(){return this.xo=new Xv,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{No(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v="ConnectivityMonitor";class Zv{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(t){this.Qo.push(t)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){at($v,"Network connectivity changed: AVAILABLE");for(const t of this.Qo)t(0)}qo(){at($v,"Network connectivity changed: UNAVAILABLE");for(const t of this.Qo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bc=null;function cm(){return bc===null?bc=function(){return 268435456+Math.round(2147483648*Math.random())}():bc++,"0x"+bc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jd="RestConnection",_2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class v2{get Uo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+t.host,this.Wo=`projects/${s}/databases/${o}`,this.Go=this.databaseId.database===Gc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}zo(t,n,s,o,u){const f=cm(),p=this.jo(t,n.toUriEncodedString());at(jd,`Sending RPC '${t}' ${f}:`,p,s);const g={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(g,o,u);const{host:y}=new URL(p),E=Ll(y);return this.Jo(t,p,g,s,E).then(b=>(at(jd,`Received RPC '${t}' ${f}: `,b),b),b=>{throw za(jd,`RPC '${t}' ${f} failed with error: `,b,"url: ",p,"request:",s),b})}Yo(t,n,s,o,u,f){return this.zo(t,n,s,o,u)}Ho(t,n,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+$a}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>t[u]=o),s&&s.headers.forEach((o,u)=>t[u]=o)}jo(t,n){const s=_2[t];return`${this.Ko}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(t){this.Zo=t.Zo,this.Xo=t.Xo}e_(t){this.t_=t}n_(t){this.r_=t}i_(t){this.s_=t}onMessage(t){this.o_=t}close(){this.Xo()}send(t){this.Zo(t)}__(){this.t_()}a_(){this.r_()}u_(t){this.s_(t)}c_(t){this.o_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qe="WebChannelConnection";class T2 extends v2{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,o,u){const f=cm();return new Promise((p,g)=>{const y=new SE;y.setWithCredentials(!0),y.listenOnce(bE.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case Nc.NO_ERROR:const b=y.getResponseJson();at(Qe,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(b)),p(b);break;case Nc.TIMEOUT:at(Qe,`RPC '${t}' ${f} timed out`),g(new ut(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Nc.HTTP_ERROR:const I=y.getStatus();if(at(Qe,`RPC '${t}' ${f} failed with status:`,I,"response text:",y.getResponseText()),I>0){let q=y.getResponseJson();Array.isArray(q)&&(q=q[0]);const K=q==null?void 0:q.error;if(K&&K.status&&K.message){const W=function(ct){const et=ct.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(et)>=0?et:Z.UNKNOWN}(K.status);g(new ut(W,K.message))}else g(new ut(Z.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new ut(Z.UNAVAILABLE,"Connection failed."));break;default:_t(9055,{l_:t,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{at(Qe,`RPC '${t}' ${f} completed.`)}});const E=JSON.stringify(o);at(Qe,`RPC '${t}' ${f} sending request:`,o),y.send(n,"POST",E,s,15)})}T_(t,n,s){const o=cm(),u=[this.Ko,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=IE(),p=wE(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Ho(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const E=u.join("");at(Qe,`Creating RPC '${t}' stream ${o}: ${E}`,g);const b=f.createWebChannel(E,g);let I=!1,q=!1;const K=new E2({Zo:H=>{q?at(Qe,`Not sending because RPC '${t}' stream ${o} is closed:`,H):(I||(at(Qe,`Opening RPC '${t}' stream ${o} transport.`),b.open(),I=!0),at(Qe,`RPC '${t}' stream ${o} sending:`,H),b.send(H))},Xo:()=>b.close()}),W=(H,ct,et)=>{H.listen(ct,ot=>{try{et(ot)}catch(At){setTimeout(()=>{throw At},0)}})};return W(b,dl.EventType.OPEN,()=>{q||(at(Qe,`RPC '${t}' stream ${o} transport opened.`),K.__())}),W(b,dl.EventType.CLOSE,()=>{q||(q=!0,at(Qe,`RPC '${t}' stream ${o} transport closed`),K.u_())}),W(b,dl.EventType.ERROR,H=>{q||(q=!0,za(Qe,`RPC '${t}' stream ${o} transport errored. Name:`,H.name,"Message:",H.message),K.u_(new ut(Z.UNAVAILABLE,"The operation could not be completed")))}),W(b,dl.EventType.MESSAGE,H=>{var ct;if(!q){const et=H.data[0];Ht(!!et,16349);const ot=et,At=(ot==null?void 0:ot.error)||((ct=ot[0])===null||ct===void 0?void 0:ct.error);if(At){at(Qe,`RPC '${t}' stream ${o} received error:`,At);const pt=At.status;let Mt=function(C){const O=ye[C];if(O!==void 0)return lT(O)}(pt),V=At.message;Mt===void 0&&(Mt=Z.INTERNAL,V="Unknown error status: "+pt+" with message "+At.message),q=!0,K.u_(new ut(Mt,V)),b.close()}else at(Qe,`RPC '${t}' stream ${o} received:`,et),K.c_(et)}}),W(p,RE.STAT_EVENT,H=>{H.stat===Jd.PROXY?at(Qe,`RPC '${t}' stream ${o} detected buffering proxy`):H.stat===Jd.NOPROXY&&at(Qe,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{K.a_()},0),K}}function zd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _h(r){return new RC(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(t,n,s=1e3,o=1.5,u=6e4){this.xi=t,this.timerId=n,this.I_=s,this.E_=o,this.d_=u,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(t){this.cancel();const n=Math.floor(this.A_+this.g_()),s=Math.max(0,Date.now()-this.V_),o=Math.max(0,n-s);o>0&&at("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.A_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,o,()=>(this.V_=Date.now(),t())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv="PersistentStream";class ST{constructor(t,n,s,o,u,f,p,g){this.xi=t,this.y_=s,this.w_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new AT(t,n)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(t){this.k_(),this.stream.send(t)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(t,n){this.k_(),this.q_(),this.C_.cancel(),this.S_++,t!==4?this.C_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(qi(n.toString()),qi("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.i_(n)}Q_(){}auth(){this.state=1;const t=this.U_(this.S_),n=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.S_===n&&this.K_(s,o)},s=>{t(()=>{const o=new ut(Z.UNKNOWN,"Fetching auth token failed: "+s.message);return this.W_(o)})})}K_(t,n){const s=this.U_(this.S_);this.stream=this.G_(t,n),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(o=>{s(()=>this.W_(o))}),this.stream.onMessage(o=>{s(()=>++this.v_==1?this.z_(o):this.onNext(o))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(t){return at(Jv,`close with error: ${t}`),this.stream=null,this.close(4,t)}U_(t){return n=>{this.xi.enqueueAndForget(()=>this.S_===t?n():(at(Jv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class A2 extends ST{constructor(t,n,s,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}G_(t,n){return this.connection.T_("Listen",t,n)}z_(t){return this.onNext(t)}onNext(t){this.C_.reset();const n=CC(this.serializer,t),s=function(u){if(!("targetChange"in u))return St.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?St.min():f.readTime?oi(f.readTime):St.min()}(t);return this.listener.j_(n,s)}H_(t){const n={};n.database=lm(this.serializer),n.addTarget=function(u,f){let p;const g=f.target;if(p=im(g)?{documents:xC(u,g)}:{query:OC(u,g).gt},p.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){p.resumeToken=hT(u,f.resumeToken);const y=sm(u,f.expectedCount);y!==null&&(p.expectedCount=y)}else if(f.snapshotVersion.compareTo(St.min())>0){p.readTime=Xc(u,f.snapshotVersion.toTimestamp());const y=sm(u,f.expectedCount);y!==null&&(p.expectedCount=y)}return p}(this.serializer,t);const s=MC(this.serializer,t);s&&(n.labels=s),this.L_(n)}J_(t){const n={};n.database=lm(this.serializer),n.removeTarget=t,this.L_(n)}}class S2 extends ST{constructor(t,n,s,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(t,n){return this.connection.T_("Write",t,n)}z_(t){return Ht(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ht(!t.writeResults||t.writeResults.length===0,55816),this.listener.X_()}onNext(t){Ht(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.C_.reset();const n=DC(t.writeResults,t.commitTime),s=oi(t.commitTime);return this.listener.ea(s,n)}ta(){const t={};t.database=lm(this.serializer),this.L_(t)}Z_(t){const n={streamToken:this.lastStreamToken,writes:t.map(s=>NC(this.serializer,s))};this.L_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{}class R2 extends b2{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.na=!1}ra(){if(this.na)throw new ut(Z.FAILED_PRECONDITION,"The client has already been terminated.")}zo(t,n,s,o){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.zo(t,am(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ut(Z.UNKNOWN,u.toString())})}Yo(t,n,s,o,u){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,p])=>this.connection.Yo(t,am(n,s),o,f,p,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ut(Z.UNKNOWN,f.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class w2{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(t){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.aa("Offline")))}set(t){this.la(),this.ia=0,t==="Online"&&(this.oa=!1),this.aa(t)}aa(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ua(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(qi(n),this.oa=!1):at("OnlineStateTracker",n)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs="RemoteStore";class I2{constructor(t,n,s,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=u,this.Ea.No(f=>{s.enqueueAndForget(async()=>{Us(this)&&(at(xs,"Restarting streams for network reachability change."),await async function(g){const y=bt(g);y.Ta.add(4),await Ql(y),y.da.set("Unknown"),y.Ta.delete(4),await vh(y)}(this))})}),this.da=new w2(s,o)}}async function vh(r){if(Us(r))for(const t of r.Ia)await t(!0)}async function Ql(r){for(const t of r.Ia)await t(!1)}function bT(r,t){const n=bt(r);n.Pa.has(t.targetId)||(n.Pa.set(t.targetId,t),Ym(n)?Km(n):to(n).M_()&&Qm(n,t))}function Fm(r,t){const n=bt(r),s=to(n);n.Pa.delete(t),s.M_()&&RT(n,t),n.Pa.size===0&&(s.M_()?s.N_():Us(n)&&n.da.set("Unknown"))}function Qm(r,t){if(r.Aa.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(St.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}to(r).H_(t)}function RT(r,t){r.Aa.Ke(t),to(r).J_(t)}function Km(r){r.Aa=new TC({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>r.Pa.get(t)||null,Pt:()=>r.datastore.serializer.databaseId}),to(r).start(),r.da._a()}function Ym(r){return Us(r)&&!to(r).F_()&&r.Pa.size>0}function Us(r){return bt(r).Ta.size===0}function wT(r){r.Aa=void 0}async function C2(r){r.da.set("Online")}async function N2(r){r.Pa.forEach((t,n)=>{Qm(r,t)})}async function D2(r,t){wT(r),Ym(r)?(r.da.ca(t),Km(r)):r.da.set("Unknown")}async function x2(r,t,n){if(r.da.set("Online"),t instanceof cT&&t.state===2&&t.cause)try{await async function(o,u){const f=u.cause;for(const p of u.targetIds)o.Pa.has(p)&&(await o.remoteSyncer.rejectListen(p,f),o.Pa.delete(p),o.Aa.removeTarget(p))}(r,t)}catch(s){at(xs,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Zc(r,s)}else if(t instanceof Vc?r.Aa.Xe(t):t instanceof uT?r.Aa.ot(t):r.Aa.nt(t),!n.isEqual(St.min()))try{const s=await TT(r.localStore);n.compareTo(s)>=0&&await function(u,f){const p=u.Aa.It(f);return p.targetChanges.forEach((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.Pa.get(y);E&&u.Pa.set(y,E.withResumeToken(g.resumeToken,f))}}),p.targetMismatches.forEach((g,y)=>{const E=u.Pa.get(g);if(!E)return;u.Pa.set(g,E.withResumeToken(qe.EMPTY_BYTE_STRING,E.snapshotVersion)),RT(u,g);const b=new Rr(E.target,g,y,E.sequenceNumber);Qm(u,b)}),u.remoteSyncer.applyRemoteEvent(p)}(r,n)}catch(s){at(xs,"Failed to raise snapshot:",s),await Zc(r,s)}}async function Zc(r,t,n){if(!Ja(t))throw t;r.Ta.add(1),await Ql(r),r.da.set("Offline"),n||(n=()=>TT(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{at(xs,"Retrying IndexedDB access"),await n(),r.Ta.delete(1),await vh(r)})}function IT(r,t){return t().catch(n=>Zc(r,n,t))}async function Eh(r){const t=bt(r),n=Pr(t);let s=t.ha.length>0?t.ha[t.ha.length-1].batchId:xm;for(;O2(t);)try{const o=await d2(t.localStore,s);if(o===null){t.ha.length===0&&n.N_();break}s=o.batchId,V2(t,o)}catch(o){await Zc(t,o)}CT(t)&&NT(t)}function O2(r){return Us(r)&&r.ha.length<10}function V2(r,t){r.ha.push(t);const n=Pr(r);n.M_()&&n.Y_&&n.Z_(t.mutations)}function CT(r){return Us(r)&&!Pr(r).F_()&&r.ha.length>0}function NT(r){Pr(r).start()}async function M2(r){Pr(r).ta()}async function P2(r){const t=Pr(r);for(const n of r.ha)t.Z_(n.mutations)}async function U2(r,t,n){const s=r.ha.shift(),o=Lm.from(s,t,n);await IT(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Eh(r)}async function k2(r,t){t&&Pr(r).Y_&&await async function(s,o){if(function(f){return vC(f)&&f!==Z.ABORTED}(o.code)){const u=s.ha.shift();Pr(s).O_(),await IT(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Eh(s)}}(r,t),CT(r)&&NT(r)}async function Wv(r,t){const n=bt(r);n.asyncQueue.verifyOperationInProgress(),at(xs,"RemoteStore received new credentials");const s=Us(n);n.Ta.add(3),await Ql(n),s&&n.da.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ta.delete(3),await vh(n)}async function L2(r,t){const n=bt(r);t?(n.Ta.delete(2),await vh(n)):t||(n.Ta.add(2),await Ql(n),n.da.set("Unknown"))}function to(r){return r.Ra||(r.Ra=function(n,s,o){const u=bt(n);return u.ra(),new A2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{e_:C2.bind(null,r),n_:N2.bind(null,r),i_:D2.bind(null,r),j_:x2.bind(null,r)}),r.Ia.push(async t=>{t?(r.Ra.O_(),Ym(r)?Km(r):r.da.set("Unknown")):(await r.Ra.stop(),wT(r))})),r.Ra}function Pr(r){return r.Va||(r.Va=function(n,s,o){const u=bt(n);return u.ra(),new S2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{e_:()=>Promise.resolve(),n_:M2.bind(null,r),i_:k2.bind(null,r),X_:P2.bind(null,r),ea:U2.bind(null,r)}),r.Ia.push(async t=>{t?(r.Va.O_(),await Eh(r)):(await r.Va.stop(),r.ha.length>0&&(at(xs,`Stopping write stream with ${r.ha.length} pending writes`),r.ha=[]))})),r.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(t,n,s,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new ws,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,u){const f=Date.now()+s,p=new Xm(t,n,f,o,u);return p.start(s),p}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut(Z.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $m(r,t){if(qi("AsyncQueue",`${t}: ${r}`),Ja(r))return new ut(Z.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{static emptySet(t){return new ka(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||dt.comparator(n.key,s.key):(n,s)=>dt.comparator(n.key,s.key),this.keyedMap=ml(),this.sortedSet=new re(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,s)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof ka)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new ka;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(){this.ma=new re(dt.comparator)}track(t){const n=t.doc.key,s=this.ma.get(n);s?t.type!==0&&s.type===3?this.ma=this.ma.insert(n,t):t.type===3&&s.type!==1?this.ma=this.ma.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ma=this.ma.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ma=this.ma.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ma=this.ma.remove(n):t.type===1&&s.type===2?this.ma=this.ma.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ma=this.ma.insert(n,{type:2,doc:t.doc}):_t(63341,{Vt:t,fa:s}):this.ma=this.ma.insert(n,t)}ga(){const t=[];return this.ma.inorderTraversal((n,s)=>{t.push(s)}),t}}class Fa{constructor(t,n,s,o,u,f,p,g,y){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(t,n,s,o,u){const f=[];return n.forEach(p=>{f.push({type:0,doc:p})}),new Fa(t,n,ka.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&dh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(t=>t.Sa())}}class z2{constructor(){this.queries=e0(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(n,s){const o=bt(n),u=o.queries;o.queries=e0(),u.forEach((f,p)=>{for(const g of p.ya)g.onError(s)})})(this,new ut(Z.ABORTED,"Firestore shutting down"))}}function e0(){return new Ms(r=>XE(r),dh)}async function B2(r,t){const n=bt(r);let s=3;const o=t.query;let u=n.queries.get(o);u?!u.wa()&&t.Sa()&&(s=2):(u=new j2,s=t.Sa()?0:1);try{switch(s){case 0:u.pa=await n.onListen(o,!0);break;case 1:u.pa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const p=$m(f,`Initialization of query '${xa(t.query)}' failed`);return void t.onError(p)}n.queries.set(o,u),u.ya.push(t),t.Da(n.onlineState),u.pa&&t.va(u.pa)&&Zm(n)}async function q2(r,t){const n=bt(r),s=t.query;let o=3;const u=n.queries.get(s);if(u){const f=u.ya.indexOf(t);f>=0&&(u.ya.splice(f,1),u.ya.length===0?o=t.Sa()?0:1:!u.wa()&&t.Sa()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function H2(r,t){const n=bt(r);let s=!1;for(const o of t){const u=o.query,f=n.queries.get(u);if(f){for(const p of f.ya)p.va(o)&&(s=!0);f.pa=o}}s&&Zm(n)}function G2(r,t,n){const s=bt(r),o=s.queries.get(t);if(o)for(const u of o.ya)u.onError(n);s.queries.delete(t)}function Zm(r){r.ba.forEach(t=>{t.next()})}var hm,n0;(n0=hm||(hm={})).Ca="default",n0.Cache="cache";class F2{constructor(t,n,s){this.query=t,this.Fa=n,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=s||{}}va(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new Fa(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Ma?this.Oa(t)&&(this.Fa.next(t),n=!0):this.Na(t,this.onlineState)&&(this.Ba(t),n=!0),this.xa=t,n}onError(t){this.Fa.error(t)}Da(t){this.onlineState=t;let n=!1;return this.xa&&!this.Ma&&this.Na(this.xa,t)&&(this.Ba(this.xa),n=!0),n}Na(t,n){if(!t.fromCache||!this.Sa())return!0;const s=n!=="Offline";return(!this.options.La||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Oa(t){if(t.docChanges.length>0)return!0;const n=this.xa&&this.xa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ba(t){t=Fa.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Ma=!0,this.Fa.next(t)}Sa(){return this.options.source!==hm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(t){this.key=t}}class xT{constructor(t){this.key=t}}class Q2{constructor(t,n){this.query=t,this.Ga=n,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=Vt(),this.mutatedKeys=Vt(),this.Ha=$E(t),this.Ja=new ka(this.Ha)}get Ya(){return this.Ga}Za(t,n){const s=n?n.Xa:new t0,o=n?n.Ja:this.Ja;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,p=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((E,b)=>{const I=o.get(E),q=mh(this.query,b)?b:null,K=!!I&&this.mutatedKeys.has(I.key),W=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let H=!1;I&&q?I.data.isEqual(q.data)?K!==W&&(s.track({type:3,doc:q}),H=!0):this.eu(I,q)||(s.track({type:2,doc:q}),H=!0,(g&&this.Ha(q,g)>0||y&&this.Ha(q,y)<0)&&(p=!0)):!I&&q?(s.track({type:0,doc:q}),H=!0):I&&!q&&(s.track({type:1,doc:I}),H=!0,(g||y)&&(p=!0)),H&&(q?(f=f.add(q),u=W?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{Ja:f,Xa:s,Cs:p,mutatedKeys:u}}eu(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const u=this.Ja;this.Ja=t.Ja,this.mutatedKeys=t.mutatedKeys;const f=t.Xa.ga();f.sort((E,b)=>function(q,K){const W=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t(20277,{Vt:H})}};return W(q)-W(K)}(E.type,b.type)||this.Ha(E.doc,b.doc)),this.tu(s),o=o!=null&&o;const p=n&&!o?this.nu():[],g=this.ja.size===0&&this.current&&!o?1:0,y=g!==this.za;return this.za=g,f.length!==0||y?{snapshot:new Fa(this.query,t.Ja,u,f,t.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),ru:p}:{ru:p}}Da(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new t0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(t){return!this.Ga.has(t)&&!!this.Ja.has(t)&&!this.Ja.get(t).hasLocalMutations}tu(t){t&&(t.addedDocuments.forEach(n=>this.Ga=this.Ga.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ga=this.Ga.delete(n)),this.current=t.current)}nu(){if(!this.current)return[];const t=this.ja;this.ja=Vt(),this.Ja.forEach(s=>{this.iu(s.key)&&(this.ja=this.ja.add(s.key))});const n=[];return t.forEach(s=>{this.ja.has(s)||n.push(new xT(s))}),this.ja.forEach(s=>{t.has(s)||n.push(new DT(s))}),n}su(t){this.Ga=t.$s,this.ja=Vt();const n=this.Za(t.documents);return this.applyChanges(n,!0)}ou(){return Fa.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const Jm="SyncEngine";class K2{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class Y2{constructor(t){this.key=t,this._u=!1}}class X2{constructor(t,n,s,o,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.au={},this.uu=new Ms(p=>XE(p),dh),this.cu=new Map,this.lu=new Set,this.hu=new re(dt.comparator),this.Pu=new Map,this.Tu=new Bm,this.Iu={},this.Eu=new Map,this.du=Ga.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function $2(r,t,n=!0){const s=kT(r);let o;const u=s.uu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.ou()):o=await OT(s,t,n,!0),o}async function Z2(r,t){const n=kT(r);await OT(n,t,!0,!1)}async function OT(r,t,n,s){const o=await m2(r.localStore,ai(t)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let p;return s&&(p=await J2(r,t,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&bT(r.remoteStore,o),p}async function J2(r,t,n,s,o){r.Ru=(b,I,q)=>async function(W,H,ct,et){let ot=H.view.Za(ct);ot.Cs&&(ot=await Yv(W.localStore,H.query,!1).then(({documents:V})=>H.view.Za(V,ot)));const At=et&&et.targetChanges.get(H.targetId),pt=et&&et.targetMismatches.get(H.targetId)!=null,Mt=H.view.applyChanges(ot,W.isPrimaryClient,At,pt);return r0(W,H.targetId,Mt.ru),Mt.snapshot}(r,b,I,q);const u=await Yv(r.localStore,t,!0),f=new Q2(t,u.$s),p=f.Za(u.documents),g=Fl.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=f.applyChanges(p,r.isPrimaryClient,g);r0(r,n,y.ru);const E=new K2(t,n,f);return r.uu.set(t,E),r.cu.has(n)?r.cu.get(n).push(t):r.cu.set(n,[t]),y.snapshot}async function W2(r,t,n){const s=bt(r),o=s.uu.get(t),u=s.cu.get(o.targetId);if(u.length>1)return s.cu.set(o.targetId,u.filter(f=>!dh(f,t))),void s.uu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await um(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Fm(s.remoteStore,o.targetId),fm(s,o.targetId)}).catch(Za)):(fm(s,o.targetId),await um(s.localStore,o.targetId,!0))}async function tN(r,t){const n=bt(r),s=n.uu.get(t),o=n.cu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Fm(n.remoteStore,s.targetId))}async function eN(r,t,n){const s=lN(r);try{const o=await function(f,p){const g=bt(f),y=Re.now(),E=p.reduce((q,K)=>q.add(K.key),Vt());let b,I;return g.persistence.runTransaction("Locally write mutations","readwrite",q=>{let K=Hi(),W=Vt();return g.Bs.getEntries(q,E).next(H=>{K=H,K.forEach((ct,et)=>{et.isValidDocument()||(W=W.add(ct))})}).next(()=>g.localDocuments.getOverlayedDocuments(q,K)).next(H=>{b=H;const ct=[];for(const et of p){const ot=mC(et,b.get(et.key).overlayedDocument);ot!=null&&ct.push(new Ps(et.key,ot,BE(ot.value.mapValue),ji.exists(!0)))}return g.mutationQueue.addMutationBatch(q,y,ct,p)}).next(H=>{I=H;const ct=H.applyToLocalDocumentSet(b,W);return g.documentOverlayCache.saveOverlays(q,H.batchId,ct)})}).then(()=>({batchId:I.batchId,changes:JE(b)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),function(f,p,g){let y=f.Iu[f.currentUser.toKey()];y||(y=new re(It)),y=y.insert(p,g),f.Iu[f.currentUser.toKey()]=y}(s,o.batchId,n),await Kl(s,o.changes),await Eh(s.remoteStore)}catch(o){const u=$m(o,"Failed to persist write");n.reject(u)}}async function VT(r,t){const n=bt(r);try{const s=await h2(n.localStore,t);t.targetChanges.forEach((o,u)=>{const f=n.Pu.get(u);f&&(Ht(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f._u=!0:o.modifiedDocuments.size>0?Ht(f._u,14607):o.removedDocuments.size>0&&(Ht(f._u,42227),f._u=!1))}),await Kl(n,s,t)}catch(s){await Za(s)}}function i0(r,t,n){const s=bt(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.uu.forEach((u,f)=>{const p=f.view.Da(t);p.snapshot&&o.push(p.snapshot)}),function(f,p){const g=bt(f);g.onlineState=p;let y=!1;g.queries.forEach((E,b)=>{for(const I of b.ya)I.Da(p)&&(y=!0)}),y&&Zm(g)}(s.eventManager,t),o.length&&s.au.j_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function nN(r,t,n){const s=bt(r);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Pu.get(t),u=o&&o.key;if(u){let f=new re(dt.comparator);f=f.insert(u,Ye.newNoDocument(u,St.min()));const p=Vt().add(u),g=new yh(St.min(),new Map,new re(It),f,p);await VT(s,g),s.hu=s.hu.remove(u),s.Pu.delete(t),Wm(s)}else await um(s.localStore,t,!1).then(()=>fm(s,t,n)).catch(Za)}async function iN(r,t){const n=bt(r),s=t.batch.batchId;try{const o=await c2(n.localStore,t);PT(n,s,null),MT(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Kl(n,o)}catch(o){await Za(o)}}async function rN(r,t,n){const s=bt(r);try{const o=await function(f,p){const g=bt(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return g.mutationQueue.lookupMutationBatch(y,p).next(b=>(Ht(b!==null,37113),E=b.keys(),g.mutationQueue.removeMutationBatch(y,b))).next(()=>g.mutationQueue.performConsistencyCheck(y)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(y,E,p)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E)).next(()=>g.localDocuments.getDocuments(y,E))})}(s.localStore,t);PT(s,t,n),MT(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await Kl(s,o)}catch(o){await Za(o)}}function MT(r,t){(r.Eu.get(t)||[]).forEach(n=>{n.resolve()}),r.Eu.delete(t)}function PT(r,t,n){const s=bt(r);let o=s.Iu[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),s.Iu[s.currentUser.toKey()]=o}}function fm(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.cu.get(t))r.uu.delete(s),n&&r.au.Vu(s,n);r.cu.delete(t),r.isPrimaryClient&&r.Tu.Hr(t).forEach(s=>{r.Tu.containsKey(s)||UT(r,s)})}function UT(r,t){r.lu.delete(t.path.canonicalString());const n=r.hu.get(t);n!==null&&(Fm(r.remoteStore,n),r.hu=r.hu.remove(t),r.Pu.delete(n),Wm(r))}function r0(r,t,n){for(const s of n)s instanceof DT?(r.Tu.addReference(s.key,t),sN(r,s)):s instanceof xT?(at(Jm,"Document no longer in limbo: "+s.key),r.Tu.removeReference(s.key,t),r.Tu.containsKey(s.key)||UT(r,s.key)):_t(19791,{mu:s})}function sN(r,t){const n=t.key,s=n.path.canonicalString();r.hu.get(n)||r.lu.has(s)||(at(Jm,"New document in limbo: "+n),r.lu.add(s),Wm(r))}function Wm(r){for(;r.lu.size>0&&r.hu.size<r.maxConcurrentLimboResolutions;){const t=r.lu.values().next().value;r.lu.delete(t);const n=new dt(te.fromString(t)),s=r.du.next();r.Pu.set(s,new Y2(n)),r.hu=r.hu.insert(n,s),bT(r.remoteStore,new Rr(ai(Um(n.path)),s,"TargetPurposeLimboResolution",ch.le))}}async function Kl(r,t,n){const s=bt(r),o=[],u=[],f=[];s.uu.isEmpty()||(s.uu.forEach((p,g)=>{f.push(s.Ru(g,t,n).then(y=>{var E;if((y||n)&&s.isPrimaryClient){const b=y?!y.fromCache:(E=n==null?void 0:n.targetChanges.get(g.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(g.targetId,b?"current":"not-current")}if(y){o.push(y);const b=Hm.Rs(g.targetId,y);u.push(b)}}))}),await Promise.all(f),s.au.j_(o),await async function(g,y){const E=bt(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>$.forEach(y,I=>$.forEach(I.ds,q=>E.persistence.referenceDelegate.addReference(b,I.targetId,q)).next(()=>$.forEach(I.As,q=>E.persistence.referenceDelegate.removeReference(b,I.targetId,q)))))}catch(b){if(!Ja(b))throw b;at(Gm,"Failed to update sequence numbers: "+b)}for(const b of y){const I=b.targetId;if(!b.fromCache){const q=E.xs.get(I),K=q.snapshotVersion,W=q.withLastLimboFreeSnapshotVersion(K);E.xs=E.xs.insert(I,W)}}}(s.localStore,u))}async function aN(r,t){const n=bt(r);if(!n.currentUser.isEqual(t)){at(Jm,"User change. New user:",t.toKey());const s=await ET(n.localStore,t);n.currentUser=t,function(u,f){u.Eu.forEach(p=>{p.forEach(g=>{g.reject(new ut(Z.CANCELLED,f))})}),u.Eu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Kl(n,s.ks)}}function oN(r,t){const n=bt(r),s=n.Pu.get(t);if(s&&s._u)return Vt().add(s.key);{let o=Vt();const u=n.cu.get(t);if(!u)return o;for(const f of u){const p=n.uu.get(f);o=o.unionWith(p.view.Ya)}return o}}function kT(r){const t=bt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=VT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=oN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=nN.bind(null,t),t.au.j_=H2.bind(null,t.eventManager),t.au.Vu=G2.bind(null,t.eventManager),t}function lN(r){const t=bt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=iN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=rN.bind(null,t),t}class Jc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=_h(t.databaseInfo.databaseId),this.sharedClientState=this.pu(t),this.persistence=this.yu(t),await this.persistence.start(),this.localStore=this.wu(t),this.gcScheduler=this.Su(t,this.localStore),this.indexBackfillerScheduler=this.bu(t,this.localStore)}Su(t,n){return null}bu(t,n){return null}wu(t){return u2(this.persistence,new a2,t.initialUser,this.serializer)}yu(t){return new vT(qm.fi,this.serializer)}pu(t){return new g2}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jc.provider={build:()=>new Jc};class uN extends Jc{constructor(t){super(),this.cacheSizeBytes=t}Su(t,n){Ht(this.persistence.referenceDelegate instanceof $c,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new FC(s,t.asyncQueue,n)}yu(t){const n=this.cacheSizeBytes!==void 0?rn.withCacheSize(this.cacheSizeBytes):rn.DEFAULT;return new vT(s=>$c.fi(s,n),this.serializer)}}class dm{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>i0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=aN.bind(null,this.syncEngine),await L2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new z2}()}createDatastore(t){const n=_h(t.databaseInfo.databaseId),s=function(u){return new T2(u)}(t.databaseInfo);return function(u,f,p,g){return new R2(u,f,p,g)}(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return function(s,o,u,f,p){return new I2(s,o,u,f,p)}(this.localStore,this.datastore,t.asyncQueue,n=>i0(this.syncEngine,n,0),function(){return Zv.C()?new Zv:new y2}())}createSyncEngine(t,n){return function(o,u,f,p,g,y,E){const b=new X2(o,u,f,p,g,y);return E&&(b.Au=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(o){const u=bt(o);at(xs,"RemoteStore shutting down."),u.Ta.add(5),await Ql(u),u.Ea.shutdown(),u.da.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}dm.provider={build:()=>new dm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.vu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.vu(this.observer.error,t):qi("Uncaught Error in snapshot listener:",t.toString()))}Cu(){this.muted=!0}vu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ur="FirestoreClient";class hN{constructor(t,n,s,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Ke.UNAUTHENTICATED,this.clientId=xE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{at(Ur,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(at(Ur,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ws;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=$m(n,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function Bd(r,t){r.asyncQueue.verifyOperationInProgress(),at(Ur,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await ET(t.localStore,o),s=o)}),t.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=t}async function s0(r,t){r.asyncQueue.verifyOperationInProgress();const n=await fN(r);at(Ur,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener(s=>Wv(t.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>Wv(t.remoteStore,o)),r._onlineComponents=t}async function fN(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){at(Ur,"Using user provided OfflineComponentProvider");try{await Bd(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;za("Error using user provided cache. Falling back to memory cache: "+n),await Bd(r,new Jc)}}else at(Ur,"Using default OfflineComponentProvider"),await Bd(r,new uN(void 0));return r._offlineComponents}async function LT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(at(Ur,"Using user provided OnlineComponentProvider"),await s0(r,r._uninitializedComponentsProvider._online)):(at(Ur,"Using default OnlineComponentProvider"),await s0(r,new dm))),r._onlineComponents}function dN(r){return LT(r).then(t=>t.syncEngine)}async function a0(r){const t=await LT(r),n=t.eventManager;return n.onListen=$2.bind(null,t.syncEngine),n.onUnlisten=W2.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Z2.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=tN.bind(null,t.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jT(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zT(r,t,n){if(!n)throw new ut(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function mN(r,t,n,s){if(t===!0&&s===!0)throw new ut(Z.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function l0(r){if(!dt.isDocumentKey(r))throw new ut(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function u0(r){if(dt.isDocumentKey(r))throw new ut(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Th(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":_t(12329,{type:typeof r})}function Sl(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ut(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Th(r);throw new ut(Z.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BT="firestore.googleapis.com",c0=!0;class h0{constructor(t){var n,s;if(t.host===void 0){if(t.ssl!==void 0)throw new ut(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=BT,this.ssl=c0}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:c0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=_T;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<HC)throw new ut(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}mN("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=jT((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ut(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ut(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ut(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Ah{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new h0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ut(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new h0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new vI;switch(s.type){case"firstParty":return new SI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ut(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=o0.get(n);s&&(at("ComponentProvider","Removing Datastore"),o0.delete(n),s.terminate())}(this),Promise.resolve()}}function pN(r,t,n,s={}){var o;r=Sl(r,Ah);const u=Ll(t),f=r._getSettings(),p=Object.assign(Object.assign({},f),{emulatorOptions:r._getEmulatorOptions()}),g=`${t}:${n}`;u&&(L0(`https://${g}`),j0("Firestore",!0)),f.host!==BT&&f.host!==g&&za("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y=Object.assign(Object.assign({},f),{host:g,ssl:u,emulatorOptions:s});if(!Is(y,p)&&(r._setSettings(y),s.mockUserToken)){let E,b;if(typeof s.mockUserToken=="string")E=s.mockUserToken,b=Ke.MOCK_USER;else{E=F1(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const I=s.mockUserToken.sub||s.mockUserToken.user_id;if(!I)throw new ut(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Ke(I)}r._authCredentials=new EI(new NE(E,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new kr(this.firestore,t,this._query)}}class mn{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Dr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new mn(this.firestore,t,this._key)}}class Dr extends kr{constructor(t,n,s){super(t,n,Um(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new mn(this.firestore,null,new dt(t))}withConverter(t){return new Dr(this.firestore,t,this._path)}}function Wc(r,t,...n){if(r=pn(r),zT("collection","path",t),r instanceof Ah){const s=te.fromString(t,...n);return u0(s),new Dr(r,null,s)}{if(!(r instanceof mn||r instanceof Dr))throw new ut(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(te.fromString(t,...n));return u0(s),new Dr(r.firestore,null,s)}}function gN(r,t,...n){if(r=pn(r),arguments.length===1&&(t=xE.newId()),zT("doc","path",t),r instanceof Ah){const s=te.fromString(t,...n);return l0(s),new mn(r,null,new dt(s))}{if(!(r instanceof mn||r instanceof Dr))throw new ut(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(te.fromString(t,...n));return l0(s),new mn(r.firestore,r instanceof Dr?r.converter:null,new dt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0="AsyncQueue";class d0{constructor(t=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new AT(this,"async_queue_retry"),this.ec=()=>{const s=zd();s&&at(f0,"Visibility state changed to "+s.visibilityState),this.C_.p_()},this.tc=t;const n=zd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.nc(),this.rc(t)}enterRestrictedMode(t){if(!this.ju){this.ju=!0,this.Zu=t||!1;const n=zd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ec)}}enqueue(t){if(this.nc(),this.ju)return new Promise(()=>{});const n=new ws;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.zu.push(t),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(t){if(!Ja(t))throw t;at(f0,"Operation failed with retryable error: "+t)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(t){const n=this.tc.then(()=>(this.Yu=!0,t().catch(s=>{throw this.Ju=s,this.Yu=!1,qi("INTERNAL UNHANDLED ERROR: ",m0(s)),s}).then(s=>(this.Yu=!1,s))));return this.tc=n,n}enqueueAfterDelay(t,n,s){this.nc(),this.Xu.indexOf(t)>-1&&(n=0);const o=Xm.createAndSchedule(this,t,n,s,u=>this.oc(u));return this.Hu.push(o),o}nc(){this.Ju&&_t(47125,{_c:m0(this.Ju)})}verifyOperationInProgress(){}async ac(){let t;do t=this.tc,await t;while(t!==this.tc)}uc(t){for(const n of this.Hu)if(n.timerId===t)return!0;return!1}cc(t){return this.ac().then(()=>{this.Hu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Hu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.ac()})}lc(t){this.Xu.push(t)}oc(t){const n=this.Hu.indexOf(t);this.Hu.splice(n,1)}}function m0(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p0(r){return function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1}(r,["next","error","complete"])}class th extends Ah{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new d0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new d0(t),this._firestoreClient=void 0,await t}}}function yN(r,t){const n=typeof r=="object"?r:H0(),s=typeof r=="string"?r:Gc,o=_m(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=H1("firestore");u&&pN(o,...u)}return o}function qT(r){if(r._terminated)throw new ut(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||_N(r),r._firestoreClient}function _N(r){var t,n,s;const o=r._freezeSettings(),u=function(p,g,y,E){return new LI(p,g,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,jT(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)}(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new hN(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(p){const g=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(g),_online:g}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Qa(qe.fromBase64String(t))}catch(n){throw new ut(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Qa(qe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ut(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Be(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ut(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ut(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return It(this._lat,t._lat)||It(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN=/^__.*__$/;class EN{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new Ps(t,this.data,this.fieldMask,n,this.fieldTransforms):new Gl(t,this.data,n,this.fieldTransforms)}}function HT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t(40011,{hc:r})}}class rp{constructor(t,n,s,o,u,f){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Pc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(t){return new rp(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.Tc({path:s,Ec:!1});return o.dc(t),o}Ac(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.Tc({path:s,Ec:!1});return o.Pc(),o}Rc(t){return this.Tc({path:void 0,Ec:!0})}Vc(t){return eh(t,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Pc(){if(this.path)for(let t=0;t<this.path.length;t++)this.dc(this.path.get(t))}dc(t){if(t.length===0)throw this.Vc("Document fields must not be empty");if(HT(this.hc)&&vN.test(t))throw this.Vc('Document fields cannot begin and end with "__"')}}class TN{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||_h(t)}gc(t,n,s,o=!1){return new rp({hc:t,methodName:n,fc:s,path:Be.emptyPath(),Ec:!1,mc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function GT(r){const t=r._freezeSettings(),n=_h(r._databaseId);return new TN(r._databaseId,!!t.ignoreUndefinedProperties,n)}function AN(r,t,n,s,o,u={}){const f=r.gc(u.merge||u.mergeFields?2:0,t,n,o);KT("Data must be an object, but it was:",f,s);const p=FT(s,f);let g,y;if(u.merge)g=new Ln(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const b of u.mergeFields){const I=bN(t,b,n);if(!f.contains(I))throw new ut(Z.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);wN(E,I)||E.push(I)}g=new Ln(E),y=f.fieldTransforms.filter(b=>g.covers(b.field))}else g=null,y=f.fieldTransforms;return new EN(new Nn(p),g,y)}class sp extends ep{_toFieldTransform(t){return new cC(t.path,new Vl)}isEqual(t){return t instanceof sp}}function SN(r,t,n,s=!1){return ap(n,r.gc(s?4:3,t))}function ap(r,t){if(QT(r=pn(r)))return KT("Unsupported field value:",t,r),FT(r,t);if(r instanceof ep)return function(s,o){if(!HT(o.hc))throw o.Vc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Vc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.Ec&&t.hc!==4)throw t.Vc("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const p of s){let g=ap(p,o.Rc(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}}(r,t)}return function(s,o){if((s=pn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return oC(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Re.fromDate(s);return{timestampValue:Xc(o.serializer,u)}}if(s instanceof Re){const u=new Re(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Xc(o.serializer,u)}}if(s instanceof np)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Qa)return{bytesValue:hT(o.serializer,s._byteString)};if(s instanceof mn){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Vc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:zm(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof ip)return function(f,p){return{mapValue:{fields:{[jE]:{stringValue:zE},[Fc]:{arrayValue:{values:f.toArray().map(y=>{if(typeof y!="number")throw p.Vc("VectorValues must only contain numeric values.");return km(p.serializer,y)})}}}}}}(s,o);throw o.Vc(`Unsupported field value: ${Th(s)}`)}(r,t)}function FT(r,t){const n={};return VE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Vs(r,(s,o)=>{const u=ap(o,t.Ic(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function QT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Re||r instanceof np||r instanceof Qa||r instanceof mn||r instanceof ep||r instanceof ip)}function KT(r,t,n){if(!QT(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=Th(n);throw s==="an object"?t.Vc(r+" a custom object"):t.Vc(r+" "+s)}}function bN(r,t,n){if((t=pn(t))instanceof tp)return t._internalPath;if(typeof t=="string")return YT(r,t);throw eh("Field path arguments must be of type string or ",r,!1,void 0,n)}const RN=new RegExp("[~\\*/\\[\\]]");function YT(r,t,n){if(t.search(RN)>=0)throw eh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new tp(...t.split("."))._internalPath}catch{throw eh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function eh(r,t,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let p=`Function ${t}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${s}`),f&&(g+=` in document ${o}`),g+=")"),new ut(Z.INVALID_ARGUMENT,p+r+g)}function wN(r,t){return r.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(t,n,s,o,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new mn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new IN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(op("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class IN extends XT{data(){return super.data()}}function op(r,t){return typeof t=="string"?YT(r,t):t instanceof tp?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CN(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ut(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class lp{}class up extends lp{}function $T(r,t,...n){let s=[];t instanceof lp&&s.push(t),s=s.concat(n),function(u){const f=u.filter(g=>g instanceof hp).length,p=u.filter(g=>g instanceof cp).length;if(f>1||f>0&&p>0)throw new ut(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class cp extends up{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new cp(t,n,s)}_apply(t){const n=this._parse(t);return JT(t._query,n),new kr(t.firestore,t.converter,rm(t._query,n))}_parse(t){const n=GT(t.firestore);return function(u,f,p,g,y,E,b){let I;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ut(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){y0(b,E);const K=[];for(const W of b)K.push(g0(g,u,W));I={arrayValue:{values:K}}}else I=g0(g,u,b)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||y0(b,E),I=SN(p,f,b,E==="in"||E==="not-in");return _e.create(y,E,I)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class hp extends lp{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new hp(t,n)}_parse(t){const n=this._queryConstraints.map(s=>s._parse(t)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:zn.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(o,u){let f=o;const p=u.getFlattenedFilters();for(const g of p)JT(f,g),f=rm(f,g)}(t._query,n),new kr(t.firestore,t.converter,rm(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class fp extends up{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new fp(t,n)}_apply(t){const n=function(o,u,f){if(o.startAt!==null)throw new ut(Z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ut(Z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ol(u,f)}(t._query,this._field,this._direction);return new kr(t.firestore,t.converter,function(o,u){const f=o.explicitOrderBy.concat([u]);return new Wa(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(t._query,n))}}function ZT(r,t="asc"){const n=t,s=op("orderBy",r);return fp._create(s,n)}class dp extends up{constructor(t,n,s){super(),this.type=t,this._limit=n,this._limitType=s}static _create(t,n,s){return new dp(t,n,s)}_apply(t){return new kr(t.firestore,t.converter,Kc(t._query,this._limit,this._limitType))}}function NN(r){return dp._create("limit",r,"F")}function g0(r,t,n){if(typeof(n=pn(n))=="string"){if(n==="")throw new ut(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!YE(t)&&n.indexOf("/")!==-1)throw new ut(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(te.fromString(n));if(!dt.isDocumentKey(s))throw new ut(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Nv(r,new dt(s))}if(n instanceof mn)return Nv(r,n._key);throw new ut(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Th(n)}.`)}function y0(r,t){if(!Array.isArray(r)||r.length===0)throw new ut(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function JT(r,t){const n=function(o,u){for(const f of o)for(const p of f.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new ut(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ut(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class DN{convertValue(t,n="none"){switch(Mr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return fe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Vr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw _t(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return Vs(t,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(t){var n,s,o;const u=(o=(s=(n=t.fields)===null||n===void 0?void 0:n[Fc].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>fe(f.doubleValue));return new ip(u)}convertGeoPoint(t){return new np(fe(t.latitude),fe(t.longitude))}convertArray(t,n){return(t.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(t,n){switch(n){case"previous":const s=fh(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Nl(t));default:return null}}convertTimestamp(t){const n=Or(t);return new Re(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=te.fromString(t);Ht(yT(s),9688,{name:t});const o=new Dl(s.get(1),s.get(3)),u=new dt(s.popFirst(5));return o.isEqual(n)||qi(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xN(r,t,n){let s;return s=r?r.toFirestore(t):t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class WT extends XT{constructor(t,n,s,o,u,f){super(t,n,s,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Mc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(op("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Mc extends WT{data(t={}){return super.data(t)}}class ON{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new gl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(s=>{t.call(n,new Mc(this._firestore,this._userDataWriter,s.key,s,new gl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ut(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(p=>{const g=new Mc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new gl(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(p=>u||p.type!==3).map(p=>{const g=new Mc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new gl(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return p.type!==0&&(y=f.indexOf(p.doc.key),f=f.delete(p.doc.key)),p.type!==1&&(f=f.add(p.doc),E=f.indexOf(p.doc.key)),{type:VN(p.type),doc:g,oldIndex:y,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function VN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t(61501,{type:r})}}class tA extends DN{constructor(t){super(),this.firestore=t}convertBytes(t){return new Qa(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new mn(this.firestore,null,n)}}function eA(r,t){const n=Sl(r.firestore,th),s=gN(r),o=xN(r.converter,t);return MN(n,[AN(GT(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,ji.exists(!1))]).then(()=>s)}function nA(r,...t){var n,s,o;r=pn(r);let u={includeMetadataChanges:!1,source:"default"},f=0;typeof t[f]!="object"||p0(t[f])||(u=t[f],f++);const p={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(p0(t[f])){const b=t[f];t[f]=(n=b.next)===null||n===void 0?void 0:n.bind(b),t[f+1]=(s=b.error)===null||s===void 0?void 0:s.bind(b),t[f+2]=(o=b.complete)===null||o===void 0?void 0:o.bind(b)}let g,y,E;if(r instanceof mn)y=Sl(r.firestore,th),E=Um(r._key.path),g={next:b=>{t[f]&&t[f](PN(y,r,b))},error:t[f+1],complete:t[f+2]};else{const b=Sl(r,kr);y=Sl(b.firestore,th),E=b._query;const I=new tA(y);g={next:q=>{t[f]&&t[f](new ON(y,I,b,q))},error:t[f+1],complete:t[f+2]},CN(r._query)}return function(I,q,K,W){const H=new cN(W),ct=new F2(q,H,K);return I.asyncQueue.enqueueAndForget(async()=>B2(await a0(I),ct)),()=>{H.Cu(),I.asyncQueue.enqueueAndForget(async()=>q2(await a0(I),ct))}}(qT(y),E,p,g)}function MN(r,t){return function(s,o){const u=new ws;return s.asyncQueue.enqueueAndForget(async()=>eN(await dN(s),o,u)),u.promise}(qT(r),t)}function PN(r,t,n){const s=n.docs.get(t._key),o=new tA(r);return new WT(r,o,t._key,s,new gl(n.hasPendingWrites,n.fromCache),t.converter)}function iA(){return new sp("serverTimestamp")}(function(t,n=!0){(function(o){$a=o})(Ya),La(new Cs("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),p=new th(new TI(s.getProvider("auth-internal")),new bI(f,s.getProvider("app-check-internal")),function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ut(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dl(y.options.projectId,E)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),p._setSettings(u),p},"PUBLIC").setMultipleInstances(!0)),Cr(yv,_v,t),Cr(yv,_v,"esm2017")})();const UN={apiKey:"AIzaSyCuu1KfeIl6oMZEQ1uRhZ0-xnD7jgPEDdM",authDomain:"chat-teste-4f0ab.firebaseapp.com",projectId:"chat-teste-4f0ab",storageBucket:"chat-teste-4f0ab.firebasestorage.app",messagingSenderId:"273740334944",appId:"1:273740334944:web:9fc562531258c99e39c005"},rA=q0(UN),Yl=yI(rA),nh=yN(rA);function kN(){const r=async()=>{const t=new Ui;try{await ww(Yl,t)}catch(n){console.error("Erro ao logar:",n),alert("Falha no login: "+n.message)}};return A.jsxs("div",{className:"login-container",children:[A.jsxs("div",{className:"login-card",children:[A.jsxs("div",{className:"login-header",children:[A.jsx("h1",{children:"Minha Rede Social"}),A.jsx("p",{children:"Conecte-se com pessoas ao redor do mundo"})]}),A.jsxs("div",{className:"login-content",children:[A.jsxs("div",{className:"welcome-text",children:[A.jsx("h2",{children:"Bem-vindo de volta!"}),A.jsx("p",{children:"Faça login para continuar sua jornada"})]}),A.jsxs("button",{className:"google-btn",onClick:r,children:[A.jsxs("svg",{className:"google-icon",viewBox:"0 0 24 24",children:[A.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),A.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),A.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),A.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Entrar com Google"]}),A.jsx("div",{className:"divider",children:A.jsx("span",{children:"ou"})}),A.jsx("div",{className:"login-footer",children:A.jsxs("p",{children:["Não tem uma conta? ",A.jsx("span",{children:"Cadastre-se"})]})})]})]}),A.jsxs("div",{className:"login-background",children:[A.jsx("div",{className:"shape shape-1"}),A.jsx("div",{className:"shape shape-2"})]})]})}function LN({user:r}){const t=sh(),[n,s]=rt.useState([]),[o,u]=rt.useState(""),[f,p]=rt.useState(!0);rt.useEffect(()=>{const b=$T(Wc(nh,"posts"),ZT("timestamp","desc"));return nA(b,q=>{const K=[];q.forEach(W=>{K.push({id:W.id,...W.data()})}),s(K),p(!1)})},[]);const g=async()=>{try{await Yl.signOut()}catch(b){console.error("Erro ao deslogar:",b)}},y=async b=>{if(b.preventDefault(),o.trim())try{await eA(Wc(nh,"posts"),{name:r.displayName,content:o,timestamp:iA(),userId:r.uid,userPhoto:r.photoURL}),u("")}catch(I){console.error("Erro ao adicionar postagem:",I),alert("Erro ao publicar: "+I.message)}},E=b=>{t(`/profile#${b}`)};return A.jsxs("div",{className:"home-page",children:[A.jsxs("header",{className:"app-header",children:[A.jsx("div",{className:"logo",children:"Minha Rede Social"}),A.jsxs("div",{className:"search-container",children:[A.jsx("input",{type:"text",placeholder:"Pesquisar..."}),A.jsx("button",{children:A.jsx("i",{className:"search-icon",children:"🔍"})})]}),A.jsxs("div",{className:"user-menu",children:[A.jsxs("div",{className:"user-info",onClick:()=>t("/profile"),style:{cursor:"pointer"},children:[A.jsx("img",{src:r.photoURL,alt:r.displayName}),A.jsx("span",{children:r.displayName})]}),A.jsx("button",{className:"logout-btn",onClick:g,children:"Sair"})]})]}),A.jsxs("div",{className:"main-content",children:[A.jsxs("aside",{className:"sidebar",children:[A.jsxs("div",{className:"user-card",onClick:()=>t("/profile"),style:{cursor:"pointer"},children:[A.jsx("img",{src:r.photoURL,alt:r.displayName,className:"profile-pic"}),A.jsx("h2",{children:r.displayName}),A.jsx("p",{children:r.email})]}),A.jsx("nav",{className:"menu",children:A.jsxs("ul",{children:[A.jsxs("li",{className:location.pathname==="/"?"active":"",onClick:()=>t("/"),children:[A.jsx("i",{className:"icon",children:"🏠"})," Feed"]}),A.jsxs("li",{onClick:()=>t("/profile"),children:[A.jsx("i",{className:"icon",children:"👤"})," Perfil"]}),A.jsxs("li",{onClick:()=>E("friends"),children:[A.jsx("i",{className:"icon",children:"👥"})," Amigos"]}),A.jsxs("li",{onClick:()=>E("photos"),children:[A.jsx("i",{className:"icon",children:"📷"})," Fotos"]}),A.jsxs("li",{onClick:()=>t("/chat"),children:[A.jsx("i",{className:"icon",children:"💬"})," Chat"]}),A.jsxs("li",{children:[A.jsx("i",{className:"icon",children:"🎬"})," Vídeos"]}),A.jsxs("li",{children:[A.jsx("i",{className:"icon",children:"📅"})," Eventos"]}),A.jsxs("li",{children:[A.jsx("i",{className:"icon",children:"🛒"})," Marketplace"]})]})})]}),A.jsxs("main",{className:"feed",children:[A.jsxs("div",{className:"create-post",children:[A.jsxs("div",{className:"post-header",children:[A.jsx("img",{src:r.photoURL,alt:r.displayName}),A.jsx("form",{onSubmit:y,children:A.jsx("input",{type:"text",placeholder:"O que você está pensando?",value:o,onChange:b=>u(b.target.value)})})]}),A.jsxs("div",{className:"post-actions",children:[A.jsxs("button",{children:[A.jsx("i",{children:"📷"})," Foto"]}),A.jsxs("button",{children:[A.jsx("i",{children:"🎬"})," Vídeo"]}),A.jsxs("button",{children:[A.jsx("i",{children:"📅"})," Evento"]}),A.jsx("button",{type:"submit",onClick:y,children:"Publicar"})]})]}),n.map(b=>A.jsxs("div",{className:"post",children:[A.jsxs("div",{className:"post-header",children:[A.jsx("img",{src:`https://i.pravatar.cc/40?img=${b.id}`,alt:b.name}),A.jsxs("div",{children:[A.jsx("h3",{children:b.name}),A.jsx("p",{children:b.time})]})]}),A.jsx("div",{className:"post-content",children:b.content}),A.jsxs("div",{className:"post-actions",children:[A.jsxs("button",{children:[A.jsx("i",{children:"👍"})," Curtir"]}),A.jsxs("button",{children:[A.jsx("i",{children:"💬"})," Comentar"]}),A.jsxs("button",{children:[A.jsx("i",{children:"↪️"})," Compartilhar"]})]})]},b.id))]}),A.jsxs("aside",{className:"right-sidebar",children:[A.jsxs("div",{className:"section",children:[A.jsx("h3",{children:"Aniversários"}),A.jsxs("p",{children:["Hoje é aniversário de ",A.jsx("strong",{children:"Mariana Costa"})," e"," ",A.jsx("strong",{children:"Lucas Oliveira"})]})]}),A.jsxs("div",{className:"section",children:[A.jsx("h3",{children:"Contatos"}),A.jsxs("ul",{className:"contacts",children:[A.jsxs("li",{children:[A.jsx("img",{src:"https://i.pravatar.cc/30?img=1",alt:"Amigo"}),A.jsx("span",{children:"Carlos Oliveira"})]}),A.jsxs("li",{children:[A.jsx("img",{src:"https://i.pravatar.cc/30?img=2",alt:"Amigo"}),A.jsx("span",{children:"Ana Costa"})]}),A.jsxs("li",{children:[A.jsx("img",{src:"https://i.pravatar.cc/30?img=3",alt:"Amigo"}),A.jsx("span",{children:"Pedro Santos"})]}),A.jsxs("li",{children:[A.jsx("img",{src:"https://i.pravatar.cc/30?img=4",alt:"Amigo"}),A.jsx("span",{children:"Mariana Costa"})]}),A.jsxs("li",{children:[A.jsx("img",{src:"https://i.pravatar.cc/30?img=5",alt:"Amigo"}),A.jsx("span",{children:"Lucas Oliveira"})]})]})]}),A.jsxs("div",{className:"section",children:[A.jsx("h3",{children:"Eventos"}),A.jsxs("div",{className:"event",children:[A.jsxs("div",{className:"event-date",children:[A.jsx("span",{children:"28"}),A.jsx("span",{children:"SET"})]}),A.jsxs("div",{children:[A.jsx("p",{children:"Conferência de Tecnologia"}),A.jsx("small",{children:"São Paulo, SP"})]})]}),A.jsxs("div",{className:"event",children:[A.jsxs("div",{className:"event-date",children:[A.jsx("span",{children:"05"}),A.jsx("span",{children:"OUT"})]}),A.jsxs("div",{children:[A.jsx("p",{children:"Workshop de React"}),A.jsx("small",{children:"Online"})]})]})]})]})]})]})}function jN({user:r}){const t=sh(),n=rh(),[s,o]=rt.useState("posts"),[u,f]=rt.useState(!1),[p,g]=rt.useState({displayName:r.displayName,bio:"Desenvolvedor Full Stack | Apaixonado por tecnologia e inovação",location:"São Paulo, SP",website:"https://meuportfolio.com",birthday:"15 de Maio de 1990"});rt.useEffect(()=>{const et=n.hash.substring(1);et&&["posts","photos","friends","about"].includes(et)&&(o(et),setTimeout(()=>{const At=document.querySelector(".profile-content");At&&At.scrollIntoView({behavior:"smooth",block:"start"})},100))},[n]);const[y,E]=rt.useState([{id:1,content:"Acabei de publicar meu novo artigo sobre React! 🚀",time:"2 min",likes:15},{id:2,content:"Alguém para uma call hoje à tarde para discutir o novo projeto?",time:"15 min",likes:8},{id:3,content:"Finalmente terminei meu curso de UI/UX Design! 🎉",time:"1 h",likes:32}]),[b,I]=rt.useState([{id:1,url:"https://picsum.photos/300/200?random=1",caption:"Conferência de Tecnologia"},{id:2,url:"https://picsum.photos/300/200?random=2",caption:"Workshop de React"},{id:3,url:"https://picsum.photos/300/200?random=3",caption:"Projeto finalizado"},{id:4,url:"https://picsum.photos/300/200?random=4",caption:"Time de desenvolvimento"},{id:5,url:"https://picsum.photos/300/200?random=5",caption:"Novo escritório"},{id:6,url:"https://picsum.photos/300/200?random=6",caption:"Evento de networking"}]),[q,K]=rt.useState([{id:1,name:"Carlos Oliveira",mutual:15},{id:2,name:"Ana Costa",mutual:8},{id:3,name:"Pedro Santos",mutual:32},{id:4,name:"Mariana Costa",mutual:7},{id:5,name:"Lucas Oliveira",mutual:12},{id:6,name:"Juliana Pereira",mutual:5}]),W=async()=>{try{await Yl.signOut(),t("/login")}catch(et){console.error("Erro ao deslogar:",et)}},H=et=>{const{name:ot,value:At}=et.target;g(pt=>({...pt,[ot]:At}))},ct=()=>{f(!1)};return A.jsxs("div",{className:"profile-page",children:[A.jsxs("header",{className:"app-header",children:[A.jsx("div",{className:"logo",onClick:()=>t("/"),children:"Minha Rede Social"}),A.jsxs("div",{className:"search-container",children:[A.jsx("input",{type:"text",placeholder:"Pesquisar..."}),A.jsx("button",{children:A.jsx("i",{className:"search-icon",children:"🔍"})})]}),A.jsxs("div",{className:"user-menu",children:[A.jsxs("div",{className:"user-info",onClick:()=>t("/profile"),children:[A.jsx("img",{src:r.photoURL,alt:r.displayName}),A.jsx("span",{children:r.displayName})]}),A.jsx("button",{className:"logout-btn",onClick:W,children:"Sair"})]})]}),A.jsxs("div",{className:"profile-banner",children:[A.jsx("div",{className:"banner-image"}),A.jsxs("div",{className:"profile-info",children:[A.jsxs("div",{className:"profile-picture",children:[A.jsx("img",{src:r.photoURL,alt:r.displayName}),A.jsx("button",{className:"edit-photo-btn",children:"✏️"})]}),A.jsxs("div",{className:"profile-details",children:[A.jsx("h1",{children:r.displayName}),A.jsx("p",{children:p.bio}),A.jsxs("div",{className:"profile-stats",children:[A.jsxs("div",{children:[A.jsx("strong",{children:"120"}),A.jsx("span",{children:"Publicações"})]}),A.jsxs("div",{children:[A.jsx("strong",{children:"850"}),A.jsx("span",{children:"Seguidores"})]}),A.jsxs("div",{children:[A.jsx("strong",{children:"320"}),A.jsx("span",{children:"Seguindo"})]})]})]}),A.jsx("button",{className:"edit-profile-btn",onClick:()=>f(!u),children:u?"Cancelar":"Editar Perfil"})]})]}),A.jsxs("nav",{className:"profile-nav",children:[A.jsx("button",{className:s==="posts"?"active":"",onClick:()=>o("posts"),children:"Publicações"}),A.jsx("button",{className:s==="photos"?"active":"",onClick:()=>o("photos"),children:"Fotos"}),A.jsx("button",{className:s==="friends"?"active":"",onClick:()=>o("friends"),children:"Amigos"}),A.jsx("button",{className:s==="about"?"active":"",onClick:()=>o("about"),children:"Sobre"})]}),A.jsxs("div",{className:"profile-content",children:[u&&A.jsxs("div",{className:"edit-profile-section",children:[A.jsx("h2",{children:"Editar Perfil"}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:"Nome"}),A.jsx("input",{type:"text",name:"displayName",value:p.displayName,onChange:H})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:"Bio"}),A.jsx("textarea",{name:"bio",value:p.bio,onChange:H,rows:"3"})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:"Localização"}),A.jsx("input",{type:"text",name:"location",value:p.location,onChange:H})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:"Website"}),A.jsx("input",{type:"url",name:"website",value:p.website,onChange:H})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:"Data de Nascimento"}),A.jsx("input",{type:"text",name:"birthday",value:p.birthday,onChange:H})]}),A.jsxs("div",{className:"form-actions",children:[A.jsx("button",{className:"save-btn",onClick:ct,children:"Salvar Alterações"}),A.jsx("button",{className:"cancel-btn",onClick:()=>f(!1),children:"Cancelar"})]})]}),s==="posts"&&A.jsx("div",{className:"profile-posts",children:y.map(et=>A.jsxs("div",{className:"post",children:[A.jsxs("div",{className:"post-header",children:[A.jsx("img",{src:r.photoURL,alt:r.displayName}),A.jsxs("div",{children:[A.jsx("h3",{children:r.displayName}),A.jsx("p",{children:et.time})]})]}),A.jsx("div",{className:"post-content",children:et.content}),A.jsxs("div",{className:"post-actions",children:[A.jsxs("button",{children:[A.jsx("i",{children:"👍"})," Curtir (",et.likes,")"]}),A.jsxs("button",{children:[A.jsx("i",{children:"💬"})," Comentar"]}),A.jsxs("button",{children:[A.jsx("i",{children:"↪️"})," Compartilhar"]})]})]},et.id))}),s==="photos"&&A.jsxs("div",{className:"profile-photos",children:[A.jsx("h2",{children:"Fotos"}),A.jsx("div",{className:"photo-grid",children:b.map(et=>A.jsxs("div",{className:"photo-item",children:[A.jsx("img",{src:et.url,alt:et.caption}),A.jsx("p",{children:et.caption})]},et.id))})]}),s==="friends"&&A.jsxs("div",{className:"profile-friends",children:[A.jsxs("h2",{children:["Amigos (",q.length,")"]}),A.jsx("div",{className:"friends-grid",children:q.map(et=>A.jsxs("div",{className:"friend-item",children:[A.jsx("img",{src:`https://i.pravatar.cc/80?img=${et.id}`,alt:et.name}),A.jsxs("div",{children:[A.jsx("h3",{children:et.name}),A.jsxs("p",{children:[et.mutual," amigos em comum"]})]}),A.jsx("button",{className:"message-btn",children:"Mensagem"})]},et.id))})]}),s==="about"&&A.jsxs("div",{className:"profile-about",children:[A.jsx("h2",{children:"Sobre"}),A.jsxs("div",{className:"about-section",children:[A.jsx("h3",{children:"Informações Básicas"}),A.jsxs("div",{className:"info-item",children:[A.jsx("span",{children:"Nome completo:"}),A.jsx("p",{children:r.displayName})]}),A.jsxs("div",{className:"info-item",children:[A.jsx("span",{children:"Email:"}),A.jsx("p",{children:r.email})]}),A.jsxs("div",{className:"info-item",children:[A.jsx("span",{children:"Localização:"}),A.jsx("p",{children:p.location})]}),A.jsxs("div",{className:"info-item",children:[A.jsx("span",{children:"Website:"}),A.jsx("p",{children:A.jsx("a",{href:p.website,target:"_blank",rel:"noopener noreferrer",children:p.website})})]}),A.jsxs("div",{className:"info-item",children:[A.jsx("span",{children:"Data de Nascimento:"}),A.jsx("p",{children:p.birthday})]})]}),A.jsxs("div",{className:"about-section",children:[A.jsx("h3",{children:"Biografia"}),A.jsx("p",{children:p.bio})]}),A.jsxs("div",{className:"about-section",children:[A.jsx("h3",{children:"Experiência Profissional"}),A.jsxs("div",{className:"experience-item",children:[A.jsx("div",{className:"exp-logo",children:A.jsx("div",{children:"TS"})}),A.jsxs("div",{className:"exp-details",children:[A.jsx("h4",{children:"Tech Solutions Ltda"}),A.jsx("p",{children:"Desenvolvedor Sênior"}),A.jsx("p",{children:"2015 - Atualmente"}),A.jsx("p",{children:"Desenvolvimento de sistemas web com React e Node.js"})]})]}),A.jsxs("div",{className:"experience-item",children:[A.jsx("div",{className:"exp-logo",children:A.jsx("div",{children:"ID"})}),A.jsxs("div",{className:"exp-details",children:[A.jsx("h4",{children:"Inova Digital"}),A.jsx("p",{children:"Desenvolvedor Front-end"}),A.jsx("p",{children:"2013 - 2015"}),A.jsx("p",{children:"Criação de interfaces responsivas e otimizadas"})]})]})]}),A.jsxs("div",{className:"about-section",children:[A.jsx("h3",{children:"Educação"}),A.jsxs("div",{className:"education-item",children:[A.jsx("div",{className:"edu-logo",children:A.jsx("div",{children:"UF"})}),A.jsxs("div",{className:"edu-details",children:[A.jsx("h4",{children:"Universidade Federal"}),A.jsx("p",{children:"Bacharelado em Ciência da Computação"}),A.jsx("p",{children:"2009 - 2013"})]})]})]})]})]})]})}function zN({user:r}){const t=sh(),[n,s]=rt.useState([]),[o,u]=rt.useState(""),f=rt.useRef(null);rt.useEffect(()=>{const y=$T(Wc(nh,"messages"),ZT("timestamp","desc"),NN(50));return nA(y,b=>{const I=[];b.forEach(q=>{I.push({id:q.id,...q.data()})}),s(I.reverse())})},[]),rt.useEffect(()=>{var y;(y=f.current)==null||y.scrollIntoView({behavior:"smooth"})},[n]);const p=async y=>{if(y.preventDefault(),o.trim()!=="")try{await eA(Wc(nh,"messages"),{text:o,timestamp:iA(),userId:r.uid,name:r.displayName,photoURL:r.photoURL}),u("")}catch(E){console.error("Erro ao enviar mensagem:",E),alert("Erro ao enviar mensagem: "+E.message)}},g=async()=>{try{await Yl.signOut(),t("/login")}catch(y){console.error("Erro ao deslogar:",y)}};return A.jsxs("div",{className:"chat-page",children:[A.jsxs("header",{className:"app-header",children:[A.jsx("div",{className:"logo",onClick:()=>t("/"),children:"Minha Rede Social"}),A.jsxs("div",{className:"search-container",children:[A.jsx("input",{type:"text",placeholder:"Pesquisar..."}),A.jsx("button",{children:A.jsx("i",{className:"search-icon",children:"🔍"})})]}),A.jsxs("div",{className:"user-menu",children:[A.jsxs("div",{className:"user-info",onClick:()=>t("/profile"),children:[A.jsx("img",{src:r.photoURL,alt:r.displayName}),A.jsx("span",{children:r.displayName})]}),A.jsx("button",{className:"logout-btn",onClick:g,children:"Sair"})]})]}),A.jsxs("div",{className:"main-content",children:[A.jsxs("aside",{className:"sidebar",children:[A.jsxs("div",{className:"user-card",onClick:()=>t("/profile"),style:{cursor:"pointer"},children:[A.jsx("img",{src:r.photoURL,alt:r.displayName,className:"profile-pic"}),A.jsx("h2",{children:r.displayName}),A.jsx("p",{children:r.email})]}),A.jsx("nav",{className:"menu",children:A.jsxs("ul",{children:[A.jsxs("li",{onClick:()=>t("/"),children:[A.jsx("i",{className:"icon",children:"🏠"})," Feed"]}),A.jsxs("li",{onClick:()=>t("/profile"),children:[A.jsx("i",{className:"icon",children:"👤"})," Perfil"]}),A.jsxs("li",{className:"active",children:[A.jsx("i",{className:"icon",children:"💬"})," Chat"]}),A.jsxs("li",{onClick:()=>t("/profile#friends"),children:[A.jsx("i",{className:"icon",children:"👥"})," Amigos"]})]})})]}),A.jsxs("main",{className:"chat-container",children:[A.jsx("div",{className:"chat-header",children:A.jsx("h2",{children:"Chat Geral"})}),A.jsxs("div",{className:"messages-container",children:[n.map(y=>{var E;return A.jsxs("div",{className:`message ${y.userId===r.uid?"sent":"received"}`,children:[y.userId!==r.uid&&A.jsx("img",{src:y.photoURL||"https://i.pravatar.cc/40",alt:y.name}),A.jsxs("div",{className:"message-content",children:[y.userId!==r.uid&&A.jsx("span",{className:"message-sender",children:y.name}),A.jsx("p",{children:y.text}),A.jsx("span",{className:"message-time",children:(E=y.timestamp)==null?void 0:E.toDate().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]},y.id)}),A.jsx("div",{ref:f})]}),A.jsxs("form",{className:"message-input-form",onSubmit:p,children:[A.jsx("input",{type:"text",value:o,onChange:y=>u(y.target.value),placeholder:"Digite uma mensagem..."}),A.jsx("button",{type:"submit",children:"Enviar"})]})]})]})]})}function BN(){const[r,t]=rt.useState(null),[n,s]=rt.useState(!0);return rt.useEffect(()=>Yl.onAuthStateChanged(u=>{t(u),s(!1)}),[]),n?A.jsx("div",{className:"loading-screen",children:A.jsxs("div",{className:"spinner",children:[A.jsx("div",{className:"bounce1"}),A.jsx("div",{className:"bounce2"}),A.jsx("div",{className:"bounce3"})]})}):A.jsx(M1,{children:A.jsxs(x1,{children:[A.jsx(Na,{path:"/",element:r?A.jsx(LN,{user:r}):A.jsx(fl,{to:"/login"})}),A.jsx(Na,{path:"/login",element:r?A.jsx(fl,{to:"/"}):A.jsx(kN,{})}),A.jsx(Na,{path:"/profile",element:r?A.jsx(jN,{user:r}):A.jsx(fl,{to:"/login"})}),A.jsx(Na,{path:"/chat",element:r?A.jsx(zN,{user:r}):A.jsx(fl,{to:"/login"})}),A.jsx(Na,{path:"*",element:A.jsx(fl,{to:r?"/":"/login"})})]})})}BS.createRoot(document.getElementById("root")).render(A.jsx(rt.StrictMode,{children:A.jsx(BN,{})}));
